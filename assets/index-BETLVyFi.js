import{c as b}from"./createLucideIcon-Dgvve5ec.js";const E=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],q=b("external-link",E);function j(...n){console.error(...n)}function P(n,t,e=!0){let r,a=[];if(typeof n=="object"){if(r=n.url,Array.isArray(n.ignore))a=n.ignore.map(o=>o.startsWith("?")||o.startsWith("&")?o.substring(1):o);else if(typeof n.ignore=="string"){let o=n.ignore;(o.startsWith("?")||o.startsWith("&"))&&(o=o.substring(1)),a.push(o)}}else r=n;const s=new URL(r);if(t===null)return s.search="",s.toString();let f=s.search.substring(1);const i=f.length>0?f.split("&"):[],d=[],p=[];for(const o of i)a.includes(o)?d.push(o):p.push(o);const u=new URLSearchParams(p.join("&"));for(const[o,m]of Object.entries(t)){const c=m===null?"":String(m);!e&&u.has(o)||u.set(o,c)}const g=d.concat(u.toString().split("&").filter(o=>o)).join("&");return s.search=g?"?"+g:"",s.toString()}function D(n,t,e=!0){e&&(t=JSON.stringify(t)),window.localStorage.setItem(n,t)}function H(n,t=!0){let e=window.localStorage.getItem(n);if(t)try{e=JSON.parse(e)}catch(r){j("Error while parsing stored json value: ",r)}return e}function S(n,t=new FormData){const{data:e,parentKey:r=""}=n;if(e instanceof FormData)e.forEach((a,s)=>{t.append(s,a)});else if(e!==null&&typeof e=="object")if(e instanceof Blob||e instanceof File){const a=r||"file";t.append(a,e)}else Object.keys(e).forEach(a=>{const s=e[a],f=r?`${r}[${a}]`:a;s!==null&&typeof s=="object"?S({data:s,parentKey:f},t):s!==null&&t.append(f,String(s))});else e!==null&&t.append(r,e);return t}function L(n,t=""){return n instanceof FormData?n:S({data:n,parentKey:t})}function U(n){const t={};return n.forEach((e,r)=>{typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e===null?t[r]=e:t[r]=e.toString()}),t}function O(n){const t={};return n instanceof FormData?U(n):(typeof n=="object"&&Object.entries(n).forEach(([e,r])=>{typeof r=="string"||typeof r=="number"||typeof r=="boolean"||r===null?t[e]=r:t[e]=JSON.stringify(r)}),t)}async function R(n){const{url:t,method:e="GET",headers:r={},cache:a="no-cache",mode:s="cors",credentials:f="same-origin",body:i=null,beforeSend:d=null,success:p=null,error:u=null}=n;let l=t;const g=r instanceof Headers?r:new Headers(r),o={method:e,mode:s,headers:g,cache:a,credentials:f};if(i&&i!==null&&e.toUpperCase()==="GET"){const c=O(i);l=P(typeof t=="string"?t:t.toString(),c,!0)}else if(i&&i!==null&&["PUT","POST","DELETE"].includes(e.toUpperCase())){let c=i;i instanceof FormData||(c=JSON.stringify(i),o.headers instanceof Headers||(o.headers=new Headers(o.headers)),o.headers.append("Content-Type","application/json")),o.body=c}let m;if(typeof l=="string"||l instanceof URL)m=new Request(l,o);else if(l instanceof Request)m=l;else throw new Error("Invalid URL type");try{const c=await new Promise(y=>{d?.(),y(m)}),h=await fetch(c);if(h.ok){if(typeof p=="function"){const w=await h.clone().json();p?.(w)}}else throw new Error(`HTTP error! status: ${h.status}`);return h}catch(c){const h=c instanceof Error?c:new Error(String(c));throw u?.(h),h}}async function T(n){const{url:t,data:e,method:r="POST",headers:a,cache:s,mode:f,credentials:i,success:d,error:p,beforeSend:u,encode:l=!0}=n,g={url:t,method:r,headers:a,cache:s,mode:f,credentials:i,body:l&&r.toUpperCase()!=="GET"?L(e):e,beforeSend:u,success:d,error:p};return(await R(g)).json()}const N=T;export{q as E,N as f,H as g,D as s};

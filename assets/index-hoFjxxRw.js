import{a as u,o as a,G as N,r as bn,z as Lt,w as vn,L as yn}from"./chunk-WWGJGFF6-CJwpp1BS.js";import{g as wn,s as jn}from"./index-Cpx2NyP8.js";import{c as P}from"./createLucideIcon-LQgJ85oz.js";import{A as br}from"./arrow-left-Dgfy1sxC.js";import{I as Ae}from"./image-BX_HR7zP.js";import{a as Nn}from"./index-i8qMm0el.js";import{X as vr}from"./x-GQOpm4jL.js";import{a as Ct,C as En}from"./circle-alert-BQ8RIZ1B.js";import{T as yr}from"./triangle-alert-CDBo2zQu.js";import{M as wr,U as kn}from"./upload-B8V-oApr.js";import{W as Sn,D as $n,L as Cn,K as Tn,E as zt,G as An,T as Te}from"./index-BxMikLpS.js";import{C as Rn}from"./clock-BRwgOyPy.js";import{T as Pn}from"./trash-2-LeIvAzQL.js";import{E as Fn}from"./external-link-BviELRYq.js";import{E as _t}from"./eye-DMsks5er.js";const In=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Mn=P("battery",In);const Dn=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ft=P("chevron-left",Dn);const On=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ln=P("circle-check-big",On);const zn=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ut=P("clock-3",zn);const _n=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Vt=P("ellipsis-vertical",_n);const Un=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ht=P("ellipsis",Un);const Vn=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Hn=P("file-down",Vn);const Gn=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Bn=P("file-up",Gn);const Wn=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],qn=P("grip-vertical",Wn);const Kn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jr=P("info",Kn);const Yn=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ge=P("mic",Yn);const Xn=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Gt=P("phone",Xn);const Jn=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bt=P("play",Jn);const Qn=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zn=P("plus",Qn);const ea=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ta=P("refresh-cw",ea);const ra=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],na=P("save",ra);const aa=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],sa=P("signal",aa);const la=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Be=P("smile",la);const ia=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],oa=P("sparkles",ia);const ca=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ua=P("type",ca);const da=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],fa=P("video",da);const ma=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ha=P("wifi",ma);function pa(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),s=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(s),t&&(n.href=t),s.href=e,s.href}const xa=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ue(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let ke=null;function Nr(e={}){return ke||(e.includeStyleProperties?(ke=e.includeStyleProperties,ke):(ke=ue(window.getComputedStyle(document.documentElement)),ke))}function We(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function ga(e){const t=We(e,"border-left-width"),r=We(e,"border-right-width");return e.clientWidth+t+r}function ba(e){const t=We(e,"border-top-width"),r=We(e,"border-bottom-width");return e.clientHeight+t+r}function Er(e,t={}){const r=t.width||ga(e),n=t.height||ba(e);return{width:r,height:n}}function va(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const H=16384;function ya(e){(e.width>H||e.height>H)&&(e.width>H&&e.height>H?e.width>e.height?(e.height*=H/e.width,e.width=H):(e.width*=H/e.height,e.height=H):e.width>H?(e.height*=H/e.width,e.width=H):(e.width*=H/e.height,e.height=H))}function qe(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function wa(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function ja(e,t,r){const n="http://www.w3.org/2000/svg",s=document.createElementNS(n,"svg"),l=document.createElementNS(n,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${r}`),s.setAttribute("viewBox",`0 0 ${t} ${r}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),s.appendChild(l),l.appendChild(e),wa(s)}const _=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||_(r,t)};function Na(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ea(e,t){return Nr(t).map(r=>{const n=e.getPropertyValue(r),s=e.getPropertyPriority(r);return`${r}: ${n}${s?" !important":""};`}).join(" ")}function ka(e,t,r,n){const s=`.${e}:${t}`,l=r.cssText?Na(r):Ea(r,n);return document.createTextNode(`${s}{${l}}`)}function Wt(e,t,r,n){const s=window.getComputedStyle(e,r),l=s.getPropertyValue("content");if(l===""||l==="none")return;const o=xa();try{t.className=`${t.className} ${o}`}catch{return}const i=document.createElement("style");i.appendChild(ka(o,r,s,n)),t.appendChild(i)}function Sa(e,t,r){Wt(e,t,":before",r),Wt(e,t,":after",r)}const qt="application/font-woff",Kt="image/jpeg",$a={woff:qt,woff2:qt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Kt,jpeg:Kt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ca(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Tt(e){const t=Ca(e).toLowerCase();return $a[t]||""}function Ta(e){return e.split(/,/)[1]}function yt(e){return e.search(/^(data:)/)!==-1}function Aa(e,t){return`data:${t};base64,${e}`}async function kr(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const s=await n.blob();return new Promise((l,o)=>{const i=new FileReader;i.onerror=o,i.onloadend=()=>{try{l(r({res:n,result:i.result}))}catch(c){o(c)}},i.readAsDataURL(s)})}const mt={};function Ra(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function At(e,t,r){const n=Ra(e,t,r.includeQueryParams);if(mt[n]!=null)return mt[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const l=await kr(e,r.fetchRequestInit,({res:o,result:i})=>(t||(t=o.headers.get("Content-Type")||""),Ta(i)));s=Aa(l,t)}catch(l){s=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;l&&(o=typeof l=="string"?l:l.message),o&&console.warn(o)}return mt[n]=s,s}async function Pa(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):qe(t)}async function Fa(e,t){if(e.currentSrc){const l=document.createElement("canvas"),o=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,o?.drawImage(e,0,0,l.width,l.height);const i=l.toDataURL();return qe(i)}const r=e.poster,n=Tt(r),s=await At(r,n,t);return qe(s)}async function Ia(e,t){var r;try{if(!((r=e?.contentDocument)===null||r===void 0)&&r.body)return await Je(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Ma(e,t){return _(e,HTMLCanvasElement)?Pa(e):_(e,HTMLVideoElement)?Fa(e,t):_(e,HTMLIFrameElement)?Ia(e,t):e.cloneNode(Sr(e))}const Da=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Sr=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Oa(e,t,r){var n,s;if(Sr(t))return t;let l=[];return Da(e)&&e.assignedNodes?l=ue(e.assignedNodes()):_(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?l=ue(e.contentDocument.body.childNodes):l=ue(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),l.length===0||_(e,HTMLVideoElement)||await l.reduce((o,i)=>o.then(()=>Je(i,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function La(e,t,r){const n=t.style;if(!n)return;const s=window.getComputedStyle(e);s.cssText?(n.cssText=s.cssText,n.transformOrigin=s.transformOrigin):Nr(r).forEach(l=>{let o=s.getPropertyValue(l);l==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),_(e,HTMLIFrameElement)&&l==="display"&&o==="inline"&&(o="block"),l==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(l,o,s.getPropertyPriority(l))})}function za(e,t){_(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),_(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function _a(e,t){if(_(e,HTMLSelectElement)){const n=Array.from(t.children).find(s=>e.value===s.getAttribute("value"));n&&n.setAttribute("selected","")}}function Ua(e,t,r){return _(t,Element)&&(La(e,t,r),Sa(e,t,r),za(e,t),_a(e,t)),t}async function Va(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let l=0;l<r.length;l++){const i=r[l].getAttribute("xlink:href");if(i){const c=e.querySelector(i),d=document.querySelector(i);!c&&d&&!n[i]&&(n[i]=await Je(d,t,!0))}}const s=Object.values(n);if(s.length){const l="http://www.w3.org/1999/xhtml",o=document.createElementNS(l,"svg");o.setAttribute("xmlns",l),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const i=document.createElementNS(l,"defs");o.appendChild(i);for(let c=0;c<s.length;c++)i.appendChild(s[c]);e.appendChild(o)}return e}async function Je(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Ma(n,t)).then(n=>Oa(e,n,t)).then(n=>Ua(e,n,t)).then(n=>Va(n,t))}const $r=/url\((['"]?)([^'"]+?)\1\)/g,Ha=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ga=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ba(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Wa(e){const t=[];return e.replace($r,(r,n,s)=>(t.push(s),r)),t.filter(r=>!yt(r))}async function qa(e,t,r,n,s){try{const l=r?pa(t,r):t,o=Tt(t);let i;return s||(i=await At(l,o,n)),e.replace(Ba(t),`$1${i}$3`)}catch{}return e}function Ka(e,{preferredFontFormat:t}){return t?e.replace(Ga,r=>{for(;;){const[n,,s]=Ha.exec(r)||[];if(!s)return"";if(s===t)return`src: ${n};`}}):e}function Cr(e){return e.search($r)!==-1}async function Tr(e,t,r){if(!Cr(e))return e;const n=Ka(e,r);return Wa(n).reduce((l,o)=>l.then(i=>qa(i,o,t,r)),Promise.resolve(n))}async function Se(e,t,r){var n;const s=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(s){const l=await Tr(s,null,r);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function Ya(e,t){await Se("background",e,t)||await Se("background-image",e,t),await Se("mask",e,t)||await Se("-webkit-mask",e,t)||await Se("mask-image",e,t)||await Se("-webkit-mask-image",e,t)}async function Xa(e,t){const r=_(e,HTMLImageElement);if(!(r&&!yt(e.src))&&!(_(e,SVGImageElement)&&!yt(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,s=await At(n,Tt(n),t);await new Promise((l,o)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...c)=>{try{l(t.onImageErrorHandler(...c))}catch(d){o(d)}}:o;const i=e;i.decode&&(i.decode=l),i.loading==="lazy"&&(i.loading="eager"),r?(e.srcset="",e.src=s):e.href.baseVal=s})}async function Ja(e,t){const n=ue(e.childNodes).map(s=>Ar(s,t));await Promise.all(n).then(()=>e)}async function Ar(e,t){_(e,Element)&&(await Ya(e,t),await Xa(e,t),await Ja(e,t))}function Qa(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(s=>{r[s]=n[s]}),e}const Yt={};async function Xt(e){let t=Yt[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},Yt[e]=t,t}async function Jt(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,l=(r.match(/url\([^)]+\)/g)||[]).map(async o=>{let i=o.replace(n,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),kr(i,t.fetchRequestInit,({result:c})=>(r=r.replace(o,`url(${c})`),[o,c]))});return Promise.all(l).then(()=>r)}function Qt(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=s.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(s,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(o,"gi");for(;;){let c=l.exec(n);if(c===null){if(c=i.exec(n),c===null)break;l.lastIndex=i.lastIndex}else i.lastIndex=l.lastIndex;t.push(c[0])}return t}async function Za(e,t){const r=[],n=[];return e.forEach(s=>{if("cssRules"in s)try{ue(s.cssRules||[]).forEach((l,o)=>{if(l.type===CSSRule.IMPORT_RULE){let i=o+1;const c=l.href,d=Xt(c).then(f=>Jt(f,t)).then(f=>Qt(f).forEach(x=>{try{s.insertRule(x,x.startsWith("@import")?i+=1:s.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:x,error:p})}})).catch(f=>{console.error("Error loading remote css",f.toString())});n.push(d)}})}catch(l){const o=e.find(i=>i.href==null)||document.styleSheets[0];s.href!=null&&n.push(Xt(s.href).then(i=>Jt(i,t)).then(i=>Qt(i).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",l)}}),Promise.all(n).then(()=>(e.forEach(s=>{if("cssRules"in s)try{ue(s.cssRules||[]).forEach(l=>{r.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${s.href}`,l)}}),r))}function es(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Cr(t.style.getPropertyValue("src")))}async function ts(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=ue(e.ownerDocument.styleSheets),n=await Za(r,t);return es(n)}function Rr(e){return e.trim().replace(/["']/g,"")}function rs(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(l=>{t.add(Rr(l))}),Array.from(n.children).forEach(l=>{l instanceof HTMLElement&&r(l)})}return r(e),t}async function ns(e,t){const r=await ts(e,t),n=rs(e);return(await Promise.all(r.filter(l=>n.has(Rr(l.style.fontFamily))).map(l=>{const o=l.parentStyleSheet?l.parentStyleSheet.href:null;return Tr(l.cssText,o,t)}))).join(`
`)}async function as(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ns(e,t);if(r){const n=document.createElement("style"),s=document.createTextNode(r);n.appendChild(s),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function ss(e,t={}){const{width:r,height:n}=Er(e,t),s=await Je(e,t,!0);return await as(s,t),await Ar(s,t),Qa(s,t),await ja(s,r,n)}async function ls(e,t={}){const{width:r,height:n}=Er(e,t),s=await ss(e,t),l=await qe(s),o=document.createElement("canvas"),i=o.getContext("2d"),c=t.pixelRatio||va(),d=t.canvasWidth||r,f=t.canvasHeight||n;return o.width=d*c,o.height=f*c,t.skipAutoScale||ya(o),o.style.width=`${d}`,o.style.height=`${f}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,o.width,o.height)),i.drawImage(l,0,0,o.width,o.height),o}async function is(e,t={}){return(await ls(e,t)).toDataURL()}const Zt={time:"12:34",batteryLevel:85,partnerName:"Babe â¤ï¸",partnerAvatar:"https://picsum.photos/100/100",myAvatar:"https://picsum.photos/101/101",isTyping:!1},er=[{id:"1",text:"Hey! What do you want for dinner tonight?",isSender:!1,timestamp:"12:30",isRead:!0},{id:"2",text:"I want hot pot ðŸ²",isSender:!0,timestamp:"12:31",isRead:!0}],os=[{id:"instagram",name:"Instagram",icon:"camera"},{id:"line",name:"LINE",icon:"message-circle"},{id:"telegram",name:"Telegram",icon:"send"},{id:"tiktok",name:"TikTok",icon:"music"}],cs=["ðŸ˜€","ðŸ˜‚","ðŸ¥°","ðŸ˜","ðŸ˜˜","ðŸ¥º","ðŸ˜¢","ðŸ˜­","ðŸ˜¡","ðŸ¤”","ðŸ˜±","ðŸ™„","ðŸ˜´","ðŸ¤—","ðŸ¤£","ðŸ˜Ž","â¤ï¸","ðŸ’•","ðŸ’–","ðŸ’”","ðŸ”¥","âœ¨","ðŸŽ‰","ðŸ‘","ðŸ‘Ž","ðŸ‘","ðŸ™","ðŸ’ª","ðŸ¤","ðŸ‘‹","âœŒï¸","ðŸ¤ž","ðŸ•","ðŸ”","ðŸœ","ðŸ²","ðŸº","â˜•","ðŸŽ‚","ðŸ°","ðŸŽ","ðŸŽˆ","ðŸŽŠ","ðŸ’","ðŸŒ¹","ðŸŒ¸","â­","ðŸŒ™"],us=["â¤ï¸","ðŸ˜‚","ðŸ˜®","ðŸ˜¢","ðŸ˜¡","ðŸ‘"],tr=e=>{const t=Math.floor(e/60),r=e%60;return`${t}:${r.toString().padStart(2,"0")}`},Pr=u.forwardRef(({platform:e,messages:t,settings:r,onUpdateMessage:n},s)=>{const[l,o]=u.useState(null),[i,c]=u.useState(null),d=m=>{if(e!=="instagram")return;const g=setTimeout(()=>{o(m)},500);c(g)},f=()=>{i&&(clearTimeout(i),c(null))},x=m=>{if(l){const $=t.find(C=>C.id===l)?.reaction===m?void 0:m;n(l,{reaction:$}),o(null)}};u.useEffect(()=>{const m=g=>{l&&!g.target.closest(".reaction-picker")&&o(null)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[l]);const p=()=>{switch(e){case"instagram":return a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-100 text-black",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ft,{size:28}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:r.partnerAvatar,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold leading-tight",children:r.partnerName}),a.jsx("p",{className:"text-[10px] text-gray-400 leading-tight",children:"Active now"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-5 text-black",children:[a.jsx(Gt,{size:24}),a.jsx(fa,{size:26})]})]});case"line":return a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#202732] text-white",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ft,{size:24}),a.jsx("h3",{className:"text-lg font-medium",children:r.partnerName})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Gt,{size:20}),a.jsx(Vt,{size:20})]})]});case"telegram":return a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#517da2] text-white",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(br,{size:24}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:r.partnerAvatar,alt:"avatar",className:"w-9 h-9 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold leading-tight",children:r.partnerName}),a.jsx("p",{className:"text-[11px] text-gray-200 opacity-80 leading-tight",children:"last seen recently"})]})]})]}),a.jsx(Vt,{size:22})]});case"tiktok":return a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black text-white border-b border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ft,{size:24}),a.jsx("div",{className:"text-center",children:a.jsx("h3",{className:"text-sm font-bold",children:r.partnerName})})]}),a.jsx(Ht,{size:24})]})}},b=()=>{switch(e){case"line":return"bg-[#9BB8DB]";case"telegram":return"bg-[#89a2b5]";case"tiktok":return"bg-black";case"instagram":default:return"bg-white"}},v=()=>{const m="w-2 h-2 rounded-full animate-bounce";switch(e){case"instagram":return a.jsxs("div",{className:"flex w-full mb-3 justify-start items-end gap-2",children:[a.jsx("img",{src:r.partnerAvatar,className:"w-7 h-7 rounded-full object-cover mb-1"}),a.jsxs("div",{className:"bg-[#efefef] px-4 py-3 rounded-3xl rounded-bl-md flex items-center gap-1.5",children:[a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"0ms"}}),a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"150ms"}}),a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"300ms"}})]})]});case"line":return a.jsxs("div",{className:"flex w-full mb-4 justify-start items-start gap-2",children:[a.jsx("img",{src:r.partnerAvatar,className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-xs text-gray-600 mb-1 ml-1",children:r.partnerName}),a.jsxs("div",{className:"bg-white px-4 py-2.5 rounded-2xl shadow-sm flex items-center gap-1.5 relative after:absolute after:top-2 after:-left-1 after:w-3 after:h-3 after:bg-white after:rotate-45",children:[a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"0ms"}}),a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"150ms"}}),a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"300ms"}})]})]})]});case"telegram":return a.jsxs("div",{className:"flex w-full mb-2 justify-start gap-2",children:[a.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover self-end mb-1"}),a.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm flex items-center gap-1.5",children:[a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"0ms"}}),a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"150ms"}}),a.jsx("div",{className:`${m} bg-gray-400`,style:{animationDelay:"300ms"}})]})]});case"tiktok":return a.jsxs("div",{className:"flex w-full mb-3 justify-start items-end gap-2",children:[a.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover mb-1"}),a.jsxs("div",{className:"bg-[#383838] px-4 py-2.5 rounded-2xl rounded-bl-sm flex items-center gap-1.5",children:[a.jsx("div",{className:`${m} bg-gray-500`,style:{animationDelay:"0ms"}}),a.jsx("div",{className:`${m} bg-gray-500`,style:{animationDelay:"150ms"}}),a.jsx("div",{className:`${m} bg-gray-500`,style:{animationDelay:"300ms"}})]})]});default:return null}},y=(m,g,$="bars")=>$==="line"?a.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[a.jsx("div",{className:`p-1.5 rounded-full ${m?"bg-black/20":"bg-gray-200"}`,children:a.jsx(Bt,{size:12,fill:"currentColor"})}),a.jsx("div",{className:"flex-1 h-1 bg-gray-300 rounded-full relative overflow-hidden",children:a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1/3 bg-current opacity-50"})}),a.jsx("span",{className:"text-xs font-medium",children:tr(g)})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-1 rounded-full ${m?"text-white":"text-black"}`,children:a.jsx(Bt,{size:14,fill:"currentColor"})}),a.jsx("div",{className:"flex items-end gap-0.5 h-4",children:[...Array(15)].map((C,R)=>a.jsx("div",{className:`w-0.5 rounded-full ${m?"bg-white/80":"bg-black/40"}`,style:{height:`${Math.max(20,Math.random()*100)}%`}},R))}),a.jsx("span",{className:"text-xs",children:tr(g)})]}),j=m=>{const g=m.isSender;if(e==="instagram"){const $=l===m.id;return a.jsxs("div",{className:`flex w-full mb-3 relative group ${g?"justify-end":"justify-start items-end gap-2"}`,children:[!g&&a.jsx("img",{src:r.partnerAvatar,className:"w-7 h-7 rounded-full object-cover mb-1"}),a.jsxs("div",{className:"relative",children:[$&&a.jsx("div",{className:`reaction-picker absolute -top-14 ${g?"right-0":"left-0"} bg-[#262626] rounded-full px-2 py-1.5 flex gap-1 z-30 shadow-xl animate-in zoom-in duration-200`,children:us.map(C=>a.jsx("button",{onClick:()=>x(C),className:"w-8 h-8 flex items-center justify-center text-xl hover:scale-125 transition-transform",children:C},C))}),a.jsxs("div",{onMouseDown:()=>d(m.id),onMouseUp:f,onMouseLeave:f,onTouchStart:()=>d(m.id),onTouchEnd:f,onContextMenu:C=>C.preventDefault(),className:`max-w-60 px-4 py-2.5 text-[15px] leading-snug rounded-3xl relative select-none cursor-pointer transition-transform active:scale-95 ${g?"bg-[#3797f0] text-white rounded-br-md":"bg-[#efefef] text-black rounded-bl-md"}`,children:[m.image?a.jsx("img",{src:m.image,className:"rounded-lg max-w-full"}):m.audioDuration?y(g,m.audioDuration,"bars"):m.text,a.jsx("div",{className:`text-[9px] mt-1 text-right ${g?"text-blue-100/80":"text-gray-400"}`,children:m.timestamp})]}),m.reaction&&a.jsx("div",{className:`absolute -bottom-2 ${g?"-left-1":"-right-1"} bg-white border-2 border-white rounded-full p-0.5 w-[22px] h-[22px] flex items-center justify-center shadow-sm z-10 text-[12px]`,children:m.reaction})]})]},m.id)}if(e==="line")return a.jsxs("div",{className:`flex w-full mb-4 ${g?"justify-end":"justify-start items-start gap-2"}`,children:[!g&&a.jsx("img",{src:r.partnerAvatar,className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{className:`flex flex-col ${g?"items-end":"items-start"}`,children:[!g&&a.jsx("span",{className:"text-xs text-gray-600 mb-1 ml-1",children:r.partnerName}),a.jsxs("div",{className:"flex items-end gap-1.5",children:[g&&a.jsxs("div",{className:"flex flex-col items-end text-[10px] text-gray-600 min-w-[30px]",children:[m.isRead&&a.jsx("span",{children:"Read"}),a.jsx("span",{children:m.timestamp})]}),a.jsx("div",{className:`max-w-[220px] px-3 py-2 text-[14px] rounded-2xl shadow-sm relative leading-relaxed wrap-break-words ${g?"bg-[#85E249] text-black after:absolute after:top-2 after:-right-1 after:w-3 after:h-3 after:bg-[#85E249] after:rotate-45":"bg-white text-black after:absolute after:top-2 after:-left-1 after:w-3 after:h-3 after:bg-white after:rotate-45"}`,children:m.image?a.jsx("img",{src:m.image,className:"rounded-lg max-w-full"}):m.audioDuration?y(g,m.audioDuration,"line"):m.text}),!g&&a.jsx("span",{className:"text-[10px] text-gray-600 self-end",children:m.timestamp})]})]})]},m.id);if(e==="telegram")return a.jsxs("div",{className:`flex w-full mb-2 ${g?"justify-end":"justify-start gap-2"}`,children:[!g&&a.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover self-end mb-1"}),a.jsxs("div",{className:`max-w-[75%] px-3 py-1.5 rounded-lg text-[15px] shadow-sm relative min-w-[60px] ${g?"bg-[#eeffde] text-black":"bg-white text-black"}`,children:[a.jsx("div",{className:"wrap-break-words mb-1",children:m.image?a.jsx("img",{src:m.image,className:"rounded-lg max-w-full"}):m.audioDuration?y(g,m.audioDuration,"line"):m.text}),a.jsxs("div",{className:`text-[11px] flex items-center justify-end gap-1 ${g?"text-[#55a060]":"text-gray-400"}`,children:[a.jsx("span",{children:m.timestamp}),g&&a.jsx("span",{className:"font-bold text-[10px]",children:"âœ“âœ“"})]})]})]},m.id);if(e==="tiktok")return a.jsxs("div",{className:`flex w-full mb-3 ${g?"justify-end":"justify-start items-end gap-2"}`,children:[!g&&a.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover mb-1"}),a.jsxs("div",{className:`max-w-[70%] px-4 py-2.5 text-[15px] rounded-2xl ${g?"bg-[#2CB6D3] text-white rounded-br-sm":"bg-[#383838] text-white rounded-bl-sm"}`,children:[m.image?a.jsx("img",{src:m.image,className:"rounded-lg max-w-full"}):m.audioDuration?y(g,m.audioDuration,"bars"):m.text,a.jsx("div",{className:`text-[9px] mt-1 text-right ${g?"text-white/70":"text-gray-400"}`,children:m.timestamp})]})]},m.id)},w=()=>{switch(e){case"instagram":return a.jsx("div",{className:"px-4 py-3 bg-white flex items-center gap-3 border-t border-gray-100",children:a.jsxs("div",{className:"bg-[#efefef] flex-1 rounded-full px-4 py-2.5 flex items-center gap-2",children:[a.jsx("div",{className:"bg-blue-500 rounded-full p-1 text-white",children:a.jsx(Ae,{size:12,fill:"white"})}),a.jsx("span",{className:"text-gray-400 text-sm",children:"Message..."}),a.jsxs("div",{className:"ml-auto flex gap-3 text-gray-500",children:[a.jsx(Ge,{size:20}),a.jsx(Ae,{size:20}),a.jsx(Be,{size:20})]})]})});case"line":return a.jsxs("div",{className:"px-3 py-2 bg-white flex items-center gap-3",children:[a.jsx(Ht,{size:24,className:"text-gray-400"}),a.jsx(Ae,{size:24,className:"text-gray-400"}),a.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl px-3 py-2 text-sm text-gray-400",children:"Aa"}),a.jsx(Ge,{size:20,className:"text-gray-400"})]});case"telegram":return a.jsxs("div",{className:"px-2 py-2 bg-white flex items-center gap-2",children:[a.jsx(Be,{size:28,className:"text-gray-400 p-1"}),a.jsx("div",{className:"flex-1 text-lg text-gray-400 pl-1",children:"Message"}),a.jsx(Ae,{size:28,className:"text-gray-400 p-1"}),a.jsx(Ge,{size:28,className:"text-gray-400 p-1"})]});case"tiktok":return a.jsxs("div",{className:"px-4 py-3 bg-black border-t border-gray-800 flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 bg-[#252525] rounded-full px-4 py-2.5 flex items-center",children:a.jsx("span",{className:"text-gray-500 text-sm",children:"Send a message..."})}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Be,{size:24})})]})}},S=e==="line"?"bg-[#202732] text-white":e==="tiktok"?"bg-black text-white":e==="telegram"?"bg-[#517da2] text-white":"bg-white text-black";return a.jsx("div",{className:"w-full flex justify-center py-4 bg-gray-100 min-h-full",children:a.jsxs("div",{ref:s,className:"relative w-[375px] h-[812px] bg-white shadow-2xl overflow-hidden flex flex-col font-sans",style:{fontFamily:e==="line"?"sans-serif":"inherit"},children:[a.jsxs("div",{className:`px-5 py-2 flex justify-between items-end text-sm font-semibold h-11 ${S} z-10`,children:[a.jsx("div",{className:"tracking-wide",children:r.time}),a.jsxs("div",{className:"flex gap-1.5 items-center",children:[a.jsx(sa,{size:16,className:"fill-current"}),a.jsx(ha,{size:16}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:"text-xs font-normal",children:[r.batteryLevel,"%"]}),a.jsx(Mn,{size:18,className:"fill-current"})]})]})]}),a.jsx("div",{className:"z-10",children:p()}),a.jsxs("div",{className:`flex-1 overflow-y-auto no-scrollbar p-4 flex flex-col ${r.backgroundImage?"bg-no-repeat bg-cover bg-center":b()}`,style:r.backgroundImage?{backgroundImage:`url(${r.backgroundImage})`}:{},children:[t.map(j),r.isTyping&&v()]}),a.jsxs("div",{className:"z-10 relative",children:[w(),a.jsx("div",{className:`absolute bottom-1 left-1/2 transform -translate-x-1/2 w-32 h-1 rounded-full ${e==="tiktok"||e==="line"?"bg-white/20":"bg-black/20"}`})]})]})})});Pr.displayName="ChatPreview";var ds=Object.defineProperty,fs=(e,t,r)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t,r)=>(fs(e,typeof t!="symbol"?t+"":t,r),r);let ms=class{constructor(){ht(this,"current",this.detect()),ht(this,"handoffState","pending"),ht(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},J=new ms;function Le(e){var t;return J.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function wt(e){var t,r;return J.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function Fr(e){var t,r;return(r=(t=wt(e))==null?void 0:t.activeElement)!=null?r:null}function hs(e){return Fr(e)===e}function Qe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function le(){let e=[],t={addEventListener(r,n,s,l){return r.addEventListener(n,s,l),t.add(()=>r.removeEventListener(n,s,l))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Qe(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let l=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:l})})},group(r){let n=le();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function Ze(){let[e]=u.useState(le);return u.useEffect(()=>()=>e.dispose(),[e]),e}let U=(e,t)=>{J.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function ye(e){let t=u.useRef(e);return U(()=>{t.current=e},[e]),t}let T=function(e){let t=ye(e);return N.useCallback((...r)=>t.current(...r),[t])};function ze(e){return u.useMemo(()=>e,Object.values(e))}let ps=u.createContext(void 0);function xs(){return u.useContext(ps)}function jt(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ae(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ae),n}var Ke=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ke||{}),oe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(oe||{});function W(){let e=bs();return u.useCallback(t=>gs({mergeRefs:e,...t}),[e])}function gs({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:l=!0,name:o,mergeRefs:i}){i=i??vs;let c=Ir(t,e);if(l)return Ve(c,r,n,o,i);let d=s??0;if(d&2){let{static:f=!1,...x}=c;if(f)return Ve(x,r,n,o,i)}if(d&1){let{unmount:f=!0,...x}=c;return ae(f?0:1,{0(){return null},1(){return Ve({...x,hidden:!0,style:{display:"none"}},r,n,o,i)}})}return Ve(c,r,n,o,i)}function Ve(e,t={},r,n,s){let{as:l=r,children:o,refName:i="ref",...c}=pt(e,["unmount","static"]),d=e.ref!==void 0?{[i]:e.ref}:{},f=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let x={};if(t){let p=!1,b=[];for(let[v,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&b.push(v.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(p){x["data-headlessui-state"]=b.join(" ");for(let v of b)x[`data-${v}`]=""}}if(Ie(l)&&(Object.keys(xe(c)).length>0||Object.keys(xe(x)).length>0))if(!u.isValidElement(f)||Array.isArray(f)&&f.length>1||ws(f)){if(Object.keys(xe(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xe(c)).concat(Object.keys(xe(x))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=f.props,b=p?.className,v=typeof b=="function"?(...w)=>jt(b(...w),c.className):jt(b,c.className),y=v?{className:v}:{},j=Ir(f.props,xe(pt(c,["ref"])));for(let w in x)w in j&&delete x[w];return u.cloneElement(f,Object.assign({},j,x,d,{ref:s(ys(f),d.ref)},y))}return u.createElement(l,Object.assign({},pt(c,["ref"]),!Ie(l)&&d,!Ie(l)&&x),f)}function bs(){let e=u.useRef([]),t=u.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function vs(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Ir(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var l;return(l=s?.preventDefault)==null?void 0:l.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...l){let o=r[n];for(let i of o){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;i(s,...l)}}});return t}function V(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function xe(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function pt(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function ys(e){return N.version.split(".")[0]>="19"?e.props.ref:e.ref}function Ie(e){return e===u.Fragment||e===Symbol.for("react.fragment")}function ws(e){return Ie(e.type)}let js="span";var Ye=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ye||{});function Ns(e,t){var r;let{features:n=1,...s}=e,l={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return W()({ourProps:l,theirProps:s,slot:{},defaultTag:js,name:"Hidden"})}let Nt=V(Ns);function Es(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function de(e){return Es(e)&&"tagName"in e}function ve(e){return de(e)&&"accessKey"in e}function ce(e){return de(e)&&"tabIndex"in e}function ks(e){return de(e)&&"style"in e}function Ss(e){return ve(e)&&e.nodeName==="IFRAME"}function $s(e){return ve(e)&&e.nodeName==="INPUT"}let Mr=Symbol();function Cs(e,t=!0){return Object.assign(e,{[Mr]:t})}function Q(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let r=T(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||n?.[Mr])?void 0:r}let Rt=u.createContext(null);Rt.displayName="DescriptionContext";function Dr(){let e=u.useContext(Rt);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Dr),t}return e}function Ts(){let[e,t]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(r){let n=T(l=>(t(o=>[...o,l]),()=>t(o=>{let i=o.slice(),c=i.indexOf(l);return c!==-1&&i.splice(c,1),i}))),s=u.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return N.createElement(Rt.Provider,{value:s},r.children)},[t])]}let As="p";function Rs(e,t){let r=u.useId(),n=xs(),{id:s=`headlessui-description-${r}`,...l}=e,o=Dr(),i=Q(t);U(()=>o.register(s),[s,o.register]);let c=ze({...o.slot,disabled:n||!1}),d={ref:i,...o.props,id:s};return W()({ourProps:d,theirProps:l,slot:c,defaultTag:As,name:o.name||"Description"})}let Ps=V(Rs),Fs=Object.assign(Ps,{});var Or=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Or||{});let Is=u.createContext(()=>{});function Ms({value:e,children:t}){return N.createElement(Is.Provider,{value:e},t)}let Lr=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var Ds=Object.defineProperty,Os=(e,t,r)=>t in e?Ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ls=(e,t,r)=>(Os(e,t+"",r),r),zr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},B=(e,t,r)=>(zr(e,t,"read from private field"),r?r.call(e):t.get(e)),xt=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},rr=(e,t,r,n)=>(zr(e,t,"write to private field"),t.set(e,r),r),X,Re,Pe;let zs=class{constructor(t){xt(this,X,{}),xt(this,Re,new Lr(()=>new Set)),xt(this,Pe,new Set),Ls(this,"disposables",le()),rr(this,X,t),J.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return B(this,X)}subscribe(t,r){if(J.isServer)return()=>{};let n={selector:t,callback:r,current:t(B(this,X))};return B(this,Pe).add(n),this.disposables.add(()=>{B(this,Pe).delete(n)})}on(t,r){return J.isServer?()=>{}:(B(this,Re).get(t).add(r),this.disposables.add(()=>{B(this,Re).get(t).delete(r)}))}send(t){let r=this.reduce(B(this,X),t);if(r!==B(this,X)){rr(this,X,r);for(let n of B(this,Pe)){let s=n.selector(B(this,X));_r(n.current,s)||(n.current=s,n.callback(s))}for(let n of B(this,Re).get(t.type))n(B(this,X),t)}}};X=new WeakMap,Re=new WeakMap,Pe=new WeakMap;function _r(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:gt(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:gt(e.entries(),t.entries()):nr(e)&&nr(t)?gt(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function gt(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function nr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var _s=Object.defineProperty,Us=(e,t,r)=>t in e?_s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ar=(e,t,r)=>(Us(e,typeof t!="symbol"?t+"":t,r),r),Vs=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Vs||{});let Hs={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let l=e.stack.slice();return l.splice(s,1),l.push(r),n=l,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},Gs=class Ur extends zs{constructor(){super(...arguments),ar(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),ar(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new Ur({stack:[]})}reduce(t,r){return ae(r.type,Hs,t,r)}};const Vr=new Lr(()=>Gs.new());var bt={exports:{}},vt={};var sr;function Bs(){if(sr)return vt;sr=1;var e=bn();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,o=e.useMemo,i=e.useDebugValue;return vt.useSyncExternalStoreWithSelector=function(c,d,f,x,p){var b=s(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function j($){if(!w){if(w=!0,S=$,$=x($),p!==void 0&&v.hasValue){var C=v.value;if(p(C,$))return m=C}return m=$}if(C=m,r(S,$))return C;var R=x($);return p!==void 0&&p(C,R)?(S=$,C):(S=$,m=R)}var w=!1,S,m,g=f===void 0?null:f;return[function(){return j(d())},g===null?void 0:function(){return j(g())}]},[d,f,x,p]);var y=n(c,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=y},[y]),i(y),y},vt}var lr;function Ws(){return lr||(lr=1,bt.exports=Bs()),bt.exports}var qs=Ws();function Hr(e,t,r=_r){return qs.useSyncExternalStoreWithSelector(T(n=>e.subscribe(Ks,n)),T(()=>e.state),T(()=>e.state),T(t),r)}function Ks(e){return e}function _e(e,t){let r=u.useId(),n=Vr.get(t),[s,l]=Hr(n,u.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return U(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?l?s:!0:!1}let Et=new Map,Me=new Map;function ir(e){var t;let r=(t=Me.get(e))!=null?t:0;return Me.set(e,r+1),r!==0?()=>or(e):(Et.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>or(e))}function or(e){var t;let r=(t=Me.get(e))!=null?t:1;if(r===1?Me.delete(e):Me.set(e,r-1),r!==1)return;let n=Et.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Et.delete(e))}function Ys(e,{allowed:t,disallowed:r}={}){let n=_e(e,"inert-others");U(()=>{var s,l;if(!n)return;let o=le();for(let c of(s=r?.())!=null?s:[])c&&o.add(ir(c));let i=(l=t?.())!=null?l:[];for(let c of i){if(!c)continue;let d=Le(c);if(!d)continue;let f=c.parentElement;for(;f&&f!==d.body;){for(let x of f.children)i.some(p=>x.contains(p))||o.add(ir(x));f=f.parentElement}}return o.dispose},[n,t,r])}function Xs(e,t,r){let n=ye(s=>{let l=s.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&r()});u.useEffect(()=>{if(!e)return;let s=t===null?null:ve(t)?t:t.current;if(!s)return;let l=le();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),l.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),l.add(()=>o.disconnect())}return()=>l.dispose()},[t,n,e])}let Xe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Js=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var re=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(re||{}),kt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(kt||{}),Qs=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Qs||{});function Zs(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xe)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function el(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Js)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Gr=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Gr||{});function tl(e,t=0){var r;return e===((r=Le(e))==null?void 0:r.body)?!1:ae(t,{0(){return e.matches(Xe)},1(){let n=e;for(;n!==null;){if(n.matches(Xe))return!0;n=n.parentElement}return!1}})}var rl=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(rl||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ne(e){e?.focus({preventScroll:!0})}let nl=["textarea","input"].join(",");function al(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,nl))!=null?r:!1}function sl(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),l=t(n);if(s===null||l===null)return 0;let o=s.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function De(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let l=Array.isArray(e)?e.length>0?wt(e[0]):document:wt(e),o=Array.isArray(e)?r?sl(e):e:t&64?el(e):Zs(e);s.length>0&&o.length>1&&(o=o.filter(b=>!s.some(v=>v!=null&&"current"in v?v?.current===b:v===b))),n=n??l?.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,x=o.length,p;do{if(f>=x||f+x<=0)return 0;let b=c+f;if(t&16)b=(b+x)%x;else{if(b<0)return 3;if(b>=x)return 1}p=o[b],p?.focus(d),f+=i}while(p!==Fr(p));return t&6&&al(p)&&p.select(),2}function Br(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ll(){return/Android/gi.test(window.navigator.userAgent)}function cr(){return Br()||ll()}function He(e,t,r,n){let s=ye(r);u.useEffect(()=>{if(!e)return;function l(o){s.current(o)}return document.addEventListener(t,l,n),()=>document.removeEventListener(t,l,n)},[e,t,n])}function Wr(e,t,r,n){let s=ye(r);u.useEffect(()=>{if(!e)return;function l(o){s.current(o)}return window.addEventListener(t,l,n),()=>window.removeEventListener(t,l,n)},[e,t,n])}const ur=30;function il(e,t,r){let n=ye(r),s=u.useCallback(function(i,c){if(i.defaultPrevented)return;let d=c(i);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=(function x(p){return typeof p=="function"?x(p()):Array.isArray(p)||p instanceof Set?p:[p]})(t);for(let x of f)if(x!==null&&(x.contains(d)||i.composed&&i.composedPath().includes(x)))return;return!tl(d,Gr.Loose)&&d.tabIndex!==-1&&i.preventDefault(),n.current(i,d)},[n,t]),l=u.useRef(null);He(e,"pointerdown",i=>{var c,d;cr()||(l.current=((d=(c=i.composedPath)==null?void 0:c.call(i))==null?void 0:d[0])||i.target)},!0),He(e,"pointerup",i=>{if(cr()||!l.current)return;let c=l.current;return l.current=null,s(i,()=>c)},!0);let o=u.useRef({x:0,y:0});He(e,"touchstart",i=>{o.current.x=i.touches[0].clientX,o.current.y=i.touches[0].clientY},!0),He(e,"touchend",i=>{let c={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=ur||Math.abs(c.y-o.current.y)>=ur))return s(i,()=>ce(i.target)?i.target:null)},!0),Wr(e,"blur",i=>s(i,()=>Ss(window.document.activeElement)?window.document.activeElement:null),!0)}function Pt(...e){return u.useMemo(()=>Le(...e),[...e])}function qr(e,t,r,n){let s=ye(r);u.useEffect(()=>{e=e??window;function l(o){s.current(o)}return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)},[e,t,n])}function ol(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function cl(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...l){let o=t[s].call(r,...l);o&&(r=o,n.forEach(i=>i()))}}}function ul(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),l=Math.max(0,e-s);r.style(n,"paddingRight",`${l}px`)}}}function dl(){return Br()?{before({doc:e,d:t,meta:r}){function n(s){for(let l of r().containers)for(let o of l())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=le();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",i=>{if(ce(i.target))try{let c=i.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);ce(f)&&!n(f)&&(o=f)}catch{}},!0),t.group(i=>{t.addEventListener(e,"touchstart",c=>{if(i.dispose(),ce(c.target)&&ks(c.target))if(n(c.target)){let d=c.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;i.style(d,"overscrollBehavior","contain")}else i.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",i=>{if(ce(i.target)){if($s(i.target))return;if(n(i.target)){let c=i.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let c=(i=window.scrollY)!=null?i:window.pageYOffset;l!==c&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function fl(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function dr(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let be=cl(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:le(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=dr(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=dr(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[dl(),ul(),fl()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});be.subscribe(()=>{let e=be.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&be.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&be.dispatch("TEARDOWN",r)}});function ml(e,t,r=()=>({containers:[]})){let n=ol(be),s=t?n.get(t):void 0,l=s?s.count>0:!1;return U(()=>{if(!(!t||!e))return be.dispatch("PUSH",t,r),()=>be.dispatch("POP",t,r)},[e,t]),l}function hl(e,t,r=()=>[document.body]){let n=_e(e,"scroll-lock");ml(n,t,s=>{var l;return{containers:[...(l=s.containers)!=null?l:[],r]}})}function pl(e=0){let[t,r]=u.useState(e),n=u.useCallback(c=>r(c),[]),s=u.useCallback(c=>r(d=>d|c),[]),l=u.useCallback(c=>(t&c)===c,[t]),o=u.useCallback(c=>r(d=>d&~c),[]),i=u.useCallback(c=>r(d=>d^c),[]);return{flags:t,setFlag:n,addFlag:s,hasFlag:l,removeFlag:o,toggleFlag:i}}var xl={},fr,mr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((fr=process==null?void 0:xl)==null?void 0:fr.NODE_ENV)==="test"&&typeof((mr=Element?.prototype)==null?void 0:mr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var gl=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(gl||{});function bl(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function vl(e,t,r,n){let[s,l]=u.useState(r),{hasFlag:o,addFlag:i,removeFlag:c}=pl(e&&s?3:0),d=u.useRef(!1),f=u.useRef(!1),x=Ze();return U(()=>{var p;if(e){if(r&&l(!0),!t){r&&i(3);return}return(p=n?.start)==null||p.call(n,r),yl(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(r?(i(3),c(4)):(i(4),c(2)))},run(){f.current?r?(c(3),i(4)):(c(4),i(3)):r?c(1):i(1)},done(){var b;f.current&&Nl(t)||(d.current=!1,c(7),r||l(!1),(b=n?.end)==null||b.call(n,r))}})}},[e,r,t,x]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function yl(e,{prepare:t,run:r,done:n,inFlight:s}){let l=le();return jl(e,{prepare:t,inFlight:s}),l.nextFrame(()=>{r(),l.requestAnimationFrame(()=>{l.add(wl(e,n))})}),l.dispose}function wl(e,t){var r,n;let s=le();if(!e)return s.dispose;let l=!1;s.add(()=>{l=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(i=>i instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(i=>i.finished)).then(()=>{l||t()}),s.dispose)}function jl(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function Nl(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Ft(e,t){let r=u.useRef([]),n=T(e);u.useEffect(()=>{let s=[...r.current];for(let[l,o]of t.entries())if(r.current[l]!==o){let i=n(t,s);return r.current=t,i}},[n,...t])}let et=u.createContext(null);et.displayName="OpenClosedContext";var K=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(K||{});function tt(){return u.useContext(et)}function El({value:e,children:t}){return N.createElement(et.Provider,{value:e},t)}function kl({children:e}){return N.createElement(et.Provider,{value:null},e)}function Sl(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ie=[];Sl(()=>{function e(t){if(!ce(t.target)||t.target===document.body||ie[0]===t.target)return;let r=t.target;r=r.closest(Xe),ie.unshift(r??t.target),ie=ie.filter(n=>n!=null&&n.isConnected),ie.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Kr(e){let t=T(e),r=u.useRef(!1);u.useEffect(()=>(r.current=!1,()=>{r.current=!0,Qe(()=>{r.current&&t()})}),[t])}let Yr=u.createContext(!1);function $l(){return u.useContext(Yr)}function hr(e){return N.createElement(Yr.Provider,{value:e.force},e.children)}function Cl(e){let t=$l(),r=u.useContext(Jr),[n,s]=u.useState(()=>{var l;if(!t&&r!==null)return(l=r.current)!=null?l:null;if(J.isServer)return null;let o=e?.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)});return u.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),u.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let Xr=u.Fragment,Tl=V(function(e,t){let{ownerDocument:r=null,...n}=e,s=u.useRef(null),l=Q(Cs(p=>{s.current=p}),t),o=Pt(s.current),i=r??o,c=Cl(i),d=u.useContext(St),f=Ze(),x=W();return Kr(()=>{var p;c&&c.childNodes.length<=0&&((p=c.parentElement)==null||p.removeChild(c))}),c?Nn.createPortal(N.createElement("div",{"data-headlessui-portal":"",ref:p=>{f.dispose(),d&&p&&f.add(d.register(p))}},x({ourProps:{ref:l},theirProps:n,slot:{},defaultTag:Xr,name:"Portal"})),c):null});function Al(e,t){let r=Q(t),{enabled:n=!0,ownerDocument:s,...l}=e,o=W();return n?N.createElement(Tl,{...l,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:l,slot:{},defaultTag:Xr,name:"Portal"})}let Rl=u.Fragment,Jr=u.createContext(null);function Pl(e,t){let{target:r,...n}=e,s={ref:Q(t)},l=W();return N.createElement(Jr.Provider,{value:r},l({ourProps:s,theirProps:n,defaultTag:Rl,name:"Popover.Group"}))}let St=u.createContext(null);function Fl(){let e=u.useContext(St),t=u.useRef([]),r=T(l=>(t.current.push(l),e&&e.register(l),()=>n(l))),n=T(l=>{let o=t.current.indexOf(l);o!==-1&&t.current.splice(o,1),e&&e.unregister(l)}),s=u.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,u.useMemo(()=>function({children:l}){return N.createElement(St.Provider,{value:s},l)},[s])]}let Il=V(Al),Qr=V(Pl),Ml=Object.assign(Il,{Group:Qr});function Dl(e,t=typeof document<"u"?document.defaultView:null,r){let n=_e(e,"escape");qr(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===Or.Escape&&r(s))})}function Ol(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=u.useState((e=t?.matches)!=null?e:!1);return U(()=>{if(!t)return;function s(l){n(l.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function Ll({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=T(()=>{var s,l;let o=Le(r),i=[];for(let c of e)c!==null&&(de(c)?i.push(c):"current"in c&&de(c.current)&&i.push(c.current));if(t!=null&&t.current)for(let c of t.current)i.push(c);for(let c of(s=o?.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&de(c)&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((l=r?.getRootNode())==null?void 0:l.host))||i.some(d=>c.contains(d))||i.push(c));return i});return{resolveContainers:n,contains:T(s=>n().some(l=>l.contains(s)))}}let Zr=u.createContext(null);function pr({children:e,node:t}){let[r,n]=u.useState(null),s=en(t??r);return N.createElement(Zr.Provider,{value:s},e,s===null&&N.createElement(Nt,{features:Ye.Hidden,ref:l=>{var o,i;if(l){for(let c of(i=(o=Le(l))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])if(c!==document.body&&c!==document.head&&de(c)&&c!=null&&c.contains(l)){n(c);break}}}}))}function en(e=null){var t;return(t=u.useContext(Zr))!=null?t:e}function zl(){let e=typeof document>"u";return"useSyncExternalStore"in Lt?(t=>t.useSyncExternalStore)(Lt)(()=>()=>{},()=>!1,()=>!e):!1}function rt(){let e=zl(),[t,r]=u.useState(J.isHandoffComplete);return t&&J.isHandoffComplete===!1&&r(!1),u.useEffect(()=>{t!==!0&&r(!0)},[t]),u.useEffect(()=>J.handoff(),[]),e?!1:t}function It(){let e=u.useRef(!1);return U(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Fe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fe||{});function _l(){let e=u.useRef(0);return Wr(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function tn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)de(r.current)&&t.add(r.current);return t}let Ul="div";var ge=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ge||{});function Vl(e,t){let r=u.useRef(null),n=Q(r,t),{initialFocus:s,initialFocusFallback:l,containers:o,features:i=15,...c}=e;rt()||(i=0);let d=Pt(r.current);Wl(i,{ownerDocument:d});let f=ql(i,{ownerDocument:d,container:r,initialFocus:s,initialFocusFallback:l});Kl(i,{ownerDocument:d,container:r,containers:o,previousActiveElement:f});let x=_l(),p=T(S=>{if(!ve(r.current))return;let m=r.current;(g=>g())(()=>{ae(x.current,{[Fe.Forwards]:()=>{De(m,re.First,{skipElements:[S.relatedTarget,l]})},[Fe.Backwards]:()=>{De(m,re.Last,{skipElements:[S.relatedTarget,l]})}})})}),b=_e(!!(i&2),"focus-trap#tab-lock"),v=Ze(),y=u.useRef(!1),j={ref:n,onKeyDown(S){S.key=="Tab"&&(y.current=!0,v.requestAnimationFrame(()=>{y.current=!1}))},onBlur(S){if(!(i&4))return;let m=tn(o);ve(r.current)&&m.add(r.current);let g=S.relatedTarget;ce(g)&&g.dataset.headlessuiFocusGuard!=="true"&&(rn(m,g)||(y.current?De(r.current,ae(x.current,{[Fe.Forwards]:()=>re.Next,[Fe.Backwards]:()=>re.Previous})|re.WrapAround,{relativeTo:S.target}):ce(S.target)&&ne(S.target)))}},w=W();return N.createElement(N.Fragment,null,b&&N.createElement(Nt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ye.Focusable}),w({ourProps:j,theirProps:c,defaultTag:Ul,name:"FocusTrap"}),b&&N.createElement(Nt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ye.Focusable}))}let Hl=V(Vl),Gl=Object.assign(Hl,{features:ge});function Bl(e=!0){let t=u.useRef(ie.slice());return Ft(([r],[n])=>{n===!0&&r===!1&&Qe(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=ie.slice())},[e,ie,t]),T(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Wl(e,{ownerDocument:t}){let r=!!(e&8),n=Bl(r);Ft(()=>{r||hs(t?.body)&&ne(n())},[r]),Kr(()=>{r&&ne(n())})}function ql(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let l=u.useRef(null),o=_e(!!(e&1),"focus-trap#initial-focus"),i=It();return Ft(()=>{if(e===0)return;if(!o){s!=null&&s.current&&ne(s.current);return}let c=r.current;c&&Qe(()=>{if(!i.current)return;let d=t?.activeElement;if(n!=null&&n.current){if(n?.current===d){l.current=d;return}}else if(c.contains(d)){l.current=d;return}if(n!=null&&n.current)ne(n.current);else{if(e&16){if(De(c,re.First|re.AutoFocus)!==kt.Error)return}else if(De(c,re.First)!==kt.Error)return;if(s!=null&&s.current&&(ne(s.current),t?.activeElement===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t?.activeElement})},[s,o,e]),l}function Kl(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let l=It(),o=!!(e&4);qr(t?.defaultView,"focus",i=>{if(!o||!l.current)return;let c=tn(n);ve(r.current)&&c.add(r.current);let d=s.current;if(!d)return;let f=i.target;ve(f)?rn(c,f)?(s.current=f,ne(f)):(i.preventDefault(),i.stopPropagation(),ne(d)):ne(s.current)},!0)}function rn(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function nn(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Ie((t=e.as)!=null?t:sn)||N.Children.count(e.children)===1}let nt=u.createContext(null);nt.displayName="TransitionContext";var Yl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Yl||{});function Xl(){let e=u.useContext(nt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Jl(){let e=u.useContext(at);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let at=u.createContext(null);at.displayName="NestingContext";function st(e){return"children"in e?st(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function an(e,t){let r=ye(e),n=u.useRef([]),s=It(),l=Ze(),o=T((b,v=oe.Hidden)=>{let y=n.current.findIndex(({el:j})=>j===b);y!==-1&&(ae(v,{[oe.Unmount](){n.current.splice(y,1)},[oe.Hidden](){n.current[y].state="hidden"}}),l.microTask(()=>{var j;!st(n)&&s.current&&((j=r.current)==null||j.call(r))}))}),i=T(b=>{let v=n.current.find(({el:y})=>y===b);return v?v.state!=="visible"&&(v.state="visible"):n.current.push({el:b,state:"visible"}),()=>o(b,oe.Unmount)}),c=u.useRef([]),d=u.useRef(Promise.resolve()),f=u.useRef({enter:[],leave:[]}),x=T((b,v,y)=>{c.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([j])=>j!==b)),t?.chains.current[v].push([b,new Promise(j=>{c.current.push(j)})]),t?.chains.current[v].push([b,new Promise(j=>{Promise.all(f.current[v].map(([w,S])=>S)).then(()=>j())})]),v==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>y(v)):y(v)}),p=T((b,v,y)=>{Promise.all(f.current[v].splice(0).map(([j,w])=>w)).then(()=>{var j;(j=c.current.shift())==null||j()}).then(()=>y(v))});return u.useMemo(()=>({children:n,register:i,unregister:o,onStart:x,onStop:p,wait:d,chains:f}),[i,o,n,x,p,f,d])}let sn=u.Fragment,ln=Ke.RenderStrategy;function Ql(e,t){var r,n;let{transition:s=!0,beforeEnter:l,afterEnter:o,beforeLeave:i,afterLeave:c,enter:d,enterFrom:f,enterTo:x,entered:p,leave:b,leaveFrom:v,leaveTo:y,...j}=e,[w,S]=u.useState(null),m=u.useRef(null),g=nn(e),$=Q(...g?[m,t,S]:t===null?[]:[t]),C=(r=j.unmount)==null||r?oe.Unmount:oe.Hidden,{show:R,appear:q,initial:L}=Xl(),[F,A]=u.useState(R?"visible":"hidden"),O=Jl(),{register:I,unregister:z}=O;U(()=>I(m),[I,m]),U(()=>{if(C===oe.Hidden&&m.current){if(R&&F!=="visible"){A("visible");return}return ae(F,{hidden:()=>z(m),visible:()=>I(m)})}},[F,m,I,z,R,C]);let fe=rt();U(()=>{if(g&&fe&&F==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,F,fe,g]);let we=L&&!q,je=q&&R&&L,Z=u.useRef(!1),G=an(()=>{Z.current||(A("hidden"),z(m))},O),ee=T($e=>{Z.current=!0;let Ee=$e?"enter":"leave";G.onStart(m,Ee,he=>{he==="enter"?l?.():he==="leave"&&i?.()})}),Y=T($e=>{let Ee=$e?"enter":"leave";Z.current=!1,G.onStop(m,Ee,he=>{he==="enter"?o?.():he==="leave"&&c?.()}),Ee==="leave"&&!st(G)&&(A("hidden"),z(m))});u.useEffect(()=>{g&&s||(ee(R),Y(R))},[R,g,s]);let te=!(!s||!g||!fe||we),[,k]=vl(te,w,R,{start:ee,end:Y}),Ne=xe({ref:$,className:((n=jt(j.className,je&&d,je&&f,k.enter&&d,k.enter&&k.closed&&f,k.enter&&!k.closed&&x,k.leave&&b,k.leave&&!k.closed&&v,k.leave&&k.closed&&y,!k.transition&&R&&p))==null?void 0:n.trim())||void 0,...bl(k)}),me=0;F==="visible"&&(me|=K.Open),F==="hidden"&&(me|=K.Closed),R&&F==="hidden"&&(me|=K.Opening),!R&&F==="visible"&&(me|=K.Closing);let ut=W();return N.createElement(at.Provider,{value:G},N.createElement(El,{value:me},ut({ourProps:Ne,theirProps:j,defaultTag:sn,features:ln,visible:F==="visible",name:"Transition.Child"})))}function Zl(e,t){let{show:r,appear:n=!1,unmount:s=!0,...l}=e,o=u.useRef(null),i=nn(e),c=Q(...i?[o,t]:t===null?[]:[t]);rt();let d=tt();if(r===void 0&&d!==null&&(r=(d&K.Open)===K.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,x]=u.useState(r?"visible":"hidden"),p=an(()=>{r||x("hidden")}),[b,v]=u.useState(!0),y=u.useRef([r]);U(()=>{b!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),v(!1))},[y,r]);let j=u.useMemo(()=>({show:r,appear:n,initial:b}),[r,n,b]);U(()=>{r?x("visible"):!st(p)&&o.current!==null&&x("hidden")},[r,p]);let w={unmount:s},S=T(()=>{var $;b&&v(!1),($=e.beforeEnter)==null||$.call(e)}),m=T(()=>{var $;b&&v(!1),($=e.beforeLeave)==null||$.call(e)}),g=W();return N.createElement(at.Provider,{value:p},N.createElement(nt.Provider,{value:j},g({ourProps:{...w,as:u.Fragment,children:N.createElement(on,{ref:c,...w,...l,beforeEnter:S,beforeLeave:m})},theirProps:{},defaultTag:u.Fragment,features:ln,visible:f==="visible",name:"Transition"})))}function ei(e,t){let r=u.useContext(nt)!==null,n=tt()!==null;return N.createElement(N.Fragment,null,!r&&n?N.createElement($t,{ref:t,...e}):N.createElement(on,{ref:t,...e}))}let $t=V(Zl),on=V(Ql),se=V(ei),lt=Object.assign($t,{Child:se,Root:$t});var ti=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ti||{}),ri=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ri||{});let ni={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Mt=u.createContext(null);Mt.displayName="DialogContext";function it(e){let t=u.useContext(Mt);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,it),r}return t}function ai(e,t){return ae(t.type,ni,e,t)}let xr=V(function(e,t){let r=u.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:l,initialFocus:o,role:i="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:f=!1,...x}=e,p=u.useRef(!1);i=(function(){return i==="dialog"||i==="alertdialog"?i:(p.current||(p.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let b=tt();s===void 0&&b!==null&&(s=(b&K.Open)===K.Open);let v=u.useRef(null),y=Q(v,t),j=Pt(v.current),w=s?0:1,[S,m]=u.useReducer(ai,{titleId:null,descriptionId:null,panelRef:u.createRef()}),g=T(()=>l(!1)),$=T(k=>m({type:0,id:k})),C=rt()?w===0:!1,[R,q]=Fl(),L={get current(){var k;return(k=S.panelRef.current)!=null?k:v.current}},F=en(),{resolveContainers:A}=Ll({mainTreeNode:F,portals:R,defaultContainers:[L]}),O=b!==null?(b&K.Closing)===K.Closing:!1;Ys(d||O?!1:C,{allowed:T(()=>{var k,Ne;return[(Ne=(k=v.current)==null?void 0:k.closest("[data-headlessui-portal]"))!=null?Ne:null]}),disallowed:T(()=>{var k;return[(k=F?.closest("body > *:not(#headlessui-portal-root)"))!=null?k:null]})});let I=Vr.get(null);U(()=>{if(C)return I.actions.push(n),()=>I.actions.pop(n)},[I,n,C]);let z=Hr(I,u.useCallback(k=>I.selectors.isTop(k,n),[I,n]));il(z,A,k=>{k.preventDefault(),g()}),Dl(z,j?.defaultView,k=>{k.preventDefault(),k.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),g()}),hl(d||O?!1:C,j,A),Xs(C,v,g);let[fe,we]=Ts(),je=u.useMemo(()=>[{dialogState:w,close:g,setTitleId:$,unmount:f},S],[w,g,$,f,S]),Z=ze({open:w===0}),G={ref:y,id:n,role:i,tabIndex:-1,"aria-modal":d?void 0:w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":fe,unmount:f},ee=!Ol(),Y=ge.None;C&&!d&&(Y|=ge.RestoreFocus,Y|=ge.TabLock,c&&(Y|=ge.AutoFocus),ee&&(Y|=ge.InitialFocus));let te=W();return N.createElement(kl,null,N.createElement(hr,{force:!0},N.createElement(Ml,null,N.createElement(Mt.Provider,{value:je},N.createElement(Qr,{target:v},N.createElement(hr,{force:!1},N.createElement(we,{slot:Z},N.createElement(q,null,N.createElement(Gl,{initialFocus:o,initialFocusFallback:v,containers:A,features:Y},N.createElement(Ms,{value:g},te({ourProps:G,theirProps:x,slot:Z,defaultTag:si,features:li,visible:w===0,name:"Dialog"})))))))))))}),si="div",li=Ke.RenderStrategy|Ke.Static;function ii(e,t){let{transition:r=!1,open:n,...s}=e,l=tt(),o=e.hasOwnProperty("open")||l!==null,i=e.hasOwnProperty("onClose");if(!o&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?N.createElement(pr,null,N.createElement(lt,{show:n,transition:r,unmount:s.unmount},N.createElement(xr,{ref:t,...s}))):N.createElement(pr,null,N.createElement(xr,{ref:t,open:n,...s}))}let oi="div";function ci(e,t){let r=u.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...l}=e,[{dialogState:o,unmount:i},c]=it("Dialog.Panel"),d=Q(t,c.panelRef),f=ze({open:o===0}),x=T(j=>{j.stopPropagation()}),p={ref:d,id:n,onClick:x},b=s?se:u.Fragment,v=s?{unmount:i}:{},y=W();return N.createElement(b,{...v},y({ourProps:p,theirProps:l,slot:f,defaultTag:oi,name:"Dialog.Panel"}))}let ui="div";function di(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:l}]=it("Dialog.Backdrop"),o=ze({open:s===0}),i={ref:t,"aria-hidden":!0},c=r?se:u.Fragment,d=r?{unmount:l}:{},f=W();return N.createElement(c,{...d},f({ourProps:i,theirProps:n,slot:o,defaultTag:ui,name:"Dialog.Backdrop"}))}let fi="h2";function mi(e,t){let r=u.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:l,setTitleId:o}]=it("Dialog.Title"),i=Q(t);u.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=ze({open:l===0}),d={ref:i,id:n};return W()({ourProps:d,theirProps:s,slot:c,defaultTag:fi,name:"Dialog.Title"})}let hi=V(ii),ot=V(ci);V(di);let ct=V(mi),Dt=Object.assign(hi,{Panel:ot,Title:ct,Description:Fs});const pi={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},cn=({isOpen:e,onClose:t,title:r,titleClassName:n,headerClassName:s,children:l,showCloseButton:o=!0,maxWidth:i="md"})=>a.jsx(lt,{appear:!0,show:e,as:u.Fragment,children:a.jsxs(Dt,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx(se,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:a.jsx(se,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(ot,{className:`bg-slate-900 rounded-2xl w-full ${pi[i]} shadow-2xl overflow-hidden border border-white/10`,children:[r&&a.jsxs("div",{className:`p-6 flex justify-between items-start ${s??""}`,children:[a.jsx(ct,{as:"div",className:n,children:r}),o&&a.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition",children:a.jsx(vr,{size:24})})]}),l]})})})})]})}),xi={warning:yr,info:jr,danger:Ct},gi={warning:"text-amber-400 bg-amber-500/10",info:"text-tech-400 bg-tech-500/10",danger:"text-red-400 bg-red-500/10"},bi={warning:"bg-amber-600 hover:bg-amber-700 border-amber-500/30",info:"bg-tech-600 hover:bg-tech-700 border-tech-500/30",danger:"bg-red-600 hover:bg-red-700 border-red-500/30"},un=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:l="Confirm",cancelText:o="Cancel",type:i="warning"})=>{const c=xi[i],d=()=>{r(),t()};return a.jsx(lt,{appear:!0,show:e,as:u.Fragment,children:a.jsxs(Dt,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx(se,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:a.jsx(se,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx(ot,{className:"bg-slate-900 rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-white/10 p-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:`p-3 rounded-full mb-4 ${gi[i]}`,children:a.jsx(c,{size:24})}),a.jsx(ct,{as:"h3",className:"text-lg font-semibold text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-slate-400 mb-6",children:s}),a.jsxs("div",{className:"flex gap-3 w-full",children:[a.jsx("button",{onClick:t,className:"flex-1 py-2.5 rounded-xl text-slate-300 hover:bg-white/10 transition font-medium border border-white/10",children:o}),a.jsx("button",{onClick:d,className:`flex-1 py-2.5 rounded-xl text-white transition font-medium border ${bi[i]}`,children:l})]})]})})})})})]})})},vi={warning:yr,info:jr,error:Ct,success:Ln},yi={warning:"text-amber-400 bg-amber-500/10",info:"text-tech-400 bg-tech-500/10",error:"text-red-400 bg-red-500/10",success:"text-emerald-400 bg-emerald-500/10"},wi={warning:"bg-amber-600 hover:bg-amber-700 border-amber-500/30",info:"bg-tech-600 hover:bg-tech-700 border-tech-500/30",error:"bg-red-600 hover:bg-red-700 border-red-500/30",success:"bg-emerald-600 hover:bg-emerald-700 border-emerald-500/30"},Oe=({isOpen:e,onClose:t,title:r,message:n,buttonText:s="OK",type:l="info"})=>{const o=vi[l];return a.jsx(lt,{appear:!0,show:e,as:u.Fragment,children:a.jsxs(Dt,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx(se,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:a.jsx(se,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx(ot,{className:"bg-slate-900 rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-white/10 p-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:`p-3 rounded-full mb-4 ${yi[l]}`,children:a.jsx(o,{size:24})}),a.jsx(ct,{as:"h3",className:"text-lg font-semibold text-white mb-2",children:r}),a.jsx("p",{className:"text-sm text-slate-400 mb-6",children:n}),a.jsx("button",{onClick:t,className:`w-full py-2.5 rounded-xl text-white transition font-medium border ${wi[l]}`,children:s})]})})})})})]})})},ji=({settings:e,setSettings:t,messages:r,setMessages:n,platform:s,setPlatform:l,onGenerateAI:o,onDownload:i,onReset:c})=>{const[d,f]=u.useState("text"),[x,p]=u.useState(""),[b,v]=u.useState(10),[y,j]=u.useState(!0),[w,S]=u.useState(null),[m,g]=u.useState(e.time),[$,C]=u.useState(!1),[R,q]=u.useState(!1),[L,F]=u.useState(0),[A,O]=u.useState(!1),[I,z]=u.useState(null),[fe,we]=u.useState(!1),[je,Z]=u.useState(!1),[G,ee]=u.useState(null),[Y,te]=u.useState(null),k=u.useRef(null);u.useEffect(()=>{w||g(e.time)},[e.time,w]);const Ne=(h,E)=>{ee(E),h.dataTransfer.effectAllowed="move"},me=(h,E)=>{h.preventDefault(),G!==E&&te(E)},ut=()=>{te(null)},$e=(h,E)=>{if(h.preventDefault(),!G||G===E){ee(null),te(null);return}const D=[...r],M=D.findIndex(pe=>pe.id===G),Ce=D.findIndex(pe=>pe.id===E);if(M!==-1&&Ce!==-1){const[pe]=D.splice(M,1);D.splice(Ce,0,pe),n(D)}ee(null),te(null)},Ee=()=>{ee(null),te(null)},he=()=>{const h={version:"1.0",platform:s,settings:e,messages:r,exportedAt:new Date().toISOString()},E=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),D=URL.createObjectURL(E),M=document.createElement("a");M.download=`fakechat-${s}-${Date.now()}.json`,M.href=D,M.click(),URL.revokeObjectURL(D)},dn=h=>{if(h.target.files&&h.target.files[0]){const E=new FileReader;E.onload=D=>{try{const M=JSON.parse(D.target?.result);M.version&&M.messages&&M.settings?(z(M),O(!0)):we(!0)}catch{Z(!0)}},E.readAsText(h.target.files[0])}k.current&&(k.current.value="")},fn=()=>{I&&(l(I.platform),t(I.settings),n(I.messages),z(null))},mn=()=>{if(L===0)return;const h=r.map(E=>{const[D,M]=E.timestamp.split(":").map(Number),Ce=D*60+M+L,pe=Math.floor((Ce%1440+1440)%1440/60),gn=(Ce%60+60)%60;return{...E,timestamp:`${pe.toString().padStart(2,"0")}:${gn.toString().padStart(2,"0")}`}});n(h),q(!1),F(0)},hn=h=>{p(E=>E+h),C(!1)},Ot=()=>{if(!(d==="text"&&!x.trim()))if(w)n(r.map(h=>{if(h.id===w){const E={id:h.id,isSender:y,timestamp:m,isRead:h.isRead,reaction:h.reaction};return h.image,d==="text"?E.text=x:E.audioDuration=b,E}return h})),Ue();else{const h={id:Date.now().toString(),isSender:y,timestamp:m,isRead:!0};d==="text"?(h.text=x,p("")):h.audioDuration=b,n([...r,h])}},pn=h=>{S(h.id),j(h.isSender),g(h.timestamp),h.audioDuration?(f("voice"),v(h.audioDuration),p("")):(f("text"),p(h.text||""))},Ue=()=>{S(null),p(""),v(10),f("text"),j(!0),g(e.time)},dt=(h,E)=>{if(h.target.files&&h.target.files[0]){const D=URL.createObjectURL(h.target.files[0]);if(E==="message")if(w)n(r.map(M=>M.id===w?{id:M.id,isSender:y,image:D,timestamp:m,isRead:M.isRead,reaction:M.reaction}:M)),Ue();else{const M={id:Date.now().toString(),image:D,isSender:y,timestamp:m,isRead:!0};n([...r,M])}else E==="partner"?t({...e,partnerAvatar:D}):E==="me"?t({...e,myAvatar:D}):E==="background"&&t({...e,backgroundImage:D})}},xn=(h,E)=>{h.stopPropagation(),n(r.filter(D=>D.id!==E)),w===E&&Ue()};return a.jsxs("div",{className:"h-full flex flex-col gap-6 p-4 sm:p-6 overflow-y-auto bg-slate-900/50 text-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"Chat Editor"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:he,className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors",title:"Export Chat",children:a.jsx(Hn,{size:18})}),a.jsxs("label",{className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors cursor-pointer",title:"Import Chat",children:[a.jsx(Bn,{size:18}),a.jsx("input",{ref:k,type:"file",className:"hidden",accept:".json",onChange:dn})]}),a.jsx("button",{onClick:c,className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors",title:"Reset",children:a.jsx(ta,{size:18})})]})]}),a.jsx("div",{className:"flex p-1 bg-slate-800/50 rounded-xl border border-white/5",children:os.map(h=>a.jsx("button",{onClick:()=>l(h.id),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${s===h.id?"bg-tech-500/20 text-tech-400 border border-tech-500/30":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:h.name},h.id))}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Time"}),a.jsx("input",{type:"time",value:e.time,onChange:h=>t({...e,time:h.target.value}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Battery %"}),a.jsx("input",{type:"number",min:"1",max:"100",value:e.batteryLevel,onChange:h=>t({...e,batteryLevel:parseInt(h.target.value)}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Partner Name"}),a.jsx("input",{type:"text",value:e.partnerName,onChange:h=>t({...e,partnerName:h.target.value}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Partner Avatar"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:e.partnerAvatar,className:"w-10 h-10 rounded-full object-cover border border-white/10"}),a.jsxs("label",{className:"cursor-pointer bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 px-3 py-1.5 rounded-md text-xs border border-white/10 transition",children:["Change",a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h=>dt(h,"partner")})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Chat Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[e.backgroundImage?a.jsxs("div",{className:"relative w-10 h-10",children:[a.jsx("img",{src:e.backgroundImage,className:"w-full h-full rounded-lg object-cover border border-white/10"}),a.jsx("button",{onClick:()=>t({...e,backgroundImage:void 0}),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600",children:a.jsx(vr,{size:10})})]}):a.jsx("div",{className:"w-10 h-10 rounded-lg border border-dashed border-white/20 flex items-center justify-center bg-slate-800/50",children:a.jsx(Ae,{size:16,className:"text-slate-500"})}),a.jsxs("label",{className:"cursor-pointer bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 px-3 py-1.5 rounded-md text-xs border border-white/10 transition",children:["Upload",a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h=>dt(h,"background")})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wr,{size:16,className:"text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-300",children:"Show Typing Indicator"})]}),a.jsx("button",{onClick:()=>t({...e,isTyping:!e.isTyping}),className:`relative w-11 h-6 rounded-full transition-colors ${e.isTyping?"bg-tech-500":"bg-slate-700"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${e.isTyping?"translate-x-6":"translate-x-1"}`})})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider",children:w?"Editing Message":"Messages"}),a.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 text-xs font-medium text-purple-400 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-full transition-colors border border-purple-500/20",children:[a.jsx(Sn,{size:14}),"AI Generate"]})]}),a.jsxs("div",{className:`p-4 rounded-xl border space-y-3 transition-colors ${w?"bg-tech-500/10 border-tech-500/30":"bg-slate-800/50 border-white/10"}`,children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1 bg-slate-900/50 p-1 rounded-lg flex gap-1 border border-white/10",children:[a.jsx("button",{onClick:()=>j(!1),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${y?"text-slate-400 hover:bg-slate-800":"bg-slate-700 shadow text-white"}`,children:"Them"}),a.jsx("button",{onClick:()=>j(!0),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${y?"bg-tech-500/20 shadow text-tech-400":"text-slate-400 hover:bg-slate-800"}`,children:"Me"})]}),a.jsxs("div",{className:"w-24 relative",children:[a.jsx("input",{type:"time",value:m,onChange:h=>g(h.target.value),className:"w-full h-full p-1.5 pl-7 text-xs bg-slate-800/50 border border-white/10 rounded-lg outline-none focus:border-tech-500 text-white"}),a.jsx(Rn,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"})]})]}),a.jsxs("div",{className:`flex items-center gap-2 border-b pb-2 ${w?"border-tech-500/30":"border-white/10"}`,children:[a.jsxs("button",{onClick:()=>f("text"),className:`flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md transition ${d==="text"?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[a.jsx(ua,{size:14})," Text"]}),a.jsxs("button",{onClick:()=>f("voice"),className:`flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md transition ${d==="voice"?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[a.jsx(Ge,{size:14})," Voice"]})]}),d==="text"?a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:x,onChange:h=>p(h.target.value),placeholder:"Type a message...",className:"w-full p-3 bg-slate-900/50 border border-white/10 rounded-lg text-sm text-white placeholder-slate-500 focus:ring-2 focus:ring-tech-500 outline-none resize-none h-20",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),Ot())}}),a.jsxs("div",{className:"absolute bottom-2 right-2 text-[10px] text-slate-500",children:[x.length," chars"]})]}):a.jsxs("div",{className:"h-20 flex flex-col justify-center px-2 space-y-2",children:[a.jsx("div",{className:"flex justify-between text-xs text-slate-400",children:a.jsxs("span",{children:["Duration: ",b,"s"]})}),a.jsx("input",{type:"range",min:"1",max:"60",value:b,onChange:h=>v(parseInt(h.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-tech-500"})]}),a.jsxs("div",{className:"flex justify-between items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("label",{className:"cursor-pointer text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Upload Image",children:[a.jsx(kn,{size:18}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h=>dt(h,"message")})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>C(!$),className:"text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Insert Emoji",children:a.jsx(Be,{size:18})}),$&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 p-2 bg-slate-800 border border-white/10 rounded-xl shadow-xl z-50 w-64",children:a.jsx("div",{className:"grid grid-cols-8 gap-1 max-h-32 overflow-y-auto",children:cs.map((h,E)=>a.jsx("button",{onClick:()=>hn(h),className:"w-7 h-7 flex items-center justify-center text-lg hover:bg-white/10 rounded transition",children:h},E))})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[w&&a.jsx("button",{onClick:Ue,className:"text-slate-400 hover:text-white px-3 py-2 text-sm font-medium transition",children:"Cancel"}),a.jsxs("button",{onClick:Ot,disabled:d==="text"&&!x.trim(),className:"bg-tech-600 hover:bg-tech-700 text-white px-4 py-2 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[w?a.jsx(na,{size:16}):a.jsx(Zn,{size:16}),w?"Update":d==="voice"?"Add Voice":"Add Message"]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-slate-500",children:[r.length," messages"]}),a.jsxs("button",{onClick:()=>q(!0),disabled:r.length===0,className:"flex items-center gap-1 text-xs text-slate-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"Batch adjust timestamps",children:[a.jsx(Ut,{size:12}),"Batch Time"]})]}),a.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-1",children:[r.map(h=>a.jsxs("div",{draggable:!0,onDragStart:E=>Ne(E,h.id),onDragOver:E=>me(E,h.id),onDragLeave:ut,onDrop:E=>$e(E,h.id),onDragEnd:Ee,onClick:()=>pn(h),className:`group flex items-center justify-between p-2 rounded-lg border transition cursor-pointer ${w===h.id?"bg-tech-500/10 border-tech-500/30 ring-1 ring-tech-500/30":Y===h.id?"bg-tech-500/5 border-tech-500/20":G===h.id?"opacity-50":"hover:bg-white/5 border-transparent hover:border-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx(qn,{size:14,className:"text-slate-600 cursor-grab active:cursor-grabbing shrink-0"}),a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded shrink-0 ${h.isSender?"bg-tech-500/20 text-tech-400":"bg-slate-700 text-slate-300"}`,children:h.isSender?"Me":"Them"}),a.jsxs("div",{className:"flex flex-col overflow-hidden",children:[a.jsx("p",{className:"text-sm text-slate-300 truncate max-w-[120px]",children:h.image?"ðŸ“· [Image]":h.audioDuration?`ðŸŽ¤ Voice (${h.audioDuration}s)`:h.text}),w===h.id&&a.jsx("span",{className:"text-[10px] text-tech-400 font-medium",children:"Editing..."})]})]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("button",{onClick:E=>xn(E,h.id),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-full transition opacity-0 group-hover:opacity-100",title:"Delete",children:a.jsx(Pn,{size:14})})})]},h.id)),r.length===0&&a.jsx("p",{className:"text-center text-xs text-slate-500 py-4",children:"No messages yet."})]})]}),a.jsx(cn,{isOpen:R,onClose:()=>{q(!1),F(0)},title:a.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(Ut,{size:20,className:"text-tech-400"}),"Batch Time Adjust"]}),maxWidth:"sm",children:a.jsxs("div",{className:"p-6 pt-0",children:[a.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Adjust all message timestamps by a fixed amount."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Time Offset (minutes)"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:"-120",max:"120",value:L,onChange:h=>F(parseInt(h.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-tech-500"}),a.jsxs("span",{className:`w-16 text-center text-sm font-medium ${L>0?"text-green-400":L<0?"text-red-400":"text-slate-400"}`,children:[L>0?"+":"",L,"m"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{q(!1),F(0)},className:"flex-1 py-2 rounded-lg text-slate-300 hover:bg-white/10 transition",children:"Cancel"}),a.jsx("button",{onClick:mn,disabled:L===0,className:"flex-1 py-2 rounded-lg bg-tech-600 text-white hover:bg-tech-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Apply"})]})]})]})}),a.jsx(un,{isOpen:A,onClose:()=>{O(!1),z(null)},onConfirm:fn,title:"Import Chat",message:"Import will replace current chat. Continue?",confirmText:"Import",cancelText:"Cancel",type:"warning"}),a.jsx(Oe,{isOpen:fe,onClose:()=>we(!1),title:"Invalid File",message:"Invalid file format. Please select a valid FakeChat export file.",type:"error"}),a.jsx(Oe,{isOpen:je,onClose:()=>Z(!1),title:"Parse Error",message:"Failed to parse JSON file. Please check if the file is valid.",type:"error"}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:i,className:"w-full bg-tech-600 hover:bg-tech-700 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-tech-900/30 transition transform active:scale-95 border border-tech-500/30",children:[a.jsx($n,{size:20}),"Download Screenshot"]})})]})},Ni=({isOpen:e,onClose:t,onGenerate:r,isLoading:n,hasApiKey:s})=>{const[l,o]=u.useState(""),[i,c]=u.useState("Casual"),d=f=>{f.preventDefault(),l.trim()&&r(l,i)};return a.jsx(cn,{isOpen:e,onClose:t,title:a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(oa,{size:20}),"AI Script Generator"]}),a.jsx("p",{className:"text-purple-100 text-sm mt-1",children:"Powered by Google Gemini"})]}),headerClassName:"bg-linear-to-r from-purple-600 to-tech-600 text-white",children:a.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[!s&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 flex items-start gap-3 text-amber-200",children:[a.jsx(Ct,{className:"w-5 h-5 text-amber-400 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-amber-400",children:"API Key Required"}),a.jsx("p",{className:"text-sm text-amber-300/70 mt-1",children:"Please configure your Gemini API key in the settings above before generating."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"What is the conversation about?"}),a.jsx("textarea",{value:l,onChange:f=>o(f.target.value),placeholder:"e.g., Breaking up over text, planning a surprise party, complaining about work...",className:"w-full p-3 bg-slate-800/50 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none h-24 resize-none",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tone / Mood"}),a.jsxs("select",{value:i,onChange:f=>c(f.target.value),className:"w-full p-3 bg-slate-800/50 border border-white/10 rounded-xl text-white focus:ring-2 focus:ring-purple-500 outline-none",children:[a.jsx("option",{children:"Casual & Funny"}),a.jsx("option",{children:"Romantic"}),a.jsx("option",{children:"Angry / Argument"}),a.jsx("option",{children:"Formal / Business"}),a.jsx("option",{children:"Sad / Emotional"}),a.jsx("option",{children:"Sarcastic"})]})]}),a.jsx("button",{type:"submit",disabled:n||!l.trim()||!s,className:"w-full bg-tech-600 text-white py-3 rounded-xl font-medium hover:bg-tech-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition border border-tech-500/30",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin",size:20}),"Generating Magic..."]}):"Generate Script"})]})})},Ei=({apiKey:e,onApiKeyChange:t})=>{const[r,n]=u.useState(!1),[s,l]=u.useState(e),[o,i]=u.useState(!e);u.useEffect(()=>{l(e),i(!e)},[e]);const c=()=>{t(s.trim()),i(!1)},d=()=>{l(""),t(""),i(!0)},f=e?`${e.slice(0,8)}${"â€¢".repeat(20)}${e.slice(-4)}`:"";return a.jsx("div",{className:"w-full mb-6",children:a.jsxs("div",{className:"rounded-xl p-4 bg-dark-card/30 border border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tn,{className:"w-4 h-4 text-tech-400"}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Gemini API Key"}),e&&!o&&a.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:[a.jsx(En,{className:"w-3 h-3"}),"Configured"]})]}),a.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-slate-500 hover:text-tech-400 transition-colors",children:["Get API Key",a.jsx(Fn,{className:"w-3 h-3"})]})]}),o||!e?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:r?"text":"password",value:s,onChange:x=>l(x.target.value),placeholder:"Enter your Gemini API key...",className:"w-full bg-slate-800/50 border border-white/10 rounded-lg px-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-tech-500/50 focus:ring-1 focus:ring-tech-500/20 transition-all pr-10"}),a.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition-colors",children:r?a.jsx(zt,{className:"w-4 h-4"}):a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:c,disabled:!s.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s.trim()?"bg-tech-500 text-white hover:bg-tech-600":"bg-slate-800/50 text-slate-500 cursor-not-allowed"}`,children:"Save"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-800/50 border border-white/10 rounded-lg px-4 py-2.5 text-sm text-slate-400 font-mono truncate",children:r?e:f}),a.jsx("button",{type:"button",onClick:()=>n(!r),className:"p-2.5 bg-slate-800/50 border border-white/10 rounded-lg text-slate-400 hover:text-white hover:border-tech-500/30 transition-all",children:r?a.jsx(zt,{className:"w-4 h-4"}):a.jsx(_t,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{l(e),i(!0)},className:"px-3 py-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-slate-400 hover:text-white hover:border-tech-500/30 transition-all",children:"Edit"}),a.jsx("button",{onClick:d,className:"px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-lg text-sm text-red-400 hover:bg-red-500/20 hover:border-red-500/30 transition-all",children:"Clear"})]}),a.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Your API key is stored locally in your browser and never sent to any server other than Google's Gemini API."})]})})},ki=async(e,t,r,n)=>{const s=new An({apiKey:n}),l="gemini-2.5-flash",o=`Generate a realistic chat conversation script in Traditional Chinese (Taiwanese style) between two people.
  Platform style: ${t}.
  Topic: ${e}.
  Mood: ${r}.
  Length: 5-8 messages.
  Include emojis appropriate for the platform.
  Return a JSON array where each item has 'text' (string), 'isSender' (boolean, true for 'Me', false for 'Partner'), and 'timeOffset' (minutes from start).`;try{const i=await s.models.generateContent({model:l,contents:o,config:{responseMimeType:"application/json",responseSchema:{type:Te.ARRAY,items:{type:Te.OBJECT,properties:{text:{type:Te.STRING},isSender:{type:Te.BOOLEAN},timeOffset:{type:Te.INTEGER}},required:["text","isSender","timeOffset"]}}}}),c=JSON.parse(i.text||"[]"),d=new Date;return d.setHours(12,0,0,0),c.map((f,x)=>{const b=new Date(d.getTime()+f.timeOffset*6e4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:`gen-${Date.now()}-${x}`,text:f.text,isSender:f.isSender,timestamp:b,isRead:!0}})}catch(i){throw console.error("Gemini Generation Error:",i),new Error("Failed to generate conversation.")}},gr="fakechat_gemini_api_key",Si=()=>{const[e,t]=u.useState("instagram"),[r,n]=u.useState(er),[s,l]=u.useState(Zt),[o,i]=u.useState(!1),[c,d]=u.useState(!1),[f,x]=u.useState(""),[p,b]=u.useState(!1),[v,y]=u.useState(!1),[j,w]=u.useState(!1),[S,m]=u.useState(!1),g=u.useRef(null);u.useEffect(()=>{const A=wn(gr);A&&x(A)},[]);const $=A=>{x(A),jn(gr,A||null)},C=async()=>{if(g.current)try{const A=await is(g.current,{pixelRatio:2,skipAutoScale:!0}),O=document.createElement("a");O.download=`fakechat-${e}-${Date.now()}.png`,O.href=A,O.click()}catch(A){console.error("Failed to generate image",A),b(!0)}},R=async(A,O)=>{if(!f){y(!0);return}d(!0);try{const I=await ki(A,e,O,f);n(I),i(!1)}catch{w(!0)}finally{d(!1)}},q=(A,O)=>{n(I=>I.map(z=>z.id===A?{...z,...O}:z))},L=()=>{m(!0)},F=()=>{n(er),l(Zt)};return a.jsxs("div",{className:"animate-slide-up",children:[a.jsxs(yn,{to:"/tools",className:"inline-flex items-center gap-2 text-slate-400 hover:text-tech-400 transition-colors mb-8 group",children:[a.jsx(br,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Tools"})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("div",{className:"p-3 bg-tech-500/10 rounded-xl text-tech-400 border border-tech-500/20",children:a.jsx(wr,{size:28})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Fake Chat"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create realistic chat screenshots for mockups"})]})]}),a.jsx("div",{className:"rounded-2xl overflow-hidden border border-white/10 bg-dark-card/30",children:a.jsxs("div",{className:"flex flex-col lg:flex-row min-h-[700px]",children:[a.jsx("div",{className:"w-full lg:w-[420px] lg:shrink-0 border-b lg:border-b-0 lg:border-r border-white/10",children:a.jsx(ji,{settings:s,setSettings:l,messages:r,setMessages:n,platform:e,setPlatform:t,onGenerateAI:()=>i(!0),onDownload:C,onReset:L})}),a.jsxs("div",{className:"flex-1 bg-slate-900/50 flex items-center justify-center p-4 lg:p-8 relative min-h-[500px] lg:min-h-0",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(rgba(56,189,248,0.03)_1px,transparent_1px)] bg-size-[16px_16px] pointer-events-none"}),a.jsx(Pr,{ref:g,platform:e,messages:r,settings:s,onUpdateMessage:q})]})]})}),a.jsx("div",{className:"mt-8",children:a.jsx(Ei,{apiKey:f,onApiKeyChange:$})}),a.jsx(Ni,{isOpen:o,onClose:()=>i(!1),onGenerate:R,isLoading:c,hasApiKey:!!f}),a.jsx(Oe,{isOpen:p,onClose:()=>b(!1),title:"Image Generation Failed",message:"Could not generate image. Please try again.",type:"error"}),a.jsx(Oe,{isOpen:v,onClose:()=>y(!1),title:"API Key Required",message:"Please enter your Gemini API key first.",type:"warning"}),a.jsx(Oe,{isOpen:j,onClose:()=>w(!1),title:"AI Generation Failed",message:"AI Generation failed. Please check your API key or try again.",type:"error"}),a.jsx(un,{isOpen:S,onClose:()=>m(!1),onConfirm:F,title:"Reset Chat",message:"Reset all messages and settings?",confirmText:"Reset",cancelText:"Cancel",type:"danger"})]})};function Bi(){return[{title:"Fake Chat | Carry"},{property:"og:title",content:"Fake Chat"},{name:"description",content:"Fake Chat - Create realistic fake chat screenshots for Instagram, LINE, and Messenger."}]}const Wi=vn(Si);export{Wi as default,Bi as meta};

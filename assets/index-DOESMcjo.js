import{r as c,j as e,G as v,w}from"./chunk-WWGJGFF6-BuW-gJ52.js";import{W as y,L as N,K as k,E as g,D as S,G as C}from"./index-_fLbXH5p.js";import{c as p}from"./createLucideIcon-Dcecqn9j.js";import{C as G}from"./check-DuL2yG0q.js";import{E}from"./external-link-C1Pu24h4.js";import{E as b}from"./eye-H73dLIQa.js";import{g as I,s as A}from"./index-tSOQ2Rud.js";import{C as R}from"./circle-alert-DPXuc6-c.js";const P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],L=p("circle-check",P);const D=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],O=p("code",D);const V=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_=p("send",V);var m=(t=>(t.IDLE="IDLE",t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.ERROR="ERROR",t))(m||{});const U=({onGenerate:t,status:o,hasApiKey:r})=>{const[a,l]=c.useState(""),i=c.useCallback(s=>{s.preventDefault(),a.trim()&&o!==m.LOADING&&r&&t(a.trim())},[a,o,t,r]),n=o===m.LOADING;return e.jsxs("div",{className:"w-full max-w-2xl mx-auto mt-12 px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-linear-to-r from-white via-tech-100 to-tech-400 mb-3",children:"What do you want to create?"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Describe an object, icon, or scene, and we'll render it as vector art."})]}),e.jsxs("form",{onSubmit:i,className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-linear-to-r from-tech-500 via-purple-500 to-tech-600 rounded-2xl opacity-20 group-hover:opacity-40 transition duration-500 blur-lg"}),e.jsxs("div",{className:"relative flex items-center glass-panel rounded-xl shadow-2xl overflow-hidden p-2",children:[e.jsx("div",{className:"pl-4 text-tech-400",children:e.jsx(y,{className:"w-5 h-5"})}),e.jsx("input",{type:"text",value:a,onChange:s=>l(s.target.value),placeholder:"e.g. A futuristic cyberpunk helmet with neon lights...",className:"flex-1 bg-transparent border-none outline-none text-white placeholder-slate-500 px-4 py-3 text-lg",disabled:n}),e.jsx("button",{type:"submit",disabled:!a.trim()||n||!r,title:r?"":"Please enter your API key first",className:`
              flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-200
              ${!a.trim()||n||!r?"bg-dark-card text-slate-500 cursor-not-allowed":"bg-tech-500 text-white hover:bg-tech-600 active:scale-95 shadow-lg shadow-tech-500/20"}
            `,children:n?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Crafting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:inline",children:"Generate"}),e.jsx(_,{className:"w-5 h-5"})]})})]})]}),e.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-2",children:["Retro Camera","Space Rocket","Origami Bird","Isometric House"].map(s=>e.jsx("button",{onClick:()=>l(s),className:"px-3 py-1.5 text-xs font-medium text-slate-400 bg-dark-card/50 border border-dark-border rounded-full hover:bg-dark-card hover:text-tech-400 hover:border-tech-500/30 transition-all",disabled:n,children:s},s))})]})},$=({apiKey:t,onApiKeyChange:o})=>{const[r,a]=c.useState(!1),[l,i]=c.useState(t),[n,s]=c.useState(!t);c.useEffect(()=>{i(t),s(!t)},[t]);const x=()=>{o(l.trim()),s(!1)},u=()=>{i(""),o(""),s(!0)},d=t?`${t.slice(0,8)}${"â€¢".repeat(20)}${t.slice(-4)}`:"";return e.jsx("div",{className:"w-full max-w-2xl mx-auto px-4 mb-8",children:e.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-tech-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Gemini API Key"}),t&&!n&&e.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:[e.jsx(G,{className:"w-3 h-3"}),"Configured"]})]}),e.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-slate-500 hover:text-tech-400 transition-colors",children:["Get API Key",e.jsx(E,{className:"w-3 h-3"})]})]}),n||!t?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:l,onChange:h=>i(h.target.value),placeholder:"Enter your Gemini API key...",autoComplete:"off","data-form-type":"other",className:"w-full bg-dark-card border border-dark-border rounded-lg px-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-tech-500/50 focus:ring-1 focus:ring-tech-500/20 transition-all pr-10",style:r?void 0:{WebkitTextSecurity:"disc"}}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition-colors",children:r?e.jsx(g,{className:"w-4 h-4"}):e.jsx(b,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:x,disabled:!l.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l.trim()?"bg-tech-500 text-white hover:bg-tech-600":"bg-dark-card text-slate-500 cursor-not-allowed"}`,children:"Save"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-dark-card border border-dark-border rounded-lg px-4 py-2.5 text-sm text-slate-400 font-mono",children:r?t:d}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"p-2.5 bg-dark-card border border-dark-border rounded-lg text-slate-400 hover:text-white hover:border-tech-500/30 transition-all",children:r?e.jsx(g,{className:"w-4 h-4"}):e.jsx(b,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{i(t),s(!0)},className:"px-3 py-2 bg-dark-card border border-dark-border rounded-lg text-sm text-slate-400 hover:text-white hover:border-tech-500/30 transition-all",children:"Edit"}),e.jsx("button",{onClick:u,className:"px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-lg text-sm text-red-400 hover:bg-red-500/20 hover:border-red-500/30 transition-all",children:"Clear"})]}),e.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Your API key is stored locally in your browser and never sent to any server other than Google's Gemini API."})]})})},T=({data:t})=>{const[o,r]=v.useState(!1),a=c.useRef(null);if(c.useEffect(()=>{r(!1)},[t]),!t)return null;const l=()=>{const n=new Blob([t.content],{type:"image/svg+xml"}),s=URL.createObjectURL(n),x=document.createElement("a");x.href=s,x.download=`vectorcraft-${t.id}.svg`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(s)},i=()=>{navigator.clipboard.writeText(t.content),r(!0),setTimeout(()=>r(!1),2e3)};return e.jsx("div",{className:"w-full max-w-4xl mx-auto mt-12 px-4 animate-in fade-in slide-in-from-bottom-8 duration-700",children:e.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-border bg-dark-card/50",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 truncate max-w-[150px] sm:max-w-xs",children:["Result: ",e.jsxs("span",{className:"text-slate-500",children:['"',t.prompt,'"']})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:i,className:"p-2 text-slate-400 hover:text-white hover:bg-tech-500/10 rounded-lg transition-colors group relative",title:"Copy SVG Code",children:o?e.jsx(L,{className:"w-5 h-5 text-green-400"}):e.jsx(O,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-tech-500 rounded-lg hover:bg-tech-600 transition-colors",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})]}),e.jsx("div",{className:"p-8 flex items-center justify-center bg-dark-bg/80 min-h-[400px]",children:e.jsx("div",{ref:a,className:"w-full max-w-lg h-auto transition-all duration-500 transform hover:scale-[1.02] filter drop-shadow-2xl",dangerouslySetInnerHTML:{__html:t.content}})}),e.jsx("div",{className:"px-4 py-2 bg-dark-bg border-t border-dark-border flex justify-between text-xs text-slate-600",children:e.jsx("span",{children:"Generated by Gemini 3 Pro"})})]})})},F=async(t,o)=>{if(!o)throw new Error("API Key is required. Please enter your Gemini API key in the settings.");const r=new C({apiKey:o});try{const a=`
      You are a world-class expert in Scalable Vector Graphics (SVG) design and coding. 
      Your task is to generate a high-quality, visually stunning, and detailed SVG based on the user's description of an object or item.
      
      Guidelines:
      1.  **Output Format**: Return ONLY the raw SVG code. Do not wrap it in markdown code blocks (e.g., no \`\`\`xml). Do not add any conversational text before or after.
      2.  **Quality**: Use gradients, proper pathing, and distinct colors to create depth and visual appeal. Avoid simple stroked lines unless requested. The style should be "flat art" or "material design" unless specified otherwise.
      3.  **Technical**: 
          - Always include a \`viewBox\` attribute.
          - Ensure the SVG is self-contained (no external references).
          - Use semantic IDs or classes if helpful, but inline styles are preferred for portability.
          - Default size should be square (e.g., 512x512) unless the aspect ratio suggests otherwise.
    `,l=`Create an SVG representation of the following object/item: "${t}"`,n=(await r.models.generateContent({model:"gemini-3-pro-preview",contents:l,config:{systemInstruction:a,temperature:.4,topP:.95,topK:40}})).text||"",s=n.match(/<svg[\s\S]*?<\/svg>/i);return s&&s[0]?s[0]:n.replace(/```xml/g,"").replace(/```svg/g,"").replace(/```/g,"").trim()}catch(a){throw console.error("Gemini API Error:",a),new Error(a.message||"Failed to generate SVG.")}},f="gemini_api_key",Y=()=>{const[t,o]=c.useState(m.IDLE),[r,a]=c.useState(null),[l,i]=c.useState(null),[n,s]=c.useState("");c.useEffect(()=>{const d=I(f);d&&s(d)},[]);const x=d=>{s(d),A(f,d||null)},u=async d=>{if(!n){i({message:"API Key Required",details:"Please enter your Gemini API key in the settings above before generating."});return}o(m.LOADING),i(null),a(null);try{const h=await F(d,n),j={id:crypto.randomUUID(),content:h,prompt:d,timestamp:Date.now()};a(j),o(m.SUCCESS)}catch(h){o(m.ERROR),i({message:"Generation Failed",details:h.message||"An unexpected error occurred while contacting Gemini."})}};return e.jsx("div",{className:"min-h-screen text-slate-200 font-sans selection:bg-tech-500/30",children:e.jsxs("main",{className:"pb-20",children:[e.jsx($,{apiKey:n,onApiKeyChange:x}),e.jsx(U,{onGenerate:u,status:t,hasApiKey:!!n}),t===m.ERROR&&l&&e.jsx("div",{className:"max-w-2xl mx-auto mt-8 px-4",children:e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-3 text-red-200",children:[e.jsx(R,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-400",children:l.message}),e.jsx("p",{className:"text-sm text-red-300/70 mt-1",children:l.details})]})]})}),t===m.SUCCESS&&r&&e.jsx(T,{data:r}),t===m.IDLE&&e.jsxs("div",{className:"max-w-2xl mx-auto mt-16 text-center px-4 opacity-50 pointer-events-none select-none",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-dark-card/50 border border-dark-border mb-4",children:e.jsxs("svg",{className:"w-12 h-12 text-slate-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Generated artwork will appear here"})]})]})})};function J(){return[{title:"SVG Generator | Carry"},{property:"og:title",content:"SVG Generator"},{name:"description",content:"SVG Generator - Generate custom SVG graphics using AI-powered prompts with Gemini API."}]}const X=w(Y);export{X as default,J as meta};

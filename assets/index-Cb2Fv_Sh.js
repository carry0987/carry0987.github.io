import{j as e,r as o,w as N,L as k}from"./chunk-WWGJGFF6-BuW-gJ52.js";import{u as y}from"./usePageVisibility-oVKVLhKx.js";import{A as C}from"./arrow-left-D_AEo2bL.js";import{T as I}from"./timer-T5W3hRSZ.js";import{E as g}from"./eye-H73dLIQa.js";import{C as z}from"./clock-BOyIwlql.js";import{c as F}from"./createLucideIcon-Dcecqn9j.js";const M=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],P=F("zap",M),A=({progress:s,isActive:t})=>{const n=()=>s>=100?"bg-emerald-500":t?"bg-indigo-500":"bg-slate-500",a=()=>s>=100?"shadow-[0_0_20px_rgba(16,185,129,0.5)]":t?"shadow-[0_0_20px_rgba(99,102,241,0.5)]":"";return e.jsxs("div",{className:"relative h-6 w-full bg-slate-700/50 rounded-full overflow-hidden backdrop-blur-sm border border-slate-600/50",children:[e.jsx("div",{className:`h-full transition-all duration-300 ease-linear rounded-full ${n()} ${a()}`,style:{width:`${s}%`},children:t&&s<100&&e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite] skew-x-12",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",transform:"translateX(-100%)"}})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-white drop-shadow-md",children:[Math.round(s),"%"]})}),e.jsx("style",{children:`
        @keyframes shimmer {
          100% { transform: translateX(200%); }
        }
      `})]})},m=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:e.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})}),p=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:e.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"})}),b=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:e.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})}),R=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),S=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),T=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:e.jsx("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813a3.75 3.75 0 002.576-2.576l.813-2.846A.75.75 0 019 4.5zM9 15a.75.75 0 01.75.75v1.5h1.5a.75.75 0 010 1.5h-1.5v1.5a.75.75 0 01-1.5 0v-1.5h-1.5a.75.75 0 010-1.5h1.5v-1.5A.75.75 0 019 15z",clipRule:"evenodd"})}),_=.5,E=100,L=1500,W=()=>{const{isVisible:s}=y({considerFocus:!0}),[t,n]=o.useState(0),[a,x]=o.useState(!1),[d,h]=o.useState(0),[f,u]=o.useState(!1),l=s&&!a;o.useEffect(()=>{let r;return l&&(r=window.setInterval(()=>{n(i=>i>=100?100:i+_)},E)),()=>clearInterval(r)},[l]),o.useEffect(()=>{if(t>=100&&!a){x(!0);const r=setTimeout(()=>{h(i=>i+1),n(0),x(!1)},L);return()=>clearTimeout(r)}},[t,a]);const j=o.useCallback(r=>{r.stopPropagation(),n(0),x(!1),h(0)},[]),c=a?{text:"Session Complete!",color:"text-emerald-400",borderColor:"border-emerald-500",icon:e.jsx(b,{className:"w-6 h-6"})}:l?{text:"Focusing",color:"text-tech-400",borderColor:"border-tech-500",icon:e.jsx(m,{className:"w-5 h-5 animate-pulse"})}:{text:"Paused",color:"text-amber-400",borderColor:"border-amber-500",icon:e.jsx(p,{className:"w-5 h-5"})};if(!f){const i=2*Math.PI*18,v=i-t/100*i,w=a?"#34d399":l?"#818cf8":"#fbbf24";return e.jsxs("button",{onClick:()=>u(!0),className:"fixed bottom-6 right-6 z-50 group transition-all duration-300 hover:scale-105 focus:outline-none","aria-label":"Expand Focus Widget",children:[e.jsxs("div",{className:"relative w-16 h-16 bg-slate-800 rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.3)] border border-slate-700 flex items-center justify-center backdrop-blur-xl",children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 transform",viewBox:"0 0 48 48",children:[e.jsx("circle",{cx:"24",cy:"24",r:18,fill:"none",className:"stroke-slate-700",strokeWidth:"3"}),e.jsx("circle",{cx:"24",cy:"24",r:18,fill:"none",stroke:w,strokeWidth:"3",strokeDasharray:i,strokeDashoffset:v,strokeLinecap:"round",className:"transition-all duration-300 ease-linear"})]}),e.jsx("div",{className:`text-slate-200 ${a?"text-emerald-400":l?"text-indigo-400":"text-amber-400"}`,children:a?e.jsx(b,{className:"w-6 h-6"}):l?e.jsx(m,{className:"w-6 h-6"}):e.jsx(p,{className:"w-6 h-6"})}),d>0&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-emerald-500 text-white text-[10px] font-bold h-5 w-5 flex items-center justify-center rounded-full border-2 border-slate-900 shadow-lg animate-in zoom-in duration-300",children:d})]}),e.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 w-max opacity-0 group-hover:opacity-100 transition-opacity text-xs font-medium text-slate-400 bg-slate-900/90 px-2 py-1 rounded pointer-events-none",children:c.text})]})}return e.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-full max-w-sm animate-in fade-in slide-in-from-bottom-4 duration-300",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`absolute -inset-0.5 rounded-2xl opacity-75 blur transition duration-500 
          ${a?"bg-emerald-600/20":l?"bg-indigo-600/20":"bg-slate-600/20"}`}),e.jsxs("div",{className:"relative bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-slate-800 border border-slate-700 transition-colors duration-300 ${c.color}`,children:c.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-white tracking-tight",children:"Focus Session"}),e.jsx("p",{className:`text-xs font-medium transition-colors duration-300 ${c.color}`,children:c.text})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:j,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Reset All",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>u(!1),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Minimize",children:e.jsx(S,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2 mb-2",children:[e.jsx(A,{progress:t,isActive:l}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500 px-1",children:[e.jsx("span",{children:"Current Cycle"}),e.jsxs("span",{children:[Math.round(t),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2.5 border border-slate-800 flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 bg-emerald-500/10 text-emerald-400 rounded-md",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-500 font-semibold",children:"Completed"}),e.jsxs("div",{className:"text-sm font-bold text-slate-200",children:[d," ",d===1?"Session":"Sessions"]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2.5 border border-slate-800 flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 bg-indigo-500/10 text-indigo-400 rounded-md",children:e.jsx(m,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-500 font-semibold",children:"Status"}),e.jsx("div",{className:"text-sm font-bold text-slate-200",children:l?"Active":"Idle"})]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-800",children:[!l&&!a&&e.jsxs("div",{className:"flex items-start space-x-2 text-amber-400/90 text-xs animate-in fade-in slide-in-from-top-1 duration-300 bg-amber-900/20 p-2 rounded-md border border-amber-900/50",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 shrink-0 mt-0.5",children:e.jsx("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),e.jsx("p",{children:"Widget paused. Focus on this window to continue."})]}),l&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-slate-400 text-xs py-1",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),e.jsx("p",{children:"Tracking your engagement..."})]}),a&&e.jsx("div",{className:"text-emerald-400/90 text-xs text-center bg-emerald-900/20 p-2 rounded-md border border-emerald-900/50 font-medium animate-pulse",children:"Session Completed! Resetting..."})]})]})]})})},B=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"animate-slide-up",children:[e.jsxs(k,{to:"/tools",className:"inline-flex items-center gap-2 text-slate-400 hover:text-tech-400 transition-colors mb-8 group",children:[e.jsx(C,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-sm font-medium",children:"Back to Tools"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-tech-500/10 rounded-xl text-tech-400 border border-tech-500/20",children:e.jsx(I,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"FocusFlow Widget"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Track your engagement sessions automatically"})]})]}),e.jsxs("div",{className:"p-5 rounded-2xl bg-dark-card/50 border border-tech-500/20 mb-10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-tech-600/10 rounded-full blur-3xl group-hover:bg-tech-600/20 transition-colors duration-700"}),e.jsxs("div",{className:"flex items-start gap-4 relative",children:[e.jsx("div",{className:"p-2 bg-tech-500/20 rounded-lg text-tech-400 shrink-0",children:e.jsx(g,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Interactive Demo"}),e.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Look at the ",e.jsx("span",{className:"text-tech-400 font-medium",children:"bottom right"})," of your screen. The widget tracks your presence. Try switching tabs or minimizing this window—the progress will pause automatically."]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10",children:[{icon:g,title:"Visibility Detection",desc:"Uses Page Visibility API to detect when you leave the page"},{icon:z,title:"Session Tracking",desc:"Counts completed focus sessions automatically"},{icon:P,title:"Real-time Progress",desc:"Visual progress indicator with smooth animations"}].map((s,t)=>e.jsxs("div",{className:"p-4 rounded-xl bg-dark-card/30 border border-white/5 hover:border-tech-500/30 transition-all duration-300",children:[e.jsx("div",{className:"p-2 bg-tech-500/10 rounded-lg text-tech-400 w-fit mb-3",children:e.jsx(s.icon,{size:18})}),e.jsx("h4",{className:"text-white font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-slate-500 text-sm",children:s.desc})]},t))}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-tech-400 font-mono text-sm",children:"01."})," How It Works"]}),e.jsxs("p",{className:"text-slate-400 leading-relaxed",children:["The tracking mechanism utilizes the"," ",e.jsx("code",{className:"text-tech-400 bg-tech-950/30 px-1.5 py-0.5 rounded text-sm font-mono",children:"Page Visibility API"})," ",'alongside window focus events. This ensures that "engagement" means you are actually looking at the content, not just having the tab open in the background.']})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-tech-400 font-mono text-sm",children:"02."})," Widget Architecture"]}),e.jsx("ul",{className:"space-y-3",children:[{title:"Floating State",desc:"A non-intrusive FAB (Floating Action Button) shows progress at a glance."},{title:"Expanded State",desc:"Provides detailed context, controls, and feedback."},{title:"State Management",desc:"React hooks handle visibility logic efficiently."}].map((s,t)=>e.jsxs("li",{className:"flex items-start gap-3 p-3 rounded-lg bg-dark-card/30 border border-white/5",children:[e.jsx("span",{className:"text-tech-400 font-mono text-xs mt-1",children:"▸"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-white font-medium",children:[s.title,":"]})," ",e.jsx("span",{className:"text-slate-400",children:s.desc})]})]},t))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-tech-400 font-mono text-sm",children:"03."})," Deep Work"]}),e.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Deep work is the ability to focus without distraction on a cognitively demanding task. It's a skill that allows you to quickly master complicated information and produce better results in less time. Deep work will make you better at what you do and provide the sense of true fulfillment that comes from craftsmanship."})]})]})]}),e.jsx(W,{})]});function G(){return[{title:"FocusFlow Widget | Carry"},{property:"og:title",content:"FocusFlow Widget"},{name:"description",content:"FocusFlow Widget - Track your engagement sessions automatically with Page Visibility API."}]}const K=N(B);export{K as default,G as meta};

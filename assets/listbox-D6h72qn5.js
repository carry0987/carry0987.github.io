import{c as ie}from"./createLucideIcon-L32m9IJq.js";import{o as T,Y as q,K,p as Se,m as Ae,T as De,k as de,u as U,x as ye,a as Ne,b as Ve,c as te,d as g,f as Z,e as Be,G as He,g as ze,Z as je,h as Ue,y as J,F as Qe,i as qe,S as R,L as Ke,j as ee,n as We,l as S,s as Ge,N as Je,w as Xe,$ as Ye,q as Ze,r as et,t as Q,V as $e,v as tt,z as nt,A as me,B as ot,C as it,D as oe,E as at,H as st,I as rt,R as lt,J as ut,M as ct,O as dt,P as be,Q as pt,U as ft,W as vt,X as ht,_ as mt,a0 as pe,a1 as bt,a2 as gt,a3 as xt,a4 as Ot,a5 as St,a6 as yt,a7 as $t,a8 as It,a9 as Et,aa as ge}from"./use-text-value-DpdD0Xl5.js";import{r,R as b}from"./chunk-JMJ3UQ3L-C0SlIIRb.js";import{r as G}from"./index-4SdTQl0Q.js";const Rt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vn=ie("chevron-up",Rt);const Pt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hn=ie("refresh-cw",Pt);const kt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mn=ie("save",kt);const Mt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bn=ie("trash-2",Mt);function wt(e,n,t){let[o,i]=r.useState(t),a=e!==void 0,c=r.useRef(a),d=r.useRef(!1),f=r.useRef(!1);return a&&!c.current&&!d.current?(d.current=!0,c.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&c.current&&!f.current&&(f.current=!0,c.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:o,T(u=>(a||G.flushSync(()=>i(u)),n?.(u)))]}function Lt(e){let[n]=r.useState(e);return n}function Ie(e={},n=null,t=[]){for(let[o,i]of Object.entries(e))Re(t,Ee(n,o),i);return t}function Ee(e,n){return e?e+"["+n+"]":n}function Re(e,n,t){if(Array.isArray(t))for(let[o,i]of t.entries())Re(e,Ee(n,o.toString()),i);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Ct(t)&&!r.isValidElement(t)&&Ie(t,n,e)}function Tt(e){var n,t;let o=(n=e?.form)!=null?n:e.closest("form");if(o){for(let i of o.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(t=o.requestSubmit)==null||t.call(o)}}function Ct(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let n=Object.getPrototypeOf(e);return n===null||Object.getPrototypeOf(n)===null}let Ft="span";var fe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(fe||{});function _t(e,n){var t;let{features:o=1,...i}=e,a={ref:n,"aria-hidden":(o&2)===2?!0:(t=i["aria-hidden"])!=null?t:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return K()({ourProps:a,theirProps:i,slot:{},defaultTag:Ft,name:"Hidden"})}let Pe=q(_t),At=r.createContext(null);function Dt({children:e}){let n=r.useContext(At);if(!n)return b.createElement(b.Fragment,null,e);let{target:t}=n;return t?G.createPortal(b.createElement(b.Fragment,null,e),t):null}function Nt({data:e,form:n,disabled:t,onReset:o,overrides:i}){let[a,c]=r.useState(null),d=Se();return r.useEffect(()=>{if(o&&a)return d.addEventListener(a,"reset",o)},[a,n,o]),b.createElement(Dt,null,b.createElement(Vt,{setForm:c,formId:n}),Ie(e).map(([f,u])=>b.createElement(Pe,{features:fe.Hidden,...Ae({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:f,value:u,...i})})))}function Vt({setForm:e,formId:n}){return r.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:b.createElement(Pe,{features:fe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let o=t.closest("form");o&&e(o)}})}function Bt(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function Ht(e=Bt){return r.useCallback((n,t)=>{if(typeof e=="string"){let o=e;return n?.[o]===t?.[o]}return e(n,t)},[e])}function zt({children:e,freeze:n},t){let o=ke(n,e);return r.isValidElement(o)?r.cloneElement(o,{ref:t}):b.createElement(b.Fragment,null,o)}b.forwardRef(zt);function ke(e,n){let[t,o]=r.useState(n);return!e&&t!==n&&o(n),e?t:n}var jt=Object.defineProperty,Ut=(e,n,t)=>n in e?jt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,xe=(e,n,t)=>(Ut(e,typeof n!="symbol"?n+"":n,t),t),y=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(y||{}),B=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(B||{}),ne=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ne||{}),Me=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(Me||{});function Oe(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=He(n(e.options.slice()),a=>a.dataRef.current.domRef.current),i=t?o.indexOf(t):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let Qt={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.buttonElement?te.Tracked(Be(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:g.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:n}},0(e,n){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,i=e.options.findIndex(a=>o(a.dataRef.current.value));return i!==-1&&(t=i),{...e,frozenValue:!1,pendingFocus:n.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1,buttonPositionState:te.Idle}},2(e,n){var t,o,i,a,c;if(e.dataRef.current.disabled||e.listboxState===1)return e;let d={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===g.Nothing)return{...d,activeOptionIndex:null};if(n.focus===g.Specific)return{...d,activeOptionIndex:e.options.findIndex(m=>m.id===n.id)};if(n.focus===g.Previous){let m=e.activeOptionIndex;if(m!==null){let O=e.options[m].dataRef.current.domRef,p=Z(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(p!==null){let s=e.options[p].dataRef.current.domRef;if(((o=O.current)==null?void 0:o.previousElementSibling)===s.current||((i=s.current)==null?void 0:i.previousElementSibling)===null)return{...d,activeOptionIndex:p}}}}else if(n.focus===g.Next){let m=e.activeOptionIndex;if(m!==null){let O=e.options[m].dataRef.current.domRef,p=Z(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(p!==null){let s=e.options[p].dataRef.current.domRef;if(((a=O.current)==null?void 0:a.nextElementSibling)===s.current||((c=s.current)==null?void 0:c.nextElementSibling)===null)return{...d,activeOptionIndex:p}}}}let f=Oe(e),u=Z(n,{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});return{...d,...f,activeOptionIndex:u}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,o=e.searchQuery+n.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(c=>{var d;return!c.dataRef.current.disabled&&((d=c.dataRef.current.textValue)==null?void 0:d.startsWith(o))}),a=i?e.options.indexOf(i):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:a,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,n)=>{let t=e.options.concat(n.options),o=e.activeOptionIndex;if(e.pendingFocus.focus!==g.Nothing&&(o=Z(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:i}=e.dataRef.current;if(i){let a=t.findIndex(c=>i?.(c.dataRef.current.value));a!==-1&&(o=a)}}return{...e,options:t,activeOptionIndex:o,pendingFocus:{focus:g.Nothing},pendingShouldSort:!0}},7:(e,n)=>{let t=e.options,o=[],i=new Set(n.options);for(let[a,c]of t.entries())if(i.has(c.id)&&(o.push(a),i.delete(c.id),i.size===0))break;if(o.length>0){t=t.slice();for(let a of o.reverse())t.splice(a,1)}return{...e,options:t,activationTrigger:1}},8:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},9:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},10:e=>e.pendingShouldSort?{...e,...Oe(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:te.Moved}}};class ve extends De{constructor(n){super(n),xe(this,"actions",{onChange:t=>{let{onChange:o,compare:i,mode:a,value:c}=this.state.dataRef.current;return U(a,{0:()=>o?.(t),1:()=>{let d=c.slice(),f=d.findIndex(u=>i(u,t));return f===-1?d.push(t):d.splice(f,1),o?.(d)}})},registerOption:de(()=>{let t=[],o=new Set;return[(i,a)=>{o.has(a)||(o.add(a),t.push({id:i,dataRef:a}))},()=>(o.clear(),this.send({type:6,options:t.splice(0)}))]}),unregisterOption:de(()=>{let t=[];return[o=>t.push(o),()=>{this.send({type:7,options:t.splice(0)})}]}),goToOption:de(()=>{let t=null;return[(o,i)=>{t={type:2,...o,trigger:i}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{var t;if(this.state.activeOptionIndex!==null){let{dataRef:o}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(o.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(t=this.state.buttonElement)==null||t.focus({preventScroll:!0}))},selectOption:t=>{this.send({type:5,value:t})},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:8,element:t})},setOptionsElement:t=>{this.send({type:9,element:t})}}),xe(this,"selectors",{activeDescendantId(t){var o;let i=t.activeOptionIndex,a=t.options;return i===null||(o=a[i])==null?void 0:o.id},isActive(t,o){var i;let a=t.activeOptionIndex,c=t.options;return a!==null?((i=c[a])==null?void 0:i.id)===o:!1},hasFrozenValue(t){return t.frozenValue},shouldScrollIntoView(t,o){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,o)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let t=this.state.id,o=ye.get(null);this.disposables.add(o.on(Ne.Push,i=>{!o.selectors.isTop(i,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>o.actions.push(t)),this.on(1,()=>o.actions.pop(t))}this.disposables.group(t=>{this.on(1,o=>{o.buttonElement&&(t.dispose(),t.add(Ve(o.buttonElement,o.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(t,o)=>{var i;this.actions.onChange(o.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(i=this.state.buttonElement)==null||i.focus({preventScroll:!0}))})}static new({id:n,__demoMode:t=!1}){return new ve({id:n,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:g.Nothing},frozenValue:!1,__demoMode:t,buttonPositionState:te.Idle})}reduce(n,t){return U(t.type,Qt,n,t)}}const we=r.createContext(null);function he(e){let n=r.useContext(we);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Le),t}return n}function Le({id:e,__demoMode:n=!1}){let t=r.useMemo(()=>ve.new({id:e,__demoMode:n}),[]);return ze(()=>t.dispose()),t}let ae=r.createContext(null);ae.displayName="ListboxDataContext";function X(e){let n=r.useContext(ae);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return n}let qt=r.Fragment;function Kt(e,n){let t=r.useId(),o=xt(),{value:i,defaultValue:a,form:c,name:d,onChange:f,by:u,invalid:m=!1,disabled:O=o||!1,horizontal:p=!1,multiple:s=!1,__demoMode:x=!1,...M}=e;const P=p?"horizontal":"vertical";let D=J(n),L=Lt(a),[$=s?[]:void 0,k]=wt(i,f,L),I=Le({id:t,__demoMode:x}),N=r.useRef({static:!1,hold:!1}),H=r.useRef(new Map),C=Ht(u),z=r.useCallback(E=>U(v.mode,{[B.Multi]:()=>$.some(W=>C(W,E)),[B.Single]:()=>C($,E)}),[$]),v=Q({value:$,disabled:O,invalid:m,mode:s?B.Multi:B.Single,orientation:P,onChange:k,compare:C,isSelected:z,optionsPropsRef:N,listRef:H});pe(()=>{I.state.dataRef.current=v},[v]);let w=R(I,E=>E.listboxState),F=ye.get(null),j=R(F,r.useCallback(E=>F.selectors.isTop(E,t),[F,t])),[_,h]=R(I,E=>[E.buttonElement,E.optionsElement]);Ot(j,[_,h],(E,W)=>{I.send({type:Me.CloseListbox}),St(W,yt.Loose)||(E.preventDefault(),_?.focus())});let A=Q({open:w===y.Open,disabled:O,invalid:m,value:$}),[se,re]=$t({inherit:!0}),Y={ref:D},le=r.useCallback(()=>{if(L!==void 0)return k?.(L)},[k,L]),ue=K();return b.createElement(re,{value:se,props:{htmlFor:_?.id},slot:{open:w===y.Open,disabled:O}},b.createElement(It,null,b.createElement(we.Provider,{value:I},b.createElement(ae.Provider,{value:v},b.createElement(Et,{value:U(w,{[y.Open]:oe.Open,[y.Closed]:oe.Closed})},d!=null&&$!=null&&b.createElement(Nt,{disabled:O,data:{[d]:$},form:c,onReset:le}),ue({ourProps:Y,theirProps:M,slot:A,defaultTag:qt,name:"Listbox"}))))))}let Wt="button";function Gt(e,n){let t=r.useId(),o=Ue(),i=X("Listbox.Button"),a=he("Listbox.Button"),{id:c=o||`headlessui-listbox-button-${t}`,disabled:d=i.disabled||!1,autoFocus:f=!1,...u}=e,m=J(n,Qe(),a.actions.setButtonElement),O=qe(),[p,s,x]=R(a,h=>[h.listboxState,h.buttonElement,h.optionsElement]),M=p===y.Open;Ke(M,{trigger:s,action:r.useCallback(h=>{if(s!=null&&s.contains(h.target))return ee.Ignore;let A=h.target.closest('[role="option"]:not([data-disabled])');return We(A)?ee.Select(A):x!=null&&x.contains(h.target)?ee.Ignore:ee.Close},[s,x]),close:a.actions.closeListbox,select:a.actions.selectActiveOption});let P=T(h=>{switch(h.key){case S.Enter:Tt(h.currentTarget);break;case S.Space:case S.ArrowDown:h.preventDefault(),a.actions.openListbox({focus:i.value?g.Nothing:g.First});break;case S.ArrowUp:h.preventDefault(),a.actions.openListbox({focus:i.value?g.Nothing:g.Last});break}}),D=T(h=>{h.key===S.Space&&h.preventDefault()}),L=Ge(h=>{var A;a.state.listboxState===y.Open?(G.flushSync(()=>a.actions.closeListbox()),(A=a.state.buttonElement)==null||A.focus({preventScroll:!0})):(h.preventDefault(),a.actions.openListbox({focus:g.Nothing}))}),$=T(h=>h.preventDefault()),k=Je([c]),I=Xe(),{isFocusVisible:N,focusProps:H}=Ye({autoFocus:f}),{isHovered:C,hoverProps:z}=Ze({isDisabled:d}),{pressed:v,pressProps:w}=et({disabled:d}),F=Q({open:p===y.Open,active:v||p===y.Open,disabled:d,invalid:i.invalid,value:i.value,hover:C,focus:N,autofocus:f}),j=R(a,h=>h.listboxState===y.Open),_=$e(O(),{ref:m,id:c,type:tt(e,s),"aria-haspopup":"listbox","aria-controls":x?.id,"aria-expanded":j,"aria-labelledby":k,"aria-describedby":I,disabled:d||void 0,autoFocus:f,onKeyDown:P,onKeyUp:D,onKeyPress:$},L,H,z,w);return K()({ourProps:_,theirProps:u,slot:F,defaultTag:Wt,name:"Listbox.Button"})}let Te=r.createContext(!1),Jt="div",Xt=ge.RenderStrategy|ge.Static;function Yt(e,n){let t=r.useId(),{id:o=`headlessui-listbox-options-${t}`,anchor:i,portal:a=!1,modal:c=!0,transition:d=!1,...f}=e,u=nt(i),[m,O]=r.useState(null);u&&(a=!0);let p=X("Listbox.Options"),s=he("Listbox.Options"),[x,M,P,D]=R(s,l=>[l.listboxState,l.buttonElement,l.optionsElement,l.__demoMode]),L=me(M),$=me(P),k=ot(),[I,N]=it(d,m,k!==null?(k&oe.Open)===oe.Open:x===y.Open);at(I,M,s.actions.closeListbox);let H=D?!1:c&&x===y.Open;st(H,$);let C=D?!1:c&&x===y.Open;rt(C,{allowed:r.useCallback(()=>[M,P],[M,P])});let z=R(s,s.selectors.didButtonMove)?!1:I,v=R(s,s.selectors.hasFrozenValue)&&!e.static,w=ke(v,p.value),F=r.useCallback(l=>p.compare(w,l),[p.compare,w]),j=R(s,l=>{var V;if(u==null||!((V=u?.to)!=null&&V.includes("selection")))return null;let ce=l.options.findIndex(_e=>F(_e.dataRef.current.value));return ce===-1&&(ce=0),ce}),_=(()=>{if(u==null)return;if(j===null)return{...u,inner:void 0};let l=Array.from(p.listRef.current.values());return{...u,inner:{listRef:{current:l},index:j}}})(),[h,A]=lt(_),se=ut(),re=J(n,u?h:null,s.actions.setOptionsElement,O),Y=Se();r.useEffect(()=>{let l=P;l&&x===y.Open&&(ct(l)||l==null||l.focus({preventScroll:!0}))},[x,P]);let le=T(l=>{var V;switch(Y.dispose(),l.key){case S.Space:if(s.state.searchQuery!=="")return l.preventDefault(),l.stopPropagation(),s.actions.search(l.key);case S.Enter:l.preventDefault(),l.stopPropagation(),s.actions.selectActiveOption();break;case U(p.orientation,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return l.preventDefault(),l.stopPropagation(),s.actions.goToOption({focus:g.Next});case U(p.orientation,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),s.actions.goToOption({focus:g.Previous});case S.Home:case S.PageUp:return l.preventDefault(),l.stopPropagation(),s.actions.goToOption({focus:g.First});case S.End:case S.PageDown:return l.preventDefault(),l.stopPropagation(),s.actions.goToOption({focus:g.Last});case S.Escape:l.preventDefault(),l.stopPropagation(),G.flushSync(()=>s.actions.closeListbox()),(V=s.state.buttonElement)==null||V.focus({preventScroll:!0});return;case S.Tab:l.preventDefault(),l.stopPropagation(),G.flushSync(()=>s.actions.closeListbox()),dt(s.state.buttonElement,l.shiftKey?be.Previous:be.Next);break;default:l.key.length===1&&(s.actions.search(l.key),Y.setTimeout(()=>s.actions.clearSearch(),350));break}}),ue=R(s,l=>{var V;return(V=l.buttonElement)==null?void 0:V.id}),E=Q({open:x===y.Open}),W=$e(u?se():{},{id:o,ref:re,"aria-activedescendant":R(s,s.selectors.activeDescendantId),"aria-multiselectable":p.mode===B.Multi?!0:void 0,"aria-labelledby":ue,"aria-orientation":p.orientation,onKeyDown:le,role:"listbox",tabIndex:x===y.Open?0:void 0,style:{...f.style,...A,"--button-width":ft(I,M,!0).width},...pt(N)}),Ce=K(),Fe=r.useMemo(()=>p.mode===B.Multi?p:{...p,isSelected:F},[p,F]);return b.createElement(vt,{enabled:a?e.static||I:!1,ownerDocument:L},b.createElement(ae.Provider,{value:Fe},Ce({ourProps:W,theirProps:f,slot:E,defaultTag:Jt,features:Xt,visible:z,name:"Listbox.Options"})))}let Zt="div";function en(e,n){let t=r.useId(),{id:o=`headlessui-listbox-option-${t}`,disabled:i=!1,value:a,...c}=e,d=r.useContext(Te)===!0,f=X("Listbox.Option"),u=he("Listbox.Option"),m=R(u,v=>u.selectors.isActive(v,o)),O=f.isSelected(a),p=r.useRef(null),s=ht(p),x=mt({disabled:i,value:a,domRef:p,get textValue(){return s()}}),M=J(n,p,v=>{v?f.listRef.current.set(o,v):f.listRef.current.delete(o)}),P=R(u,v=>u.selectors.shouldScrollIntoView(v,o));pe(()=>{if(P)return bt().requestAnimationFrame(()=>{var v,w;(w=(v=p.current)==null?void 0:v.scrollIntoView)==null||w.call(v,{block:"nearest"})})},[P,p]),pe(()=>{if(!d)return u.actions.registerOption(o,x),()=>u.actions.unregisterOption(o)},[x,o,d]);let D=T(v=>{if(i)return v.preventDefault();u.actions.selectOption(a)}),L=T(()=>{if(i)return u.actions.goToOption({focus:g.Nothing});u.actions.goToOption({focus:g.Specific,id:o})}),$=gt(),k=T(v=>$.update(v)),I=T(v=>{$.wasMoved(v)&&(i||m&&u.state.activationTrigger===ne.Pointer||u.actions.goToOption({focus:g.Specific,id:o},ne.Pointer))}),N=T(v=>{$.wasMoved(v)&&(i||m&&u.state.activationTrigger===ne.Pointer&&u.actions.goToOption({focus:g.Nothing}))}),H=Q({active:m,focus:m,selected:O,disabled:i,selectedOption:O&&d}),C=d?{}:{id:o,ref:M,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":O,disabled:void 0,onClick:D,onFocus:L,onPointerEnter:k,onMouseEnter:k,onPointerMove:I,onMouseMove:I,onPointerLeave:N,onMouseLeave:N},z=K();return!O&&d?null:z({ourProps:C,theirProps:c,slot:H,defaultTag:Zt,name:"Listbox.Option"})}let tn=r.Fragment;function nn(e,n){let{options:t,placeholder:o,...i}=e,a={ref:J(n)},c=X("ListboxSelectedOption"),d=Q({}),f=c.value===void 0||c.value===null||c.mode===B.Multi&&Array.isArray(c.value)&&c.value.length===0,u=K();return b.createElement(Te.Provider,{value:!0},u({ourProps:a,theirProps:{...i,children:b.createElement(b.Fragment,null,o&&f?o:t)},slot:d,defaultTag:tn,name:"ListboxSelectedOption"}))}let on=q(Kt),an=q(Gt),sn=je,rn=q(Yt),ln=q(en),un=q(nn),gn=Object.assign(on,{Button:an,Label:sn,Options:rn,Option:ln,SelectedOption:un});export{rn as B,vn as C,ln as I,gn as M,hn as R,mn as S,bn as T,an as a,Pe as f,fe as s};

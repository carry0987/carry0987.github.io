import{a as u,o as s,G as N,r as bn,z as Lt,w as vn,L as yn}from"./chunk-WWGJGFF6-CJwpp1BS.js";import{g as wn,s as jn}from"./index-Cpx2NyP8.js";import{c as D}from"./createLucideIcon-LQgJ85oz.js";import{A as br}from"./arrow-left-Dgfy1sxC.js";import{I as He}from"./image-BX_HR7zP.js";import{a as Nn}from"./index-i8qMm0el.js";import{X as vr}from"./x-GQOpm4jL.js";import{a as Ct,C as En}from"./circle-alert-BQ8RIZ1B.js";import{T as yr}from"./triangle-alert-CDBo2zQu.js";import{M as wr,U as kn}from"./upload-B8V-oApr.js";import{W as Sn,D as $n,L as Cn,K as Tn,E as _t,G as An,T as Te}from"./index-BxMikLpS.js";import{C as Rn}from"./clock-BRwgOyPy.js";import{T as Pn}from"./trash-2-LeIvAzQL.js";import{E as Fn}from"./external-link-BviELRYq.js";import{E as zt}from"./eye-DMsks5er.js";const In=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Mn=D("battery",In);const Dn=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],On=D("camera",Dn);const Ln=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ft=D("chevron-left",Ln);const _n=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zn=D("circle-check-big",_n);const Un=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ut=D("clock-3",Un);const Vn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Vt=D("ellipsis-vertical",Vn);const Hn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ht=D("ellipsis",Hn);const Gn=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Bn=D("file-down",Gn);const Wn=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],qn=D("file-up",Wn);const Kn=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Yn=D("grip-vertical",Kn);const Xn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jr=D("info",Xn);const Jn=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ge=D("mic",Jn);const Qn=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Gt=D("phone",Qn);const Zn=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bt=D("play",Zn);const es=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ts=D("plus",es);const rs=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ns=D("refresh-cw",rs);const ss=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],as=D("save",ss);const ls=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],is=D("signal",ls);const os=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Be=D("smile",os);const cs=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],us=D("sparkles",cs);const ds=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],fs=D("type",ds);const ms=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hs=D("video",ms);const ps=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],xs=D("wifi",ps);function gs(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const bs=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ue(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let ke=null;function Nr(e={}){return ke||(e.includeStyleProperties?(ke=e.includeStyleProperties,ke):(ke=ue(window.getComputedStyle(document.documentElement)),ke))}function We(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function vs(e){const t=We(e,"border-left-width"),r=We(e,"border-right-width");return e.clientWidth+t+r}function ys(e){const t=We(e,"border-top-width"),r=We(e,"border-bottom-width");return e.clientHeight+t+r}function Er(e,t={}){const r=t.width||vs(e),n=t.height||ys(e);return{width:r,height:n}}function ws(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const G=16384;function js(e){(e.width>G||e.height>G)&&(e.width>G&&e.height>G?e.width>e.height?(e.height*=G/e.width,e.width=G):(e.width*=G/e.height,e.height=G):e.width>G?(e.height*=G/e.width,e.width=G):(e.width*=G/e.height,e.height=G))}function qe(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Ns(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Es(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),l=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),a.appendChild(l),l.appendChild(e),Ns(a)}const U=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||U(r,t)};function ks(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ss(e,t){return Nr(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function $s(e,t,r,n){const a=`.${e}:${t}`,l=r.cssText?ks(r):Ss(r,n);return document.createTextNode(`${a}{${l}}`)}function Wt(e,t,r,n){const a=window.getComputedStyle(e,r),l=a.getPropertyValue("content");if(l===""||l==="none")return;const o=bs();try{t.className=`${t.className} ${o}`}catch{return}const i=document.createElement("style");i.appendChild($s(o,r,a,n)),t.appendChild(i)}function Cs(e,t,r){Wt(e,t,":before",r),Wt(e,t,":after",r)}const qt="application/font-woff",Kt="image/jpeg",Ts={woff:qt,woff2:qt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Kt,jpeg:Kt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function As(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Tt(e){const t=As(e).toLowerCase();return Ts[t]||""}function Rs(e){return e.split(/,/)[1]}function yt(e){return e.search(/^(data:)/)!==-1}function Ps(e,t){return`data:${t};base64,${e}`}async function kr(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((l,o)=>{const i=new FileReader;i.onerror=o,i.onloadend=()=>{try{l(r({res:n,result:i.result}))}catch(c){o(c)}},i.readAsDataURL(a)})}const mt={};function Fs(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function At(e,t,r){const n=Fs(e,t,r.includeQueryParams);if(mt[n]!=null)return mt[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const l=await kr(e,r.fetchRequestInit,({res:o,result:i})=>(t||(t=o.headers.get("Content-Type")||""),Rs(i)));a=Ps(l,t)}catch(l){a=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;l&&(o=typeof l=="string"?l:l.message),o&&console.warn(o)}return mt[n]=a,a}async function Is(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):qe(t)}async function Ms(e,t){if(e.currentSrc){const l=document.createElement("canvas"),o=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,o?.drawImage(e,0,0,l.width,l.height);const i=l.toDataURL();return qe(i)}const r=e.poster,n=Tt(r),a=await At(r,n,t);return qe(a)}async function Ds(e,t){var r;try{if(!((r=e?.contentDocument)===null||r===void 0)&&r.body)return await Je(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Os(e,t){return U(e,HTMLCanvasElement)?Is(e):U(e,HTMLVideoElement)?Ms(e,t):U(e,HTMLIFrameElement)?Ds(e,t):e.cloneNode(Sr(e))}const Ls=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Sr=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function _s(e,t,r){var n,a;if(Sr(t))return t;let l=[];return Ls(e)&&e.assignedNodes?l=ue(e.assignedNodes()):U(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?l=ue(e.contentDocument.body.childNodes):l=ue(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),l.length===0||U(e,HTMLVideoElement)||await l.reduce((o,i)=>o.then(()=>Je(i,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function zs(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):Nr(r).forEach(l=>{let o=a.getPropertyValue(l);l==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),U(e,HTMLIFrameElement)&&l==="display"&&o==="inline"&&(o="block"),l==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(l,o,a.getPropertyPriority(l))})}function Us(e,t){U(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),U(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Vs(e,t){if(U(e,HTMLSelectElement)){const n=Array.from(t.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function Hs(e,t,r){return U(t,Element)&&(zs(e,t,r),Cs(e,t,r),Us(e,t),Vs(e,t)),t}async function Gs(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let l=0;l<r.length;l++){const i=r[l].getAttribute("xlink:href");if(i){const c=e.querySelector(i),d=document.querySelector(i);!c&&d&&!n[i]&&(n[i]=await Je(d,t,!0))}}const a=Object.values(n);if(a.length){const l="http://www.w3.org/1999/xhtml",o=document.createElementNS(l,"svg");o.setAttribute("xmlns",l),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const i=document.createElementNS(l,"defs");o.appendChild(i);for(let c=0;c<a.length;c++)i.appendChild(a[c]);e.appendChild(o)}return e}async function Je(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Os(n,t)).then(n=>_s(e,n,t)).then(n=>Hs(e,n,t)).then(n=>Gs(n,t))}const $r=/url\((['"]?)([^'"]+?)\1\)/g,Bs=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ws=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function qs(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Ks(e){const t=[];return e.replace($r,(r,n,a)=>(t.push(a),r)),t.filter(r=>!yt(r))}async function Ys(e,t,r,n,a){try{const l=r?gs(t,r):t,o=Tt(t);let i;return a||(i=await At(l,o,n)),e.replace(qs(t),`$1${i}$3`)}catch{}return e}function Xs(e,{preferredFontFormat:t}){return t?e.replace(Ws,r=>{for(;;){const[n,,a]=Bs.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function Cr(e){return e.search($r)!==-1}async function Tr(e,t,r){if(!Cr(e))return e;const n=Xs(e,r);return Ks(n).reduce((l,o)=>l.then(i=>Ys(i,o,t,r)),Promise.resolve(n))}async function Se(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const l=await Tr(a,null,r);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function Js(e,t){await Se("background",e,t)||await Se("background-image",e,t),await Se("mask",e,t)||await Se("-webkit-mask",e,t)||await Se("mask-image",e,t)||await Se("-webkit-mask-image",e,t)}async function Qs(e,t){const r=U(e,HTMLImageElement);if(!(r&&!yt(e.src))&&!(U(e,SVGImageElement)&&!yt(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await At(n,Tt(n),t);await new Promise((l,o)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...c)=>{try{l(t.onImageErrorHandler(...c))}catch(d){o(d)}}:o;const i=e;i.decode&&(i.decode=l),i.loading==="lazy"&&(i.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Zs(e,t){const n=ue(e.childNodes).map(a=>Ar(a,t));await Promise.all(n).then(()=>e)}async function Ar(e,t){U(e,Element)&&(await Js(e,t),await Qs(e,t),await Zs(e,t))}function ea(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const Yt={};async function Xt(e){let t=Yt[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},Yt[e]=t,t}async function Jt(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,l=(r.match(/url\([^)]+\)/g)||[]).map(async o=>{let i=o.replace(n,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),kr(i,t.fetchRequestInit,({result:c})=>(r=r.replace(o,`url(${c})`),[o,c]))});return Promise.all(l).then(()=>r)}function Qt(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(a,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(o,"gi");for(;;){let c=l.exec(n);if(c===null){if(c=i.exec(n),c===null)break;l.lastIndex=i.lastIndex}else i.lastIndex=l.lastIndex;t.push(c[0])}return t}async function ta(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{ue(a.cssRules||[]).forEach((l,o)=>{if(l.type===CSSRule.IMPORT_RULE){let i=o+1;const c=l.href,d=Xt(c).then(f=>Jt(f,t)).then(f=>Qt(f).forEach(x=>{try{a.insertRule(x,x.startsWith("@import")?i+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:x,error:p})}})).catch(f=>{console.error("Error loading remote css",f.toString())});n.push(d)}})}catch(l){const o=e.find(i=>i.href==null)||document.styleSheets[0];a.href!=null&&n.push(Xt(a.href).then(i=>Jt(i,t)).then(i=>Qt(i).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",l)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{ue(a.cssRules||[]).forEach(l=>{r.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${a.href}`,l)}}),r))}function ra(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Cr(t.style.getPropertyValue("src")))}async function na(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=ue(e.ownerDocument.styleSheets),n=await ta(r,t);return ra(n)}function Rr(e){return e.trim().replace(/["']/g,"")}function sa(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(l=>{t.add(Rr(l))}),Array.from(n.children).forEach(l=>{l instanceof HTMLElement&&r(l)})}return r(e),t}async function aa(e,t){const r=await na(e,t),n=sa(e);return(await Promise.all(r.filter(l=>n.has(Rr(l.style.fontFamily))).map(l=>{const o=l.parentStyleSheet?l.parentStyleSheet.href:null;return Tr(l.cssText,o,t)}))).join(`
`)}async function la(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await aa(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function ia(e,t={}){const{width:r,height:n}=Er(e,t),a=await Je(e,t,!0);return await la(a,t),await Ar(a,t),ea(a,t),await Es(a,r,n)}async function oa(e,t={}){const{width:r,height:n}=Er(e,t),a=await ia(e,t),l=await qe(a),o=document.createElement("canvas"),i=o.getContext("2d"),c=t.pixelRatio||ws(),d=t.canvasWidth||r,f=t.canvasHeight||n;return o.width=d*c,o.height=f*c,t.skipAutoScale||js(o),o.style.width=`${d}`,o.style.height=`${f}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,o.width,o.height)),i.drawImage(l,0,0,o.width,o.height),o}async function ca(e,t={}){return(await oa(e,t)).toDataURL()}const Zt={time:"12:34",batteryLevel:85,partnerName:"Babe â¤ï¸",partnerAvatar:"https://picsum.photos/100/100",myAvatar:"https://picsum.photos/101/101",isTyping:!1},er=[{id:"1",text:"Hey! What do you want for dinner tonight?",isSender:!1,timestamp:"12:30",isRead:!0},{id:"2",text:"I want hot pot ðŸ²",isSender:!0,timestamp:"12:31",isRead:!0}],ua=[{id:"instagram",name:"Instagram",icon:"camera"},{id:"line",name:"LINE",icon:"message-circle"},{id:"telegram",name:"Telegram",icon:"send"},{id:"tiktok",name:"TikTok",icon:"music"}],da=["ðŸ˜€","ðŸ˜‚","ðŸ¥°","ðŸ˜","ðŸ˜˜","ðŸ¥º","ðŸ˜¢","ðŸ˜­","ðŸ˜¡","ðŸ¤”","ðŸ˜±","ðŸ™„","ðŸ˜´","ðŸ¤—","ðŸ¤£","ðŸ˜Ž","â¤ï¸","ðŸ’•","ðŸ’–","ðŸ’”","ðŸ”¥","âœ¨","ðŸŽ‰","ðŸ‘","ðŸ‘Ž","ðŸ‘","ðŸ™","ðŸ’ª","ðŸ¤","ðŸ‘‹","âœŒï¸","ðŸ¤ž","ðŸ•","ðŸ”","ðŸœ","ðŸ²","ðŸº","â˜•","ðŸŽ‚","ðŸ°","ðŸŽ","ðŸŽˆ","ðŸŽŠ","ðŸ’","ðŸŒ¹","ðŸŒ¸","â­","ðŸŒ™"],fa=["â¤ï¸","ðŸ˜‚","ðŸ˜®","ðŸ˜¢","ðŸ˜¡","ðŸ‘"],tr=e=>{const t=Math.floor(e/60),r=e%60;return`${t}:${r.toString().padStart(2,"0")}`},Pr=u.forwardRef(({platform:e,messages:t,settings:r,onUpdateMessage:n},a)=>{const[l,o]=u.useState(null),[i,c]=u.useState(null),[d,f]=u.useState("top"),x=u.useRef(new Map),p=u.useRef(null),g=(h,j)=>{if(e!=="instagram")return;const I=setTimeout(()=>{const S=x.current.get(h),A=p.current;if(S&&A){const _=S.getBoundingClientRect(),M=A.getBoundingClientRect(),z=_.top-M.top;f(z<60?"bottom":"top")}o(h)},500);c(I)},b=()=>{i&&(clearTimeout(i),c(null))},v=h=>{if(l){const I=t.find(S=>S.id===l)?.reaction===h?void 0:h;n(l,{reaction:I}),o(null)}};u.useEffect(()=>{const h=j=>{l&&!j.target.closest(".reaction-picker")&&o(null)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[l]);const w=()=>{switch(e){case"instagram":return s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-100 text-black",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ft,{size:28}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:r.partnerAvatar,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold leading-tight",children:r.partnerName}),s.jsx("p",{className:"text-[10px] text-gray-400 leading-tight",children:"Active now"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-5 text-black",children:[s.jsx(Gt,{size:24}),s.jsx(hs,{size:26})]})]});case"line":return s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#202732] text-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ft,{size:24}),s.jsx("h3",{className:"text-lg font-medium",children:r.partnerName})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Gt,{size:20}),s.jsx(Vt,{size:20})]})]});case"telegram":return s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#517da2] text-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(br,{size:24}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:r.partnerAvatar,alt:"avatar",className:"w-9 h-9 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold leading-tight",children:r.partnerName}),s.jsx("p",{className:"text-[11px] text-gray-200 opacity-80 leading-tight",children:"last seen recently"})]})]})]}),s.jsx(Vt,{size:22})]});case"tiktok":return s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black text-white border-b border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ft,{size:24}),s.jsx("div",{className:"text-center",children:s.jsx("h3",{className:"text-sm font-bold",children:r.partnerName})})]}),s.jsx(Ht,{size:24})]})}},y=()=>{switch(e){case"line":return"bg-[#9BB8DB]";case"telegram":return"bg-[#89a2b5]";case"tiktok":return"bg-black";case"instagram":default:return"bg-white"}},T=()=>{const h="w-2 h-2 rounded-full animate-bounce";switch(e){case"instagram":return s.jsxs("div",{className:"flex w-full mb-3 justify-start items-end gap-2",children:[s.jsx("img",{src:r.partnerAvatar,className:"w-7 h-7 rounded-full object-cover mb-1"}),s.jsxs("div",{className:"bg-[#efefef] px-4 py-3 rounded-3xl rounded-bl-md flex items-center gap-1.5",children:[s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"0ms"}}),s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"150ms"}}),s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"300ms"}})]})]});case"line":return s.jsxs("div",{className:"flex w-full mb-4 justify-start items-start gap-2",children:[s.jsx("img",{src:r.partnerAvatar,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-xs text-gray-600 mb-1 ml-1",children:r.partnerName}),s.jsxs("div",{className:"bg-white px-4 py-2.5 rounded-2xl shadow-sm flex items-center gap-1.5 relative after:absolute after:top-2 after:-left-1 after:w-3 after:h-3 after:bg-white after:rotate-45",children:[s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"0ms"}}),s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"150ms"}}),s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"300ms"}})]})]})]});case"telegram":return s.jsxs("div",{className:"flex w-full mb-2 justify-start gap-2",children:[s.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover self-end mb-1"}),s.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm flex items-center gap-1.5",children:[s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"0ms"}}),s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"150ms"}}),s.jsx("div",{className:`${h} bg-gray-400`,style:{animationDelay:"300ms"}})]})]});case"tiktok":return s.jsxs("div",{className:"flex w-full mb-3 justify-start items-end gap-2",children:[s.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover mb-1"}),s.jsxs("div",{className:"bg-[#383838] px-4 py-2.5 rounded-2xl rounded-bl-sm flex items-center gap-1.5",children:[s.jsx("div",{className:`${h} bg-gray-500`,style:{animationDelay:"0ms"}}),s.jsx("div",{className:`${h} bg-gray-500`,style:{animationDelay:"150ms"}}),s.jsx("div",{className:`${h} bg-gray-500`,style:{animationDelay:"300ms"}})]})]});default:return null}},E=(h,j,I="bars")=>I==="line"?s.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[s.jsx("div",{className:`p-1.5 rounded-full ${h?"bg-black/20":"bg-gray-200"}`,children:s.jsx(Bt,{size:12,fill:"currentColor"})}),s.jsx("div",{className:"flex-1 h-1 bg-gray-300 rounded-full relative overflow-hidden",children:s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1/3 bg-current opacity-50"})}),s.jsx("span",{className:"text-xs font-medium",children:tr(j)})]}):s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-1 rounded-full ${h?"text-white":"text-black"}`,children:s.jsx(Bt,{size:14,fill:"currentColor"})}),s.jsx("div",{className:"flex items-end gap-0.5 h-4",children:[...Array(15)].map((S,A)=>s.jsx("div",{className:`w-0.5 rounded-full ${h?"bg-white/80":"bg-black/40"}`,style:{height:`${Math.max(20,Math.random()*100)}%`}},A))}),s.jsx("span",{className:"text-xs",children:tr(j)})]}),$=h=>{const j=h.isSender;if(e==="instagram"){const I=l===h.id;return s.jsxs("div",{className:`flex w-full mb-3 relative group ${j?"justify-end":"justify-start items-end gap-2"}`,children:[!j&&s.jsx("img",{src:r.partnerAvatar,className:"w-7 h-7 rounded-full object-cover mb-1"}),s.jsxs("div",{className:"relative",ref:S=>{S&&x.current.set(h.id,S)},children:[I&&s.jsx("div",{className:`reaction-picker absolute ${d==="top"?"-top-14":"top-full mt-2"} ${j?"right-0":"left-0"} bg-[#262626] rounded-full px-2 py-1.5 flex gap-1 z-30 shadow-xl animate-in zoom-in duration-200`,children:fa.map(S=>s.jsx("button",{onClick:()=>v(S),className:"w-8 h-8 flex items-center justify-center text-xl hover:scale-125 transition-transform cursor-pointer",children:S},S))}),s.jsxs("div",{onMouseDown:S=>g(h.id),onMouseUp:b,onMouseLeave:b,onTouchStart:S=>g(h.id),onTouchEnd:b,onContextMenu:S=>S.preventDefault(),className:`max-w-60 px-4 py-2.5 text-[15px] leading-snug rounded-3xl relative select-none cursor-pointer transition-transform active:scale-95 ${j?"bg-[#3797f0] text-white rounded-br-md":"bg-[#efefef] text-black rounded-bl-md"}`,children:[h.image?s.jsx("img",{src:h.image,className:"rounded-lg max-w-full"}):h.audioDuration?E(j,h.audioDuration,"bars"):h.text,s.jsx("div",{className:`text-[9px] mt-1 text-right ${j?"text-blue-100/80":"text-gray-400"}`,children:h.timestamp})]}),h.reaction&&s.jsx("div",{className:`absolute -bottom-2 ${j?"-left-1":"-right-1"} bg-white border-2 border-white rounded-full p-0.5 w-[22px] h-[22px] flex items-center justify-center shadow-sm z-10 text-[12px]`,children:h.reaction})]})]},h.id)}if(e==="line")return s.jsxs("div",{className:`flex w-full mb-4 ${j?"justify-end":"justify-start items-start gap-2"}`,children:[!j&&s.jsx("img",{src:r.partnerAvatar,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:`flex flex-col ${j?"items-end":"items-start"}`,children:[!j&&s.jsx("span",{className:"text-xs text-gray-600 mb-1 ml-1",children:r.partnerName}),s.jsxs("div",{className:"flex items-end gap-1.5",children:[j&&s.jsxs("div",{className:"flex flex-col items-end text-[10px] text-gray-600 min-w-[30px]",children:[h.isRead&&s.jsx("span",{children:"Read"}),s.jsx("span",{children:h.timestamp})]}),s.jsx("div",{className:`max-w-[220px] px-3 py-2 text-[14px] rounded-2xl shadow-sm relative leading-relaxed wrap-break-words ${j?"bg-[#85E249] text-black after:absolute after:top-2 after:-right-1 after:w-3 after:h-3 after:bg-[#85E249] after:rotate-45":"bg-white text-black after:absolute after:top-2 after:-left-1 after:w-3 after:h-3 after:bg-white after:rotate-45"}`,children:h.image?s.jsx("img",{src:h.image,className:"rounded-lg max-w-full"}):h.audioDuration?E(j,h.audioDuration,"line"):h.text}),!j&&s.jsx("span",{className:"text-[10px] text-gray-600 self-end",children:h.timestamp})]})]})]},h.id);if(e==="telegram")return s.jsxs("div",{className:`flex w-full mb-2 ${j?"justify-end":"justify-start gap-2"}`,children:[!j&&s.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover self-end mb-1"}),s.jsxs("div",{className:`max-w-[75%] px-3 py-1.5 rounded-lg text-[15px] shadow-sm relative min-w-[60px] ${j?"bg-[#eeffde] text-black":"bg-white text-black"}`,children:[s.jsx("div",{className:"wrap-break-words mb-1",children:h.image?s.jsx("img",{src:h.image,className:"rounded-lg max-w-full"}):h.audioDuration?E(j,h.audioDuration,"line"):h.text}),s.jsxs("div",{className:`text-[11px] flex items-center justify-end gap-1 ${j?"text-[#55a060]":"text-gray-400"}`,children:[s.jsx("span",{children:h.timestamp}),j&&s.jsx("span",{className:"font-bold text-[10px]",children:"âœ“âœ“"})]})]})]},h.id);if(e==="tiktok")return s.jsxs("div",{className:`flex w-full mb-3 ${j?"justify-end":"justify-start items-end gap-2"}`,children:[!j&&s.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover mb-1"}),s.jsxs("div",{className:`max-w-[70%] px-4 py-2.5 text-[15px] rounded-2xl ${j?"bg-[#2CB6D3] text-white rounded-br-sm":"bg-[#383838] text-white rounded-bl-sm"}`,children:[h.image?s.jsx("img",{src:h.image,className:"rounded-lg max-w-full"}):h.audioDuration?E(j,h.audioDuration,"bars"):h.text,s.jsx("div",{className:`text-[9px] mt-1 text-right ${j?"text-white/70":"text-gray-400"}`,children:h.timestamp})]})]},h.id)},R=()=>{switch(e){case"instagram":return s.jsx("div",{className:"px-4 py-3 bg-white flex items-center gap-3 border-t border-gray-100",children:s.jsxs("div",{className:"bg-[#efefef] flex-1 rounded-full px-2 py-2 flex items-center gap-2",children:[s.jsx("div",{className:"bg-blue-500 rounded-full p-1.5 text-white",children:s.jsx(On,{size:16})}),s.jsx("span",{className:"text-gray-400 text-sm",children:"Message..."}),s.jsxs("div",{className:"ml-auto mr-1 flex gap-3 text-gray-500",children:[s.jsx(Ge,{size:20}),s.jsx(He,{size:20}),s.jsx(Be,{size:20})]})]})});case"line":return s.jsxs("div",{className:"px-3 py-2 bg-white flex items-center gap-3",children:[s.jsx(Ht,{size:24,className:"text-gray-400"}),s.jsx(He,{size:24,className:"text-gray-400"}),s.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl px-3 py-2 text-sm text-gray-400",children:"Aa"}),s.jsx(Ge,{size:20,className:"text-gray-400"})]});case"telegram":return s.jsxs("div",{className:"px-2 py-2 bg-white flex items-center gap-2",children:[s.jsx(Be,{size:28,className:"text-gray-400 p-1"}),s.jsx("div",{className:"flex-1 text-lg text-gray-400 pl-1",children:"Message"}),s.jsx(He,{size:28,className:"text-gray-400 p-1"}),s.jsx(Ge,{size:28,className:"text-gray-400 p-1"})]});case"tiktok":return s.jsxs("div",{className:"px-4 py-3 bg-black border-t border-gray-800 flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 bg-[#252525] rounded-full px-4 py-2.5 flex items-center",children:s.jsx("span",{className:"text-gray-500 text-sm",children:"Send a message..."})}),s.jsx("div",{className:"text-gray-400",children:s.jsx(Be,{size:24})})]})}},F=e==="line"?"bg-[#202732] text-white":e==="tiktok"?"bg-black text-white":e==="telegram"?"bg-[#517da2] text-white":"bg-white text-black";return s.jsx("div",{className:"w-full flex justify-center py-4 bg-gray-100 min-h-full",children:s.jsxs("div",{ref:a,className:"relative w-[375px] h-[812px] bg-white shadow-2xl overflow-hidden flex flex-col font-sans",style:{fontFamily:e==="line"?"sans-serif":"inherit"},children:[s.jsxs("div",{className:`px-5 py-2 flex justify-between items-end text-sm font-semibold h-11 ${F} z-10`,children:[s.jsx("div",{className:"tracking-wide",children:r.time}),s.jsxs("div",{className:"flex gap-1.5 items-center",children:[s.jsx(is,{size:16,className:"fill-current"}),s.jsx(xs,{size:16}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"text-xs font-normal",children:[r.batteryLevel,"%"]}),s.jsx(Mn,{size:18,className:"fill-current"})]})]})]}),s.jsx("div",{className:"z-10",children:w()}),s.jsxs("div",{ref:p,className:`flex-1 overflow-y-auto no-scrollbar p-4 flex flex-col ${r.backgroundImage?"bg-no-repeat bg-cover bg-center":y()}`,style:r.backgroundImage?{backgroundImage:`url(${r.backgroundImage})`}:{},children:[t.map($),r.isTyping&&T()]}),s.jsxs("div",{className:"z-10 relative",children:[R(),s.jsx("div",{className:`absolute bottom-1 left-1/2 transform -translate-x-1/2 w-32 h-1 rounded-full ${e==="tiktok"||e==="line"?"bg-white/20":"bg-black/20"}`})]})]})})});Pr.displayName="ChatPreview";var ma=Object.defineProperty,ha=(e,t,r)=>t in e?ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t,r)=>(ha(e,typeof t!="symbol"?t+"":t,r),r);let pa=class{constructor(){ht(this,"current",this.detect()),ht(this,"handoffState","pending"),ht(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},J=new pa;function Oe(e){var t;return J.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function wt(e){var t,r;return J.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function Fr(e){var t,r;return(r=(t=wt(e))==null?void 0:t.activeElement)!=null?r:null}function xa(e){return Fr(e)===e}function Qe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function le(){let e=[],t={addEventListener(r,n,a,l){return r.addEventListener(n,a,l),t.add(()=>r.removeEventListener(n,a,l))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Qe(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let l=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:l})})},group(r){let n=le();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function Ze(){let[e]=u.useState(le);return u.useEffect(()=>()=>e.dispose(),[e]),e}let V=(e,t)=>{J.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function ye(e){let t=u.useRef(e);return V(()=>{t.current=e},[e]),t}let P=function(e){let t=ye(e);return N.useCallback((...r)=>t.current(...r),[t])};function Le(e){return u.useMemo(()=>e,Object.values(e))}let ga=u.createContext(void 0);function ba(){return u.useContext(ga)}function jt(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function se(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,se),n}var Ke=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ke||{}),oe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(oe||{});function q(){let e=ya();return u.useCallback(t=>va({mergeRefs:e,...t}),[e])}function va({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:l=!0,name:o,mergeRefs:i}){i=i??wa;let c=Ir(t,e);if(l)return Ue(c,r,n,o,i);let d=a??0;if(d&2){let{static:f=!1,...x}=c;if(f)return Ue(x,r,n,o,i)}if(d&1){let{unmount:f=!0,...x}=c;return se(f?0:1,{0(){return null},1(){return Ue({...x,hidden:!0,style:{display:"none"}},r,n,o,i)}})}return Ue(c,r,n,o,i)}function Ue(e,t={},r,n,a){let{as:l=r,children:o,refName:i="ref",...c}=pt(e,["unmount","static"]),d=e.ref!==void 0?{[i]:e.ref}:{},f=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let x={};if(t){let p=!1,g=[];for(let[b,v]of Object.entries(t))typeof v=="boolean"&&(p=!0),v===!0&&g.push(b.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(p){x["data-headlessui-state"]=g.join(" ");for(let b of g)x[`data-${b}`]=""}}if(Fe(l)&&(Object.keys(xe(c)).length>0||Object.keys(xe(x)).length>0))if(!u.isValidElement(f)||Array.isArray(f)&&f.length>1||Na(f)){if(Object.keys(xe(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xe(c)).concat(Object.keys(xe(x))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=f.props,g=p?.className,b=typeof g=="function"?(...y)=>jt(g(...y),c.className):jt(g,c.className),v=b?{className:b}:{},w=Ir(f.props,xe(pt(c,["ref"])));for(let y in x)y in w&&delete x[y];return u.cloneElement(f,Object.assign({},w,x,d,{ref:a(ja(f),d.ref)},v))}return u.createElement(l,Object.assign({},pt(c,["ref"]),!Fe(l)&&d,!Fe(l)&&x),f)}function ya(){let e=u.useRef([]),t=u.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function wa(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Ir(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var l;return(l=a?.preventDefault)==null?void 0:l.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...l){let o=r[n];for(let i of o){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;i(a,...l)}}});return t}function H(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function xe(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function pt(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function ja(e){return N.version.split(".")[0]>="19"?e.props.ref:e.ref}function Fe(e){return e===u.Fragment||e===Symbol.for("react.fragment")}function Na(e){return Fe(e.type)}let Ea="span";var Ye=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ye||{});function ka(e,t){var r;let{features:n=1,...a}=e,l={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return q()({ourProps:l,theirProps:a,slot:{},defaultTag:Ea,name:"Hidden"})}let Nt=H(ka);function Sa(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function de(e){return Sa(e)&&"tagName"in e}function ve(e){return de(e)&&"accessKey"in e}function ce(e){return de(e)&&"tabIndex"in e}function $a(e){return de(e)&&"style"in e}function Ca(e){return ve(e)&&e.nodeName==="IFRAME"}function Ta(e){return ve(e)&&e.nodeName==="INPUT"}let Mr=Symbol();function Aa(e,t=!0){return Object.assign(e,{[Mr]:t})}function Q(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let r=P(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[Mr])?void 0:r}let Rt=u.createContext(null);Rt.displayName="DescriptionContext";function Dr(){let e=u.useContext(Rt);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Dr),t}return e}function Ra(){let[e,t]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(r){let n=P(l=>(t(o=>[...o,l]),()=>t(o=>{let i=o.slice(),c=i.indexOf(l);return c!==-1&&i.splice(c,1),i}))),a=u.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return N.createElement(Rt.Provider,{value:a},r.children)},[t])]}let Pa="p";function Fa(e,t){let r=u.useId(),n=ba(),{id:a=`headlessui-description-${r}`,...l}=e,o=Dr(),i=Q(t);V(()=>o.register(a),[a,o.register]);let c=Le({...o.slot,disabled:n||!1}),d={ref:i,...o.props,id:a};return q()({ourProps:d,theirProps:l,slot:c,defaultTag:Pa,name:o.name||"Description"})}let Ia=H(Fa),Ma=Object.assign(Ia,{});var Or=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Or||{});let Da=u.createContext(()=>{});function Oa({value:e,children:t}){return N.createElement(Da.Provider,{value:e},t)}let Lr=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var La=Object.defineProperty,_a=(e,t,r)=>t in e?La(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,za=(e,t,r)=>(_a(e,t+"",r),r),_r=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},W=(e,t,r)=>(_r(e,t,"read from private field"),r?r.call(e):t.get(e)),xt=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},rr=(e,t,r,n)=>(_r(e,t,"write to private field"),t.set(e,r),r),X,Ae,Re;let Ua=class{constructor(t){xt(this,X,{}),xt(this,Ae,new Lr(()=>new Set)),xt(this,Re,new Set),za(this,"disposables",le()),rr(this,X,t),J.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return W(this,X)}subscribe(t,r){if(J.isServer)return()=>{};let n={selector:t,callback:r,current:t(W(this,X))};return W(this,Re).add(n),this.disposables.add(()=>{W(this,Re).delete(n)})}on(t,r){return J.isServer?()=>{}:(W(this,Ae).get(t).add(r),this.disposables.add(()=>{W(this,Ae).get(t).delete(r)}))}send(t){let r=this.reduce(W(this,X),t);if(r!==W(this,X)){rr(this,X,r);for(let n of W(this,Re)){let a=n.selector(W(this,X));zr(n.current,a)||(n.current=a,n.callback(a))}for(let n of W(this,Ae).get(t.type))n(W(this,X),t)}}};X=new WeakMap,Ae=new WeakMap,Re=new WeakMap;function zr(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:gt(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:gt(e.entries(),t.entries()):nr(e)&&nr(t)?gt(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function gt(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function nr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Va=Object.defineProperty,Ha=(e,t,r)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sr=(e,t,r)=>(Ha(e,typeof t!="symbol"?t+"":t,r),r),Ga=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Ga||{});let Ba={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let l=e.stack.slice();return l.splice(a,1),l.push(r),n=l,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},Wa=class Ur extends Ua{constructor(){super(...arguments),sr(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),sr(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new Ur({stack:[]})}reduce(t,r){return se(r.type,Ba,t,r)}};const Vr=new Lr(()=>Wa.new());var bt={exports:{}},vt={};var ar;function qa(){if(ar)return vt;ar=1;var e=bn();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,o=e.useMemo,i=e.useDebugValue;return vt.useSyncExternalStoreWithSelector=function(c,d,f,x,p){var g=a(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=o(function(){function w(R){if(!y){if(y=!0,T=R,R=x(R),p!==void 0&&b.hasValue){var F=b.value;if(p(F,R))return E=F}return E=R}if(F=E,r(T,R))return F;var h=x(R);return p!==void 0&&p(F,h)?(T=R,F):(T=R,E=h)}var y=!1,T,E,$=f===void 0?null:f;return[function(){return w(d())},$===null?void 0:function(){return w($())}]},[d,f,x,p]);var v=n(c,g[0],g[1]);return l(function(){b.hasValue=!0,b.value=v},[v]),i(v),v},vt}var lr;function Ka(){return lr||(lr=1,bt.exports=qa()),bt.exports}var Ya=Ka();function Hr(e,t,r=zr){return Ya.useSyncExternalStoreWithSelector(P(n=>e.subscribe(Xa,n)),P(()=>e.state),P(()=>e.state),P(t),r)}function Xa(e){return e}function _e(e,t){let r=u.useId(),n=Vr.get(t),[a,l]=Hr(n,u.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return V(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?l?a:!0:!1}let Et=new Map,Ie=new Map;function ir(e){var t;let r=(t=Ie.get(e))!=null?t:0;return Ie.set(e,r+1),r!==0?()=>or(e):(Et.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>or(e))}function or(e){var t;let r=(t=Ie.get(e))!=null?t:1;if(r===1?Ie.delete(e):Ie.set(e,r-1),r!==1)return;let n=Et.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Et.delete(e))}function Ja(e,{allowed:t,disallowed:r}={}){let n=_e(e,"inert-others");V(()=>{var a,l;if(!n)return;let o=le();for(let c of(a=r?.())!=null?a:[])c&&o.add(ir(c));let i=(l=t?.())!=null?l:[];for(let c of i){if(!c)continue;let d=Oe(c);if(!d)continue;let f=c.parentElement;for(;f&&f!==d.body;){for(let x of f.children)i.some(p=>x.contains(p))||o.add(ir(x));f=f.parentElement}}return o.dispose},[n,t,r])}function Qa(e,t,r){let n=ye(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&r()});u.useEffect(()=>{if(!e)return;let a=t===null?null:ve(t)?t:t.current;if(!a)return;let l=le();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(a));o.observe(a),l.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(a));o.observe(a),l.add(()=>o.disconnect())}return()=>l.dispose()},[t,n,e])}let Xe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Za=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var re=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(re||{}),kt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(kt||{}),el=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(el||{});function tl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xe)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function rl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Za)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Gr=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Gr||{});function nl(e,t=0){var r;return e===((r=Oe(e))==null?void 0:r.body)?!1:se(t,{0(){return e.matches(Xe)},1(){let n=e;for(;n!==null;){if(n.matches(Xe))return!0;n=n.parentElement}return!1}})}var sl=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(sl||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ne(e){e?.focus({preventScroll:!0})}let al=["textarea","input"].join(",");function ll(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,al))!=null?r:!1}function il(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),l=t(n);if(a===null||l===null)return 0;let o=a.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Me(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let l=Array.isArray(e)?e.length>0?wt(e[0]):document:wt(e),o=Array.isArray(e)?r?il(e):e:t&64?rl(e):tl(e);a.length>0&&o.length>1&&(o=o.filter(g=>!a.some(b=>b!=null&&"current"in b?b?.current===g:b===g))),n=n??l?.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,x=o.length,p;do{if(f>=x||f+x<=0)return 0;let g=c+f;if(t&16)g=(g+x)%x;else{if(g<0)return 3;if(g>=x)return 1}p=o[g],p?.focus(d),f+=i}while(p!==Fr(p));return t&6&&ll(p)&&p.select(),2}function Br(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ol(){return/Android/gi.test(window.navigator.userAgent)}function cr(){return Br()||ol()}function Ve(e,t,r,n){let a=ye(r);u.useEffect(()=>{if(!e)return;function l(o){a.current(o)}return document.addEventListener(t,l,n),()=>document.removeEventListener(t,l,n)},[e,t,n])}function Wr(e,t,r,n){let a=ye(r);u.useEffect(()=>{if(!e)return;function l(o){a.current(o)}return window.addEventListener(t,l,n),()=>window.removeEventListener(t,l,n)},[e,t,n])}const ur=30;function cl(e,t,r){let n=ye(r),a=u.useCallback(function(i,c){if(i.defaultPrevented)return;let d=c(i);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=(function x(p){return typeof p=="function"?x(p()):Array.isArray(p)||p instanceof Set?p:[p]})(t);for(let x of f)if(x!==null&&(x.contains(d)||i.composed&&i.composedPath().includes(x)))return;return!nl(d,Gr.Loose)&&d.tabIndex!==-1&&i.preventDefault(),n.current(i,d)},[n,t]),l=u.useRef(null);Ve(e,"pointerdown",i=>{var c,d;cr()||(l.current=((d=(c=i.composedPath)==null?void 0:c.call(i))==null?void 0:d[0])||i.target)},!0),Ve(e,"pointerup",i=>{if(cr()||!l.current)return;let c=l.current;return l.current=null,a(i,()=>c)},!0);let o=u.useRef({x:0,y:0});Ve(e,"touchstart",i=>{o.current.x=i.touches[0].clientX,o.current.y=i.touches[0].clientY},!0),Ve(e,"touchend",i=>{let c={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=ur||Math.abs(c.y-o.current.y)>=ur))return a(i,()=>ce(i.target)?i.target:null)},!0),Wr(e,"blur",i=>a(i,()=>Ca(window.document.activeElement)?window.document.activeElement:null),!0)}function Pt(...e){return u.useMemo(()=>Oe(...e),[...e])}function qr(e,t,r,n){let a=ye(r);u.useEffect(()=>{e=e??window;function l(o){a.current(o)}return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)},[e,t,n])}function ul(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function dl(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...l){let o=t[a].call(r,...l);o&&(r=o,n.forEach(i=>i()))}}}function fl(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),l=Math.max(0,e-a);r.style(n,"paddingRight",`${l}px`)}}}function ml(){return Br()?{before({doc:e,d:t,meta:r}){function n(a){for(let l of r().containers)for(let o of l())if(o.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=le();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,o=null;t.addEventListener(e,"click",i=>{if(ce(i.target))try{let c=i.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);ce(f)&&!n(f)&&(o=f)}catch{}},!0),t.group(i=>{t.addEventListener(e,"touchstart",c=>{if(i.dispose(),ce(c.target)&&$a(c.target))if(n(c.target)){let d=c.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;i.style(d,"overscrollBehavior","contain")}else i.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",i=>{if(ce(i.target)){if(Ta(i.target))return;if(n(i.target)){let c=i.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let c=(i=window.scrollY)!=null?i:window.pageYOffset;l!==c&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function hl(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function dr(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let be=dl(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:le(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=dr(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=dr(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[ml(),fl(),hl()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});be.subscribe(()=>{let e=be.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&be.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&be.dispatch("TEARDOWN",r)}});function pl(e,t,r=()=>({containers:[]})){let n=ul(be),a=t?n.get(t):void 0,l=a?a.count>0:!1;return V(()=>{if(!(!t||!e))return be.dispatch("PUSH",t,r),()=>be.dispatch("POP",t,r)},[e,t]),l}function xl(e,t,r=()=>[document.body]){let n=_e(e,"scroll-lock");pl(n,t,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],r]}})}function gl(e=0){let[t,r]=u.useState(e),n=u.useCallback(c=>r(c),[]),a=u.useCallback(c=>r(d=>d|c),[]),l=u.useCallback(c=>(t&c)===c,[t]),o=u.useCallback(c=>r(d=>d&~c),[]),i=u.useCallback(c=>r(d=>d^c),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:l,removeFlag:o,toggleFlag:i}}var bl={},fr,mr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((fr=process==null?void 0:bl)==null?void 0:fr.NODE_ENV)==="test"&&typeof((mr=Element?.prototype)==null?void 0:mr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var vl=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(vl||{});function yl(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function wl(e,t,r,n){let[a,l]=u.useState(r),{hasFlag:o,addFlag:i,removeFlag:c}=gl(e&&a?3:0),d=u.useRef(!1),f=u.useRef(!1),x=Ze();return V(()=>{var p;if(e){if(r&&l(!0),!t){r&&i(3);return}return(p=n?.start)==null||p.call(n,r),jl(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(r?(i(3),c(4)):(i(4),c(2)))},run(){f.current?r?(c(3),i(4)):(c(4),i(3)):r?c(1):i(1)},done(){var g;f.current&&kl(t)||(d.current=!1,c(7),r||l(!1),(g=n?.end)==null||g.call(n,r))}})}},[e,r,t,x]),e?[a,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function jl(e,{prepare:t,run:r,done:n,inFlight:a}){let l=le();return El(e,{prepare:t,inFlight:a}),l.nextFrame(()=>{r(),l.requestAnimationFrame(()=>{l.add(Nl(e,n))})}),l.dispose}function Nl(e,t){var r,n;let a=le();if(!e)return a.dispose;let l=!1;a.add(()=>{l=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(i=>i instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),a.dispose):(Promise.allSettled(o.map(i=>i.finished)).then(()=>{l||t()}),a.dispose)}function El(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function kl(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Ft(e,t){let r=u.useRef([]),n=P(e);u.useEffect(()=>{let a=[...r.current];for(let[l,o]of t.entries())if(r.current[l]!==o){let i=n(t,a);return r.current=t,i}},[n,...t])}let et=u.createContext(null);et.displayName="OpenClosedContext";var K=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(K||{});function tt(){return u.useContext(et)}function Sl({value:e,children:t}){return N.createElement(et.Provider,{value:e},t)}function $l({children:e}){return N.createElement(et.Provider,{value:null},e)}function Cl(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ie=[];Cl(()=>{function e(t){if(!ce(t.target)||t.target===document.body||ie[0]===t.target)return;let r=t.target;r=r.closest(Xe),ie.unshift(r??t.target),ie=ie.filter(n=>n!=null&&n.isConnected),ie.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Kr(e){let t=P(e),r=u.useRef(!1);u.useEffect(()=>(r.current=!1,()=>{r.current=!0,Qe(()=>{r.current&&t()})}),[t])}let Yr=u.createContext(!1);function Tl(){return u.useContext(Yr)}function hr(e){return N.createElement(Yr.Provider,{value:e.force},e.children)}function Al(e){let t=Tl(),r=u.useContext(Jr),[n,a]=u.useState(()=>{var l;if(!t&&r!==null)return(l=r.current)!=null?l:null;if(J.isServer)return null;let o=e?.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)});return u.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),u.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let Xr=u.Fragment,Rl=H(function(e,t){let{ownerDocument:r=null,...n}=e,a=u.useRef(null),l=Q(Aa(p=>{a.current=p}),t),o=Pt(a.current),i=r??o,c=Al(i),d=u.useContext(St),f=Ze(),x=q();return Kr(()=>{var p;c&&c.childNodes.length<=0&&((p=c.parentElement)==null||p.removeChild(c))}),c?Nn.createPortal(N.createElement("div",{"data-headlessui-portal":"",ref:p=>{f.dispose(),d&&p&&f.add(d.register(p))}},x({ourProps:{ref:l},theirProps:n,slot:{},defaultTag:Xr,name:"Portal"})),c):null});function Pl(e,t){let r=Q(t),{enabled:n=!0,ownerDocument:a,...l}=e,o=q();return n?N.createElement(Rl,{...l,ownerDocument:a,ref:r}):o({ourProps:{ref:r},theirProps:l,slot:{},defaultTag:Xr,name:"Portal"})}let Fl=u.Fragment,Jr=u.createContext(null);function Il(e,t){let{target:r,...n}=e,a={ref:Q(t)},l=q();return N.createElement(Jr.Provider,{value:r},l({ourProps:a,theirProps:n,defaultTag:Fl,name:"Popover.Group"}))}let St=u.createContext(null);function Ml(){let e=u.useContext(St),t=u.useRef([]),r=P(l=>(t.current.push(l),e&&e.register(l),()=>n(l))),n=P(l=>{let o=t.current.indexOf(l);o!==-1&&t.current.splice(o,1),e&&e.unregister(l)}),a=u.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,u.useMemo(()=>function({children:l}){return N.createElement(St.Provider,{value:a},l)},[a])]}let Dl=H(Pl),Qr=H(Il),Ol=Object.assign(Dl,{Group:Qr});function Ll(e,t=typeof document<"u"?document.defaultView:null,r){let n=_e(e,"escape");qr(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===Or.Escape&&r(a))})}function _l(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=u.useState((e=t?.matches)!=null?e:!1);return V(()=>{if(!t)return;function a(l){n(l.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function zl({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=P(()=>{var a,l;let o=Oe(r),i=[];for(let c of e)c!==null&&(de(c)?i.push(c):"current"in c&&de(c.current)&&i.push(c.current));if(t!=null&&t.current)for(let c of t.current)i.push(c);for(let c of(a=o?.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&de(c)&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((l=r?.getRootNode())==null?void 0:l.host))||i.some(d=>c.contains(d))||i.push(c));return i});return{resolveContainers:n,contains:P(a=>n().some(l=>l.contains(a)))}}let Zr=u.createContext(null);function pr({children:e,node:t}){let[r,n]=u.useState(null),a=en(t??r);return N.createElement(Zr.Provider,{value:a},e,a===null&&N.createElement(Nt,{features:Ye.Hidden,ref:l=>{var o,i;if(l){for(let c of(i=(o=Oe(l))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])if(c!==document.body&&c!==document.head&&de(c)&&c!=null&&c.contains(l)){n(c);break}}}}))}function en(e=null){var t;return(t=u.useContext(Zr))!=null?t:e}function Ul(){let e=typeof document>"u";return"useSyncExternalStore"in Lt?(t=>t.useSyncExternalStore)(Lt)(()=>()=>{},()=>!1,()=>!e):!1}function rt(){let e=Ul(),[t,r]=u.useState(J.isHandoffComplete);return t&&J.isHandoffComplete===!1&&r(!1),u.useEffect(()=>{t!==!0&&r(!0)},[t]),u.useEffect(()=>J.handoff(),[]),e?!1:t}function It(){let e=u.useRef(!1);return V(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Pe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pe||{});function Vl(){let e=u.useRef(0);return Wr(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function tn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)de(r.current)&&t.add(r.current);return t}let Hl="div";var ge=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ge||{});function Gl(e,t){let r=u.useRef(null),n=Q(r,t),{initialFocus:a,initialFocusFallback:l,containers:o,features:i=15,...c}=e;rt()||(i=0);let d=Pt(r.current);Kl(i,{ownerDocument:d});let f=Yl(i,{ownerDocument:d,container:r,initialFocus:a,initialFocusFallback:l});Xl(i,{ownerDocument:d,container:r,containers:o,previousActiveElement:f});let x=Vl(),p=P(T=>{if(!ve(r.current))return;let E=r.current;($=>$())(()=>{se(x.current,{[Pe.Forwards]:()=>{Me(E,re.First,{skipElements:[T.relatedTarget,l]})},[Pe.Backwards]:()=>{Me(E,re.Last,{skipElements:[T.relatedTarget,l]})}})})}),g=_e(!!(i&2),"focus-trap#tab-lock"),b=Ze(),v=u.useRef(!1),w={ref:n,onKeyDown(T){T.key=="Tab"&&(v.current=!0,b.requestAnimationFrame(()=>{v.current=!1}))},onBlur(T){if(!(i&4))return;let E=tn(o);ve(r.current)&&E.add(r.current);let $=T.relatedTarget;ce($)&&$.dataset.headlessuiFocusGuard!=="true"&&(rn(E,$)||(v.current?Me(r.current,se(x.current,{[Pe.Forwards]:()=>re.Next,[Pe.Backwards]:()=>re.Previous})|re.WrapAround,{relativeTo:T.target}):ce(T.target)&&ne(T.target)))}},y=q();return N.createElement(N.Fragment,null,g&&N.createElement(Nt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ye.Focusable}),y({ourProps:w,theirProps:c,defaultTag:Hl,name:"FocusTrap"}),g&&N.createElement(Nt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ye.Focusable}))}let Bl=H(Gl),Wl=Object.assign(Bl,{features:ge});function ql(e=!0){let t=u.useRef(ie.slice());return Ft(([r],[n])=>{n===!0&&r===!1&&Qe(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=ie.slice())},[e,ie,t]),P(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Kl(e,{ownerDocument:t}){let r=!!(e&8),n=ql(r);Ft(()=>{r||xa(t?.body)&&ne(n())},[r]),Kr(()=>{r&&ne(n())})}function Yl(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let l=u.useRef(null),o=_e(!!(e&1),"focus-trap#initial-focus"),i=It();return Ft(()=>{if(e===0)return;if(!o){a!=null&&a.current&&ne(a.current);return}let c=r.current;c&&Qe(()=>{if(!i.current)return;let d=t?.activeElement;if(n!=null&&n.current){if(n?.current===d){l.current=d;return}}else if(c.contains(d)){l.current=d;return}if(n!=null&&n.current)ne(n.current);else{if(e&16){if(Me(c,re.First|re.AutoFocus)!==kt.Error)return}else if(Me(c,re.First)!==kt.Error)return;if(a!=null&&a.current&&(ne(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t?.activeElement})},[a,o,e]),l}function Xl(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let l=It(),o=!!(e&4);qr(t?.defaultView,"focus",i=>{if(!o||!l.current)return;let c=tn(n);ve(r.current)&&c.add(r.current);let d=a.current;if(!d)return;let f=i.target;ve(f)?rn(c,f)?(a.current=f,ne(f)):(i.preventDefault(),i.stopPropagation(),ne(d)):ne(a.current)},!0)}function rn(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function nn(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Fe((t=e.as)!=null?t:an)||N.Children.count(e.children)===1}let nt=u.createContext(null);nt.displayName="TransitionContext";var Jl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Jl||{});function Ql(){let e=u.useContext(nt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Zl(){let e=u.useContext(st);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let st=u.createContext(null);st.displayName="NestingContext";function at(e){return"children"in e?at(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function sn(e,t){let r=ye(e),n=u.useRef([]),a=It(),l=Ze(),o=P((g,b=oe.Hidden)=>{let v=n.current.findIndex(({el:w})=>w===g);v!==-1&&(se(b,{[oe.Unmount](){n.current.splice(v,1)},[oe.Hidden](){n.current[v].state="hidden"}}),l.microTask(()=>{var w;!at(n)&&a.current&&((w=r.current)==null||w.call(r))}))}),i=P(g=>{let b=n.current.find(({el:v})=>v===g);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:g,state:"visible"}),()=>o(g,oe.Unmount)}),c=u.useRef([]),d=u.useRef(Promise.resolve()),f=u.useRef({enter:[],leave:[]}),x=P((g,b,v)=>{c.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([w])=>w!==g)),t?.chains.current[b].push([g,new Promise(w=>{c.current.push(w)})]),t?.chains.current[b].push([g,new Promise(w=>{Promise.all(f.current[b].map(([y,T])=>T)).then(()=>w())})]),b==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>v(b)):v(b)}),p=P((g,b,v)=>{Promise.all(f.current[b].splice(0).map(([w,y])=>y)).then(()=>{var w;(w=c.current.shift())==null||w()}).then(()=>v(b))});return u.useMemo(()=>({children:n,register:i,unregister:o,onStart:x,onStop:p,wait:d,chains:f}),[i,o,n,x,p,f,d])}let an=u.Fragment,ln=Ke.RenderStrategy;function ei(e,t){var r,n;let{transition:a=!0,beforeEnter:l,afterEnter:o,beforeLeave:i,afterLeave:c,enter:d,enterFrom:f,enterTo:x,entered:p,leave:g,leaveFrom:b,leaveTo:v,...w}=e,[y,T]=u.useState(null),E=u.useRef(null),$=nn(e),R=Q(...$?[E,t,T]:t===null?[]:[t]),F=(r=w.unmount)==null||r?oe.Unmount:oe.Hidden,{show:h,appear:j,initial:I}=Ql(),[S,A]=u.useState(h?"visible":"hidden"),_=Zl(),{register:M,unregister:z}=_;V(()=>M(E),[M,E]),V(()=>{if(F===oe.Hidden&&E.current){if(h&&S!=="visible"){A("visible");return}return se(S,{hidden:()=>z(E),visible:()=>M(E)})}},[S,E,M,z,h,F]);let fe=rt();V(()=>{if($&&fe&&S==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,S,fe,$]);let we=I&&!j,je=j&&h&&I,Z=u.useRef(!1),B=sn(()=>{Z.current||(A("hidden"),z(E))},_),ee=P($e=>{Z.current=!0;let Ee=$e?"enter":"leave";B.onStart(E,Ee,he=>{he==="enter"?l?.():he==="leave"&&i?.()})}),Y=P($e=>{let Ee=$e?"enter":"leave";Z.current=!1,B.onStop(E,Ee,he=>{he==="enter"?o?.():he==="leave"&&c?.()}),Ee==="leave"&&!at(B)&&(A("hidden"),z(E))});u.useEffect(()=>{$&&a||(ee(h),Y(h))},[h,$,a]);let te=!(!a||!$||!fe||we),[,C]=wl(te,y,h,{start:ee,end:Y}),Ne=xe({ref:R,className:((n=jt(w.className,je&&d,je&&f,C.enter&&d,C.enter&&C.closed&&f,C.enter&&!C.closed&&x,C.leave&&g,C.leave&&!C.closed&&b,C.leave&&C.closed&&v,!C.transition&&h&&p))==null?void 0:n.trim())||void 0,...yl(C)}),me=0;S==="visible"&&(me|=K.Open),S==="hidden"&&(me|=K.Closed),h&&S==="hidden"&&(me|=K.Opening),!h&&S==="visible"&&(me|=K.Closing);let ut=q();return N.createElement(st.Provider,{value:B},N.createElement(Sl,{value:me},ut({ourProps:Ne,theirProps:w,defaultTag:an,features:ln,visible:S==="visible",name:"Transition.Child"})))}function ti(e,t){let{show:r,appear:n=!1,unmount:a=!0,...l}=e,o=u.useRef(null),i=nn(e),c=Q(...i?[o,t]:t===null?[]:[t]);rt();let d=tt();if(r===void 0&&d!==null&&(r=(d&K.Open)===K.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,x]=u.useState(r?"visible":"hidden"),p=sn(()=>{r||x("hidden")}),[g,b]=u.useState(!0),v=u.useRef([r]);V(()=>{g!==!1&&v.current[v.current.length-1]!==r&&(v.current.push(r),b(!1))},[v,r]);let w=u.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);V(()=>{r?x("visible"):!at(p)&&o.current!==null&&x("hidden")},[r,p]);let y={unmount:a},T=P(()=>{var R;g&&b(!1),(R=e.beforeEnter)==null||R.call(e)}),E=P(()=>{var R;g&&b(!1),(R=e.beforeLeave)==null||R.call(e)}),$=q();return N.createElement(st.Provider,{value:p},N.createElement(nt.Provider,{value:w},$({ourProps:{...y,as:u.Fragment,children:N.createElement(on,{ref:c,...y,...l,beforeEnter:T,beforeLeave:E})},theirProps:{},defaultTag:u.Fragment,features:ln,visible:f==="visible",name:"Transition"})))}function ri(e,t){let r=u.useContext(nt)!==null,n=tt()!==null;return N.createElement(N.Fragment,null,!r&&n?N.createElement($t,{ref:t,...e}):N.createElement(on,{ref:t,...e}))}let $t=H(ti),on=H(ei),ae=H(ri),lt=Object.assign($t,{Child:ae,Root:$t});var ni=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ni||{}),si=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(si||{});let ai={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Mt=u.createContext(null);Mt.displayName="DialogContext";function it(e){let t=u.useContext(Mt);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,it),r}return t}function li(e,t){return se(t.type,ai,e,t)}let xr=H(function(e,t){let r=u.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:l,initialFocus:o,role:i="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:f=!1,...x}=e,p=u.useRef(!1);i=(function(){return i==="dialog"||i==="alertdialog"?i:(p.current||(p.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=tt();a===void 0&&g!==null&&(a=(g&K.Open)===K.Open);let b=u.useRef(null),v=Q(b,t),w=Pt(b.current),y=a?0:1,[T,E]=u.useReducer(li,{titleId:null,descriptionId:null,panelRef:u.createRef()}),$=P(()=>l(!1)),R=P(C=>E({type:0,id:C})),F=rt()?y===0:!1,[h,j]=Ml(),I={get current(){var C;return(C=T.panelRef.current)!=null?C:b.current}},S=en(),{resolveContainers:A}=zl({mainTreeNode:S,portals:h,defaultContainers:[I]}),_=g!==null?(g&K.Closing)===K.Closing:!1;Ja(d||_?!1:F,{allowed:P(()=>{var C,Ne;return[(Ne=(C=b.current)==null?void 0:C.closest("[data-headlessui-portal]"))!=null?Ne:null]}),disallowed:P(()=>{var C;return[(C=S?.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})});let M=Vr.get(null);V(()=>{if(F)return M.actions.push(n),()=>M.actions.pop(n)},[M,n,F]);let z=Hr(M,u.useCallback(C=>M.selectors.isTop(C,n),[M,n]));cl(z,A,C=>{C.preventDefault(),$()}),Ll(z,w?.defaultView,C=>{C.preventDefault(),C.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),$()}),xl(d||_?!1:F,w,A),Qa(F,b,$);let[fe,we]=Ra(),je=u.useMemo(()=>[{dialogState:y,close:$,setTitleId:R,unmount:f},T],[y,$,R,f,T]),Z=Le({open:y===0}),B={ref:v,id:n,role:i,tabIndex:-1,"aria-modal":d?void 0:y===0?!0:void 0,"aria-labelledby":T.titleId,"aria-describedby":fe,unmount:f},ee=!_l(),Y=ge.None;F&&!d&&(Y|=ge.RestoreFocus,Y|=ge.TabLock,c&&(Y|=ge.AutoFocus),ee&&(Y|=ge.InitialFocus));let te=q();return N.createElement($l,null,N.createElement(hr,{force:!0},N.createElement(Ol,null,N.createElement(Mt.Provider,{value:je},N.createElement(Qr,{target:b},N.createElement(hr,{force:!1},N.createElement(we,{slot:Z},N.createElement(j,null,N.createElement(Wl,{initialFocus:o,initialFocusFallback:b,containers:A,features:Y},N.createElement(Oa,{value:$},te({ourProps:B,theirProps:x,slot:Z,defaultTag:ii,features:oi,visible:y===0,name:"Dialog"})))))))))))}),ii="div",oi=Ke.RenderStrategy|Ke.Static;function ci(e,t){let{transition:r=!1,open:n,...a}=e,l=tt(),o=e.hasOwnProperty("open")||l!==null,i=e.hasOwnProperty("onClose");if(!o&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?N.createElement(pr,null,N.createElement(lt,{show:n,transition:r,unmount:a.unmount},N.createElement(xr,{ref:t,...a}))):N.createElement(pr,null,N.createElement(xr,{ref:t,open:n,...a}))}let ui="div";function di(e,t){let r=u.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...l}=e,[{dialogState:o,unmount:i},c]=it("Dialog.Panel"),d=Q(t,c.panelRef),f=Le({open:o===0}),x=P(w=>{w.stopPropagation()}),p={ref:d,id:n,onClick:x},g=a?ae:u.Fragment,b=a?{unmount:i}:{},v=q();return N.createElement(g,{...b},v({ourProps:p,theirProps:l,slot:f,defaultTag:ui,name:"Dialog.Panel"}))}let fi="div";function mi(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:l}]=it("Dialog.Backdrop"),o=Le({open:a===0}),i={ref:t,"aria-hidden":!0},c=r?ae:u.Fragment,d=r?{unmount:l}:{},f=q();return N.createElement(c,{...d},f({ourProps:i,theirProps:n,slot:o,defaultTag:fi,name:"Dialog.Backdrop"}))}let hi="h2";function pi(e,t){let r=u.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:l,setTitleId:o}]=it("Dialog.Title"),i=Q(t);u.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=Le({open:l===0}),d={ref:i,id:n};return q()({ourProps:d,theirProps:a,slot:c,defaultTag:hi,name:"Dialog.Title"})}let xi=H(ci),ot=H(di);H(mi);let ct=H(pi),Dt=Object.assign(xi,{Panel:ot,Title:ct,Description:Ma});const gi={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},cn=({isOpen:e,onClose:t,title:r,titleClassName:n,headerClassName:a,children:l,showCloseButton:o=!0,maxWidth:i="md"})=>s.jsx(lt,{appear:!0,show:e,as:u.Fragment,children:s.jsxs(Dt,{as:"div",className:"relative z-50",onClose:t,children:[s.jsx(ae,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsx(ae,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ot,{className:`bg-slate-900 rounded-2xl w-full ${gi[i]} shadow-2xl overflow-hidden border border-white/10`,children:[r&&s.jsxs("div",{className:`p-6 flex justify-between items-start ${a??""}`,children:[s.jsx(ct,{as:"div",className:n,children:r}),o&&s.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition cursor-pointer",children:s.jsx(vr,{size:24})})]}),l]})})})})]})}),bi={warning:yr,info:jr,danger:Ct},vi={warning:"text-amber-400 bg-amber-500/10",info:"text-tech-400 bg-tech-500/10",danger:"text-red-400 bg-red-500/10"},yi={warning:"bg-amber-600 hover:bg-amber-700 border-amber-500/30",info:"bg-tech-600 hover:bg-tech-700 border-tech-500/30",danger:"bg-red-600 hover:bg-red-700 border-red-500/30"},un=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:l="Confirm",cancelText:o="Cancel",type:i="warning"})=>{const c=bi[i],d=()=>{r(),t()};return s.jsx(lt,{appear:!0,show:e,as:u.Fragment,children:s.jsxs(Dt,{as:"div",className:"relative z-50",onClose:t,children:[s.jsx(ae,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsx(ae,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsx(ot,{className:"bg-slate-900 rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-white/10 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`p-3 rounded-full mb-4 ${vi[i]}`,children:s.jsx(c,{size:24})}),s.jsx(ct,{as:"h3",className:"text-lg font-semibold text-white mb-2",children:n}),s.jsx("p",{className:"text-sm text-slate-400 mb-6",children:a}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:t,className:"flex-1 py-2.5 rounded-xl text-slate-300 hover:bg-white/10 transition font-medium border border-white/10 cursor-pointer",children:o}),s.jsx("button",{onClick:d,className:`flex-1 py-2.5 rounded-xl text-white transition font-medium border cursor-pointer ${yi[i]}`,children:l})]})]})})})})})]})})},wi={warning:yr,info:jr,error:Ct,success:zn},ji={warning:"text-amber-400 bg-amber-500/10",info:"text-tech-400 bg-tech-500/10",error:"text-red-400 bg-red-500/10",success:"text-emerald-400 bg-emerald-500/10"},Ni={warning:"bg-amber-600 hover:bg-amber-700 border-amber-500/30",info:"bg-tech-600 hover:bg-tech-700 border-tech-500/30",error:"bg-red-600 hover:bg-red-700 border-red-500/30",success:"bg-emerald-600 hover:bg-emerald-700 border-emerald-500/30"},De=({isOpen:e,onClose:t,title:r,message:n,buttonText:a="OK",type:l="info"})=>{const o=wi[l];return s.jsx(lt,{appear:!0,show:e,as:u.Fragment,children:s.jsxs(Dt,{as:"div",className:"relative z-50",onClose:t,children:[s.jsx(ae,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsx(ae,{as:u.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsx(ot,{className:"bg-slate-900 rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-white/10 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`p-3 rounded-full mb-4 ${ji[l]}`,children:s.jsx(o,{size:24})}),s.jsx(ct,{as:"h3",className:"text-lg font-semibold text-white mb-2",children:r}),s.jsx("p",{className:"text-sm text-slate-400 mb-6",children:n}),s.jsx("button",{onClick:t,className:`w-full py-2.5 rounded-xl text-white transition font-medium border cursor-pointer ${Ni[l]}`,children:a})]})})})})})]})})},Ei=({settings:e,setSettings:t,messages:r,setMessages:n,platform:a,setPlatform:l,onGenerateAI:o,onDownload:i,onReset:c})=>{const[d,f]=u.useState("text"),[x,p]=u.useState(""),[g,b]=u.useState(10),[v,w]=u.useState(!0),[y,T]=u.useState(null),[E,$]=u.useState(e.time),[R,F]=u.useState(!1),[h,j]=u.useState(!1),[I,S]=u.useState(0),[A,_]=u.useState(!1),[M,z]=u.useState(null),[fe,we]=u.useState(!1),[je,Z]=u.useState(!1),[B,ee]=u.useState(null),[Y,te]=u.useState(null),C=u.useRef(null);u.useEffect(()=>{y||$(e.time)},[e.time,y]);const Ne=(m,k)=>{ee(k),m.dataTransfer.effectAllowed="move"},me=(m,k)=>{m.preventDefault(),B!==k&&te(k)},ut=()=>{te(null)},$e=(m,k)=>{if(m.preventDefault(),!B||B===k){ee(null),te(null);return}const L=[...r],O=L.findIndex(pe=>pe.id===B),Ce=L.findIndex(pe=>pe.id===k);if(O!==-1&&Ce!==-1){const[pe]=L.splice(O,1);L.splice(Ce,0,pe),n(L)}ee(null),te(null)},Ee=()=>{ee(null),te(null)},he=()=>{const m={version:"1.0",platform:a,settings:e,messages:r,exportedAt:new Date().toISOString()},k=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),L=URL.createObjectURL(k),O=document.createElement("a");O.download=`fakechat-${a}-${Date.now()}.json`,O.href=L,O.click(),URL.revokeObjectURL(L)},dn=m=>{if(m.target.files&&m.target.files[0]){const k=new FileReader;k.onload=L=>{try{const O=JSON.parse(L.target?.result);O.version&&O.messages&&O.settings?(z(O),_(!0)):we(!0)}catch{Z(!0)}},k.readAsText(m.target.files[0])}C.current&&(C.current.value="")},fn=()=>{M&&(l(M.platform),t(M.settings),n(M.messages),z(null))},mn=()=>{if(I===0)return;const m=r.map(k=>{const[L,O]=k.timestamp.split(":").map(Number),Ce=L*60+O+I,pe=Math.floor((Ce%1440+1440)%1440/60),gn=(Ce%60+60)%60;return{...k,timestamp:`${pe.toString().padStart(2,"0")}:${gn.toString().padStart(2,"0")}`}});n(m),j(!1),S(0)},hn=m=>{p(k=>k+m),F(!1)},Ot=()=>{if(!(d==="text"&&!x.trim()))if(y)n(r.map(m=>{if(m.id===y){const k={id:m.id,isSender:v,timestamp:E,isRead:m.isRead,reaction:m.reaction};return m.image,d==="text"?k.text=x:k.audioDuration=g,k}return m})),ze();else{const m={id:Date.now().toString(),isSender:v,timestamp:E,isRead:!0};d==="text"?(m.text=x,p("")):m.audioDuration=g,n([...r,m])}},pn=m=>{T(m.id),w(m.isSender),$(m.timestamp),m.audioDuration?(f("voice"),b(m.audioDuration),p("")):(f("text"),p(m.text||""))},ze=()=>{T(null),p(""),b(10),f("text"),w(!0),$(e.time)},dt=(m,k)=>{if(m.target.files&&m.target.files[0]){const L=URL.createObjectURL(m.target.files[0]);if(k==="message")if(y)n(r.map(O=>O.id===y?{id:O.id,isSender:v,image:L,timestamp:E,isRead:O.isRead,reaction:O.reaction}:O)),ze();else{const O={id:Date.now().toString(),image:L,isSender:v,timestamp:E,isRead:!0};n([...r,O])}else k==="partner"?t({...e,partnerAvatar:L}):k==="me"?t({...e,myAvatar:L}):k==="background"&&t({...e,backgroundImage:L})}},xn=(m,k)=>{m.stopPropagation(),n(r.filter(L=>L.id!==k)),y===k&&ze()};return s.jsxs("div",{className:"h-full flex flex-col gap-6 p-4 sm:p-6 overflow-y-auto bg-slate-900/50 text-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"Chat Editor"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:he,className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors cursor-pointer",title:"Export Chat",children:s.jsx(Bn,{size:18})}),s.jsxs("label",{className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors cursor-pointer",title:"Import Chat",children:[s.jsx(qn,{size:18}),s.jsx("input",{ref:C,type:"file",className:"hidden",accept:".json",onChange:dn})]}),s.jsx("button",{onClick:c,className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors cursor-pointer",title:"Reset",children:s.jsx(ns,{size:18})})]})]}),s.jsx("div",{className:"flex p-1 bg-slate-800/50 rounded-xl border border-white/5",children:ua.map(m=>s.jsx("button",{onClick:()=>l(m.id),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${a===m.id?"bg-tech-500/20 text-tech-400 border border-tech-500/30":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:m.name},m.id))}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Time"}),s.jsx("input",{type:"time",value:e.time,onChange:m=>t({...e,time:m.target.value}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Battery %"}),s.jsx("input",{type:"number",min:"1",max:"100",value:e.batteryLevel,onChange:m=>t({...e,batteryLevel:parseInt(m.target.value)}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Partner Name"}),s.jsx("input",{type:"text",value:e.partnerName,onChange:m=>t({...e,partnerName:m.target.value}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Partner Avatar"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:e.partnerAvatar,className:"w-10 h-10 rounded-full object-cover border border-white/10"}),s.jsxs("label",{className:"cursor-pointer bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 px-3 py-1.5 rounded-md text-xs border border-white/10 transition",children:["Change",s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:m=>dt(m,"partner")})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Chat Background"}),s.jsxs("div",{className:"flex items-center gap-3",children:[e.backgroundImage?s.jsxs("div",{className:"relative w-10 h-10",children:[s.jsx("img",{src:e.backgroundImage,className:"w-full h-full rounded-lg object-cover border border-white/10"}),s.jsx("button",{onClick:()=>t({...e,backgroundImage:void 0}),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600",children:s.jsx(vr,{size:10})})]}):s.jsx("div",{className:"w-10 h-10 rounded-lg border border-dashed border-white/20 flex items-center justify-center bg-slate-800/50",children:s.jsx(He,{size:16,className:"text-slate-500"})}),s.jsxs("label",{className:"cursor-pointer bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 px-3 py-1.5 rounded-md text-xs border border-white/10 transition",children:["Upload",s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:m=>dt(m,"background")})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{size:16,className:"text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Show Typing Indicator"})]}),s.jsx("button",{onClick:()=>t({...e,isTyping:!e.isTyping}),className:`relative w-11 h-6 rounded-full transition-colors cursor-pointer ${e.isTyping?"bg-tech-500":"bg-slate-700"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${e.isTyping?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsx("hr",{className:"border-white/10"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider",children:y?"Editing Message":"Messages"}),s.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 text-xs font-medium text-purple-400 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-full transition-colors border border-purple-500/20 cursor-pointer",children:[s.jsx(Sn,{size:14}),"AI Generate"]})]}),s.jsxs("div",{className:`p-4 rounded-xl border space-y-3 transition-colors ${y?"bg-tech-500/10 border-tech-500/30":"bg-slate-800/50 border-white/10"}`,children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 bg-slate-900/50 p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>w(!1),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${v?"text-slate-400 hover:bg-slate-800":"bg-slate-700 shadow text-white"}`,children:"Them"}),s.jsx("button",{onClick:()=>w(!0),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${v?"bg-tech-500/20 shadow text-tech-400":"text-slate-400 hover:bg-slate-800"}`,children:"Me"})]}),s.jsxs("div",{className:"w-24 relative",children:[s.jsx("input",{type:"time",value:E,onChange:m=>$(m.target.value),className:"w-full h-full p-1.5 pl-7 text-xs bg-slate-800/50 border border-white/10 rounded-lg outline-none focus:border-tech-500 text-white"}),s.jsx(Rn,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"})]})]}),s.jsxs("div",{className:`flex items-center gap-2 border-b pb-2 ${y?"border-tech-500/30":"border-white/10"}`,children:[s.jsxs("button",{onClick:()=>f("text"),className:`flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md transition ${d==="text"?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[s.jsx(fs,{size:14})," Text"]}),s.jsxs("button",{onClick:()=>f("voice"),className:`flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md transition ${d==="voice"?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[s.jsx(Ge,{size:14})," Voice"]})]}),d==="text"?s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:x,onChange:m=>p(m.target.value),placeholder:"Type a message...",className:"w-full p-3 bg-slate-900/50 border border-white/10 rounded-lg text-sm text-white placeholder-slate-500 focus:ring-2 focus:ring-tech-500 outline-none resize-none h-20",onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),Ot())}}),s.jsxs("div",{className:"absolute bottom-2 right-2 text-[10px] text-slate-500",children:[x.length," chars"]})]}):s.jsxs("div",{className:"h-20 flex flex-col justify-center px-2 space-y-2",children:[s.jsx("div",{className:"flex justify-between text-xs text-slate-400",children:s.jsxs("span",{children:["Duration: ",g,"s"]})}),s.jsx("input",{type:"range",min:"1",max:"60",value:g,onChange:m=>b(parseInt(m.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-tech-500"})]}),s.jsxs("div",{className:"flex justify-between items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("label",{className:"cursor-pointer text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Upload Image",children:[s.jsx(kn,{size:18}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:m=>dt(m,"message")})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>F(!R),className:"text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Insert Emoji",children:s.jsx(Be,{size:18})}),R&&s.jsx("div",{className:"absolute bottom-full left-0 mb-2 p-2 bg-slate-800 border border-white/10 rounded-xl shadow-xl z-50 w-64",children:s.jsx("div",{className:"grid grid-cols-8 gap-1 max-h-32 overflow-y-auto",children:da.map((m,k)=>s.jsx("button",{onClick:()=>hn(m),className:"w-7 h-7 flex items-center justify-center text-lg hover:bg-white/10 rounded transition",children:m},k))})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y&&s.jsx("button",{onClick:ze,className:"text-slate-400 hover:text-white px-3 py-2 text-sm font-medium transition",children:"Cancel"}),s.jsxs("button",{onClick:Ot,disabled:d==="text"&&!x.trim(),className:"bg-tech-600 hover:bg-tech-700 text-white px-4 py-2 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[y?s.jsx(as,{size:16}):s.jsx(ts,{size:16}),y?"Update":d==="voice"?"Add Voice":"Add Message"]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:[r.length," messages"]}),s.jsxs("button",{onClick:()=>j(!0),disabled:r.length===0,className:"flex items-center gap-1 text-xs text-slate-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"Batch adjust timestamps",children:[s.jsx(Ut,{size:12}),"Batch Time"]})]}),s.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-1",children:[r.map(m=>s.jsxs("div",{draggable:!0,onDragStart:k=>Ne(k,m.id),onDragOver:k=>me(k,m.id),onDragLeave:ut,onDrop:k=>$e(k,m.id),onDragEnd:Ee,onClick:()=>pn(m),className:`group flex items-center justify-between p-2 rounded-lg border transition cursor-pointer ${y===m.id?"bg-tech-500/10 border-tech-500/30 ring-1 ring-tech-500/30":Y===m.id?"bg-tech-500/5 border-tech-500/20":B===m.id?"opacity-50":"hover:bg-white/5 border-transparent hover:border-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx(Yn,{size:14,className:"text-slate-600 cursor-grab active:cursor-grabbing shrink-0"}),s.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded shrink-0 ${m.isSender?"bg-tech-500/20 text-tech-400":"bg-slate-700 text-slate-300"}`,children:m.isSender?"Me":"Them"}),s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("p",{className:"text-sm text-slate-300 truncate max-w-[120px]",children:m.image?"ðŸ“· [Image]":m.audioDuration?`ðŸŽ¤ Voice (${m.audioDuration}s)`:m.text}),y===m.id&&s.jsx("span",{className:"text-[10px] text-tech-400 font-medium",children:"Editing..."})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("button",{onClick:k=>xn(k,m.id),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-full transition opacity-0 group-hover:opacity-100",title:"Delete",children:s.jsx(Pn,{size:14})})})]},m.id)),r.length===0&&s.jsx("p",{className:"text-center text-xs text-slate-500 py-4",children:"No messages yet."})]})]}),s.jsx(cn,{isOpen:h,onClose:()=>{j(!1),S(0)},title:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(Ut,{size:20,className:"text-tech-400"}),"Batch Time Adjust"]}),maxWidth:"sm",children:s.jsxs("div",{className:"p-6 pt-0",children:[s.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Adjust all message timestamps by a fixed amount."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Time Offset (minutes)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:"-120",max:"120",value:I,onChange:m=>S(parseInt(m.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-tech-500"}),s.jsxs("span",{className:`w-16 text-center text-sm font-medium ${I>0?"text-green-400":I<0?"text-red-400":"text-slate-400"}`,children:[I>0?"+":"",I,"m"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{j(!1),S(0)},className:"flex-1 py-2 rounded-lg text-slate-300 hover:bg-white/10 transition",children:"Cancel"}),s.jsx("button",{onClick:mn,disabled:I===0,className:"flex-1 py-2 rounded-lg bg-tech-600 text-white hover:bg-tech-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Apply"})]})]})]})}),s.jsx(un,{isOpen:A,onClose:()=>{_(!1),z(null)},onConfirm:fn,title:"Import Chat",message:"Import will replace current chat. Continue?",confirmText:"Import",cancelText:"Cancel",type:"warning"}),s.jsx(De,{isOpen:fe,onClose:()=>we(!1),title:"Invalid File",message:"Invalid file format. Please select a valid FakeChat export file.",type:"error"}),s.jsx(De,{isOpen:je,onClose:()=>Z(!1),title:"Parse Error",message:"Failed to parse JSON file. Please check if the file is valid.",type:"error"}),s.jsx("div",{className:"mt-auto pt-6",children:s.jsxs("button",{onClick:i,className:"w-full bg-tech-600 hover:bg-tech-700 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-tech-900/30 transition transform active:scale-95 border border-tech-500/30",children:[s.jsx($n,{size:20}),"Download Screenshot"]})})]})},ki=({isOpen:e,onClose:t,onGenerate:r,isLoading:n,hasApiKey:a})=>{const[l,o]=u.useState(""),[i,c]=u.useState("Casual"),d=f=>{f.preventDefault(),l.trim()&&r(l,i)};return s.jsx(cn,{isOpen:e,onClose:t,title:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(us,{size:20}),"AI Script Generator"]}),s.jsx("p",{className:"text-purple-100 text-sm mt-1",children:"Powered by Google Gemini"})]}),headerClassName:"bg-linear-to-r from-purple-600 to-tech-600 text-white",children:s.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[!a&&s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 flex items-start gap-3 text-amber-200",children:[s.jsx(Ct,{className:"w-5 h-5 text-amber-400 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-amber-400",children:"API Key Required"}),s.jsx("p",{className:"text-sm text-amber-300/70 mt-1",children:"Please configure your Gemini API key in the settings above before generating."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"What is the conversation about?"}),s.jsx("textarea",{value:l,onChange:f=>o(f.target.value),placeholder:"e.g., Breaking up over text, planning a surprise party, complaining about work...",className:"w-full p-3 bg-slate-800/50 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none h-24 resize-none",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tone / Mood"}),s.jsxs("select",{value:i,onChange:f=>c(f.target.value),className:"w-full p-3 bg-slate-800/50 border border-white/10 rounded-xl text-white focus:ring-2 focus:ring-purple-500 outline-none",children:[s.jsx("option",{children:"Casual & Funny"}),s.jsx("option",{children:"Romantic"}),s.jsx("option",{children:"Angry / Argument"}),s.jsx("option",{children:"Formal / Business"}),s.jsx("option",{children:"Sad / Emotional"}),s.jsx("option",{children:"Sarcastic"})]})]}),s.jsx("button",{type:"submit",disabled:n||!l.trim()||!a,className:"w-full bg-tech-600 text-white py-3 rounded-xl font-medium hover:bg-tech-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition border border-tech-500/30",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Cn,{className:"animate-spin",size:20}),"Generating Magic..."]}):"Generate Script"})]})})},Si=({apiKey:e,onApiKeyChange:t})=>{const[r,n]=u.useState(!1),[a,l]=u.useState(e),[o,i]=u.useState(!e);u.useEffect(()=>{l(e),i(!e)},[e]);const c=()=>{t(a.trim()),i(!1)},d=()=>{l(""),t(""),i(!0)},f=e?`${e.slice(0,8)}${"â€¢".repeat(20)}${e.slice(-4)}`:"";return s.jsx("div",{className:"w-full mb-6",children:s.jsxs("div",{className:"rounded-xl p-4 bg-dark-card/30 border border-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4 text-tech-400"}),s.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Gemini API Key"}),e&&!o&&s.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:[s.jsx(En,{className:"w-3 h-3"}),"Configured"]})]}),s.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-slate-500 hover:text-tech-400 transition-colors",children:["Get API Key",s.jsx(Fn,{className:"w-3 h-3"})]})]}),o||!e?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:r?"text":"password",value:a,onChange:x=>l(x.target.value),placeholder:"Enter your Gemini API key...",className:"w-full bg-slate-800/50 border border-white/10 rounded-lg px-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-tech-500/50 focus:ring-1 focus:ring-tech-500/20 transition-all pr-10"}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition-colors",children:r?s.jsx(_t,{className:"w-4 h-4"}):s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:c,disabled:!a.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${a.trim()?"bg-tech-500 text-white hover:bg-tech-600":"bg-slate-800/50 text-slate-500 cursor-not-allowed"}`,children:"Save"})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-slate-800/50 border border-white/10 rounded-lg px-4 py-2.5 text-sm text-slate-400 font-mono truncate",children:r?e:f}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"p-2.5 bg-slate-800/50 border border-white/10 rounded-lg text-slate-400 hover:text-white hover:border-tech-500/30 transition-all",children:r?s.jsx(_t,{className:"w-4 h-4"}):s.jsx(zt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{l(e),i(!0)},className:"px-3 py-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-slate-400 hover:text-white hover:border-tech-500/30 transition-all",children:"Edit"}),s.jsx("button",{onClick:d,className:"px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-lg text-sm text-red-400 hover:bg-red-500/20 hover:border-red-500/30 transition-all",children:"Clear"})]}),s.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Your API key is stored locally in your browser and never sent to any server other than Google's Gemini API."})]})})},$i=async(e,t,r,n)=>{const a=new An({apiKey:n}),l="gemini-2.5-flash",o=`Generate a realistic chat conversation script in Traditional Chinese (Taiwanese style) between two people.
  Platform style: ${t}.
  Topic: ${e}.
  Mood: ${r}.
  Length: 5-8 messages.
  Include emojis appropriate for the platform.
  Return a JSON array where each item has 'text' (string), 'isSender' (boolean, true for 'Me', false for 'Partner'), and 'timeOffset' (minutes from start).`;try{const i=await a.models.generateContent({model:l,contents:o,config:{responseMimeType:"application/json",responseSchema:{type:Te.ARRAY,items:{type:Te.OBJECT,properties:{text:{type:Te.STRING},isSender:{type:Te.BOOLEAN},timeOffset:{type:Te.INTEGER}},required:["text","isSender","timeOffset"]}}}}),c=JSON.parse(i.text||"[]"),d=new Date;return d.setHours(12,0,0,0),c.map((f,x)=>{const g=new Date(d.getTime()+f.timeOffset*6e4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:`gen-${Date.now()}-${x}`,text:f.text,isSender:f.isSender,timestamp:g,isRead:!0}})}catch(i){throw console.error("Gemini Generation Error:",i),new Error("Failed to generate conversation.")}},gr="fakechat_gemini_api_key",Ci=()=>{const[e,t]=u.useState("instagram"),[r,n]=u.useState(er),[a,l]=u.useState(Zt),[o,i]=u.useState(!1),[c,d]=u.useState(!1),[f,x]=u.useState(""),[p,g]=u.useState(!1),[b,v]=u.useState(!1),[w,y]=u.useState(!1),[T,E]=u.useState(!1),$=u.useRef(null);u.useEffect(()=>{const A=wn(gr);A&&x(A)},[]);const R=A=>{x(A),jn(gr,A||null)},F=async()=>{if($.current)try{const A=await ca($.current,{pixelRatio:2,skipAutoScale:!0}),_=document.createElement("a");_.download=`fakechat-${e}-${Date.now()}.png`,_.href=A,_.click()}catch(A){console.error("Failed to generate image",A),g(!0)}},h=async(A,_)=>{if(!f){v(!0);return}d(!0);try{const M=await $i(A,e,_,f);n(M),i(!1)}catch{y(!0)}finally{d(!1)}},j=(A,_)=>{n(M=>M.map(z=>z.id===A?{...z,..._}:z))},I=()=>{E(!0)},S=()=>{n(er),l(Zt)};return s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs(yn,{to:"/tools",className:"inline-flex items-center gap-2 text-slate-400 hover:text-tech-400 transition-colors mb-8 group",children:[s.jsx(br,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),s.jsx("span",{className:"text-sm font-medium",children:"Back to Tools"})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"p-3 bg-tech-500/10 rounded-xl text-tech-400 border border-tech-500/20",children:s.jsx(wr,{size:28})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Fake Chat"}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create realistic chat screenshots for mockups"})]})]}),s.jsx("div",{className:"rounded-2xl overflow-hidden border border-white/10 bg-dark-card/30",children:s.jsxs("div",{className:"flex flex-col lg:flex-row min-h-[700px]",children:[s.jsx("div",{className:"w-full lg:w-[420px] lg:shrink-0 border-b lg:border-b-0 lg:border-r border-white/10",children:s.jsx(Ei,{settings:a,setSettings:l,messages:r,setMessages:n,platform:e,setPlatform:t,onGenerateAI:()=>i(!0),onDownload:F,onReset:I})}),s.jsxs("div",{className:"flex-1 bg-slate-900/50 flex items-center justify-center p-4 lg:p-8 relative min-h-[500px] lg:min-h-0",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(rgba(56,189,248,0.03)_1px,transparent_1px)] bg-size-[16px_16px] pointer-events-none"}),s.jsx(Pr,{ref:$,platform:e,messages:r,settings:a,onUpdateMessage:j})]})]})}),s.jsx("div",{className:"mt-8",children:s.jsx(Si,{apiKey:f,onApiKeyChange:R})}),s.jsx(ki,{isOpen:o,onClose:()=>i(!1),onGenerate:h,isLoading:c,hasApiKey:!!f}),s.jsx(De,{isOpen:p,onClose:()=>g(!1),title:"Image Generation Failed",message:"Could not generate image. Please try again.",type:"error"}),s.jsx(De,{isOpen:b,onClose:()=>v(!1),title:"API Key Required",message:"Please enter your Gemini API key first.",type:"warning"}),s.jsx(De,{isOpen:w,onClose:()=>y(!1),title:"AI Generation Failed",message:"AI Generation failed. Please check your API key or try again.",type:"error"}),s.jsx(un,{isOpen:T,onClose:()=>E(!1),onConfirm:S,title:"Reset Chat",message:"Reset all messages and settings?",confirmText:"Reset",cancelText:"Cancel",type:"danger"})]})};function qi(){return[{title:"Fake Chat | Carry"},{property:"og:title",content:"Fake Chat"},{name:"description",content:"Fake Chat - Create realistic fake chat screenshots for Instagram, LINE, and Messenger."}]}const Ki=vn(Ci);export{Ki as default,qi as meta};

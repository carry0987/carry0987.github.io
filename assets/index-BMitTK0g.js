const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pose-BnXWvipQ.js","assets/chunk-FGUA77HG-CzwAwkYg.js"])))=>i.map(i=>d[i]);
import{a,p as e,R as V,w as _}from"./chunk-FGUA77HG-CzwAwkYg.js";import{e as G,b as R,_ as z,v as Z,C as I,u as B}from"./constants-CdPJUcTm.js";import{u as L}from"./usePageVisibility-X4WVxAMI.js";import{s as Y,E as H}from"./Environment-DcPxxB4s.js";import{E as U,V as N,j as q,g as A,e as W,J as X}from"./three.module-BciEV48b.js";import{O as J,b as K,F as M,a as F,c as Q,d as ee}from"./XMarkIcon-DCGP3ysC.js";const te=Y({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new A,sectionColor:new A,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new N,worldPlanePosition:new N},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Z>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),re=a.forwardRef(({args:r,cellColor:t="#000000",sectionColor:n="#2080ff",cellSize:i=.5,sectionSize:s=1,followCamera:m=!1,infiniteGrid:c=!1,fadeDistance:d=100,fadeStrength:h=1,fadeFrom:u=1,cellThickness:o=.5,sectionThickness:p=1,side:x=q,...v},j)=>{G({GridMaterial:te});const b=a.useRef(null);a.useImperativeHandle(j,()=>b.current,[]);const C=new U,S=new N(0,1,0),y=new N(0,0,0);R(g=>{C.setFromNormalAndCoplanarPoint(S,y).applyMatrix4(b.current.matrixWorld);const w=b.current.material,E=w.uniforms.worldCamProjPosition,O=w.uniforms.worldPlanePosition;C.projectPoint(g.camera.position,E.value),O.value.set(0,0,0).applyMatrix4(b.current.matrixWorld)});const l={cellSize:i,sectionSize:s,cellColor:t,sectionColor:n,cellThickness:o,sectionThickness:p},f={fadeDistance:d,fadeStrength:h,fadeFrom:u,infiniteGrid:c,followCamera:m};return a.createElement("mesh",z({ref:b,frustumCulled:!1},v),a.createElement("gridMaterial",z({transparent:!0,"extensions-derivatives":!0,side:x},l,f)),a.createElement("planeGeometry",{args:r}))}),se="modulepreload",ae=function(r){return"/"+r},D={},ne=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let h=function(u){return Promise.all(u.map(o=>Promise.resolve(o).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=h(n.map(u=>{if(u=ae(u),u in D)return;D[u]=!0;const o=u.endsWith(".css"),p=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const x=document.createElement("link");if(x.rel=o?"stylesheet":se,o||(x.as="script"),x.crossOrigin="",x.href=u,d&&x.setAttribute("nonce",d),document.head.appendChild(x),o)return new Promise((v,j)=>{x.addEventListener("load",v),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${u}`)))})}))}function m(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&m(d.reason);return t().catch(m)})};function oe({title:r,titleId:t,...n},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const T=a.forwardRef(oe);function ie({title:r,titleId:t,...n},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{fillRule:"evenodd",d:"M2.25 6a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V6Zm3.97.97a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 0 1-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 0 1 0-1.06Zm4.28 4.28a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))}const le=a.forwardRef(ie);function ce({title:r,titleId:t,...n},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const de=a.forwardRef(ce);function me({title:r,titleId:t,...n},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const ue=a.forwardRef(me);var k=(r=>(r.CYAN="cyan",r.NEON="neon",r.SUNSET="sunset",r.MATRIX="matrix",r))(k||{});const P={cyan:{bone:"#00e5ff",emissive:"#0044aa",joint:"#ffffff"},neon:{bone:"#ff00ff",emissive:"#aa0066",joint:"#00ffff"},sunset:{bone:"#ff6b35",emissive:"#cc3300",joint:"#ffd93d"},matrix:{bone:"#00ff41",emissive:"#008f11",joint:"#39ff14"}},xe=[[11,12],[11,13],[13,15],[12,14],[14,16],[11,23],[12,24],[23,24],[23,25],[25,27],[24,26],[26,28],[0,11],[0,12]],fe=(r,t,n)=>{r.lerp(t,n)},he=({start:r,end:t,thickness:n,colorScheme:i})=>{const s=a.useRef(null),m=P[i];return R(()=>{if(s.current){const c=r.distanceTo(t);if(c<.01){s.current.scale.set(0,0,0);return}s.current.position.lerpVectors(r,t,.5),s.current.lookAt(t),s.current.rotateX(Math.PI/2),s.current.scale.set(1,c,1)}}),e.jsxs("mesh",{ref:s,children:[e.jsx("cylinderGeometry",{args:[n,n,1,8]}),e.jsx("meshStandardMaterial",{color:m.bone,emissive:m.emissive,metalness:.8,roughness:.2})]})},pe=({position:r,size:t,colorScheme:n})=>{const i=a.useRef(null),s=P[n];return R(()=>{i.current&&i.current.position.copy(r)}),e.jsxs("mesh",{ref:i,children:[e.jsx("sphereGeometry",{args:[t,16,16]}),e.jsx("meshStandardMaterial",{color:s.joint,metalness:.5,roughness:.1})]})},ge=({nose:r,leftEar:t,rightEar:n,colorScheme:i})=>{const s=a.useRef(null),m=P[i];return R(()=>{if(s.current){s.current.position.copy(r);const c=new N().subVectors(n,t).normalize(),d=new N(0,1,0),h=new X,u=new N().crossVectors(c,d).normalize(),o=new N().crossVectors(u,c).normalize();h.makeBasis(c,o,u)}}),e.jsxs("group",{ref:s,children:[e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[.25,32,32]}),e.jsx("meshStandardMaterial",{color:m.joint,transparent:!0,opacity:.9})]}),e.jsxs("mesh",{position:[-.1,.05,.2],children:[e.jsx("sphereGeometry",{args:[.04,16,16]}),e.jsx("meshBasicMaterial",{color:"black"})]}),e.jsxs("mesh",{position:[.1,.05,.2],children:[e.jsx("sphereGeometry",{args:[.04,16,16]}),e.jsx("meshBasicMaterial",{color:"black"})]})]})},be=({landmarks:r,config:t})=>{const n=a.useMemo(()=>Array.from({length:33},()=>new N),[]),i=2;return R(()=>{const s=r[0]?.y??.17,m=r[27]?.y??.83,c=r[28]?.y??.83,d=Math.max(m,c),h=d-s,u=h>.1?i/(h*3):1;r.forEach((o,p)=>{if(p<33){const x=(.5-o.y)*3*u,v=(.5-d)*3*u,j=(.5-o.x)*3*u*t.scale,b=(x-v)*t.scale,C=-o.z*2*u*t.scale;fe(n[p],new N(j,b,C),t.smoothing)}})}),r[0].visibility&&r[0].visibility<.5?null:e.jsxs("group",{children:[xe.map(([s,m],c)=>e.jsx(he,{start:n[s],end:n[m],thickness:t.boneThickness,colorScheme:t.colorScheme},`bone-${c}`)),[11,12,13,14,15,16,23,24,25,26,27,28].map(s=>e.jsx(pe,{position:n[s],size:t.jointSize,colorScheme:t.colorScheme},`joint-${s}`)),e.jsx(ge,{nose:n[0],leftEar:n[7],rightEar:n[8],mouthLeft:n[9],mouthRight:n[10],colorScheme:t.colorScheme})]})},ve=({isPaused:r})=>{const{gl:t,scene:n}=B();return a.useEffect(()=>{r&&t.setAnimationLoop(null)},[r,t]),a.useEffect(()=>()=>{n.traverse(i=>{i instanceof W&&(i.geometry?.dispose(),Array.isArray(i.material)?i.material.forEach(s=>s.dispose()):i.material&&i.material.dispose())}),t.dispose()},[t,n]),null},ye=({poseResults:r,config:t})=>{const{isVisible:n}=L(),i=!n,s=a.useRef(null),m=a.useCallback(c=>{const{gl:d}=c;d.setPixelRatio(Math.min(window.devicePixelRatio,2))},[]);return e.jsxs("div",{className:"w-full h-full bg-slate-900 relative",children:[i&&e.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-cyan-400 text-lg font-semibold",children:"Paused"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"3D rendering suspended"})]})}),e.jsxs(I,{ref:s,shadows:!0,camera:{position:[0,2,6],fov:50},frameloop:i?"never":"always",onCreated:m,children:[e.jsx(ve,{isPaused:i}),e.jsx("fog",{attach:"fog",args:["#0f172a",5,20]}),e.jsx("ambientLight",{intensity:.5}),e.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1,castShadow:!0}),e.jsx("pointLight",{position:[-10,-10,-10],intensity:.5}),r&&r.poseLandmarks&&e.jsx(be,{landmarks:r.poseLandmarks,config:t}),e.jsx(re,{infiniteGrid:!0,fadeDistance:30,sectionColor:"#4f46e5",cellColor:"#0f172a"}),e.jsx(H,{preset:"city"}),e.jsx(J,{enablePan:!1,maxPolarAngle:Math.PI/1.5,enableDamping:!0,dampingFactor:.03,autoRotate:!r,autoRotateSpeed:.5})]})]})},je=({onPoseDetected:r,isActive:t,onCameraReady:n,onCameraError:i})=>{const s=a.useRef(null),[m,c]=V.useState(!0),d=a.useRef(0),h=a.useRef(null),{isVisible:u,isVisibleRef:o}=L(),p=!u;return a.useEffect(()=>{if(!t||!s.current)return;const x=s.current;let v=null,j=!1;const b=async()=>{const l=(await ne(()=>import("./pose-BnXWvipQ.js").then(g=>g.p),__vite__mapDeps([0,1]))).Pose,f=new l({locateFile:g=>`/mediapipe/pose/${g}`});f.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5}),f.onResults(g=>{c(!1),n?.(),g.poseLandmarks&&r({poseLandmarks:g.poseLandmarks})}),h.current=f,S()},C=async()=>{if(!(!t||!x)){if(o.current&&x.readyState>=2&&!j&&h.current){j=!0;try{await h.current.send({image:x})}catch(y){console.error("Pose processing error:",y)}finally{j=!1}}d.current=requestAnimationFrame(C)}},S=async()=>{try{v=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}}),s.current&&(s.current.srcObject=v,s.current.onloadedmetadata=()=>{s.current?.play().catch(y=>console.error("Play error:",y)),C()})}catch(y){console.error("Error accessing webcam:",y),c(!1),i?.()}};return b(),()=>{d.current&&cancelAnimationFrame(d.current),v&&v.getTracks().forEach(y=>y.stop()),h.current&&(h.current.close(),h.current=null)}},[t,r,n,i]),t?e.jsxs("div",{className:"fixed bottom-4 left-4 z-50",children:[p&&e.jsx("div",{className:"bg-yellow-500/80 text-white p-2 rounded-lg text-sm mb-2 backdrop-blur-md max-w-xs",children:"Paused (tab not visible)"}),!m&&!s.current?.srcObject&&e.jsx("div",{className:"bg-red-500/80 text-white p-2 rounded-lg text-sm mb-2 backdrop-blur-md max-w-xs",children:"Cannot access camera"}),e.jsxs("div",{className:"relative w-32 h-24 sm:w-48 sm:h-36 rounded-lg overflow-hidden border border-cyan-500/50 shadow-lg bg-black/50",children:[e.jsx("video",{ref:s,className:"w-full h-full object-cover transform -scale-x-100",playsInline:!0,muted:!0}),e.jsx("div",{className:"absolute top-1 left-1 text-[10px] text-white/70 bg-black/40 px-1 rounded",children:"Pose Input"}),m&&t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 text-xs text-cyan-400",children:"Init Vision..."})]})]}):null},$=()=>{const r=Array.from({length:33},()=>({x:.5,y:.5,z:0,visibility:1})),t=(n,i,s)=>{r[n]={x:i,y:s,z:0,visibility:1}};return t(0,.5,.17),t(7,.55,.17),t(8,.45,.17),t(9,.52,.2),t(10,.48,.2),t(11,.6,.3),t(12,.4,.3),t(13,.65,.47),t(14,.35,.47),t(15,.7,.6),t(16,.3,.6),t(23,.55,.53),t(24,.45,.53),t(25,.55,.68),t(26,.45,.68),t(27,.55,.83),t(28,.45,.83),r},we=()=>{const[r,t]=a.useState({poseLandmarks:$()}),[n,i]=a.useState(!0),[s,m]=a.useState(!1),[c,d]=a.useState(!0),[h,u]=a.useState(!1),[o,p]=a.useState({smoothing:.3,scale:1,boneThickness:.06,jointSize:.08,colorScheme:k.CYAN}),x=a.useRef(!1),v=a.useRef($()),j=a.useCallback(l=>{t(l),v.current=l.poseLandmarks},[]),b=a.useCallback(()=>{const l=$();t({poseLandmarks:l}),v.current=l},[]),C=a.useCallback(()=>{i(!1)},[]),S=a.useCallback(()=>{x.current=!0,d(!1),m(!1),i(!1)},[]);a.useEffect(()=>{if(!navigator.mediaDevices){console.warn("mediaDevices API not available (requires HTTPS or localhost)"),x.current=!0,d(!1),i(!1);return}const l=async()=>{if(!x.current)try{const w=(await navigator.mediaDevices.enumerateDevices()).some(E=>E.kind==="videoinput");w!==c&&(d(w),w||m(!1))}catch(g){console.warn("Failed to enumerate devices:",g)}};l(),i(!1);const f=()=>{x.current=!1,l()};return navigator.mediaDevices.addEventListener("devicechange",f),()=>{navigator.mediaDevices.removeEventListener("devicechange",f)}},[c]);const y=[{scheme:k.CYAN,icon:K,label:"Cyan"},{scheme:k.NEON,icon:de,label:"Neon"},{scheme:k.SUNSET,icon:ue,label:"Sunset"},{scheme:k.MATRIX,icon:le,label:"Matrix"}];return e.jsxs("div",{className:"w-full h-screen relative bg-black overflow-hidden text-white select-none font-sans",children:[e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx(ye,{poseResults:r,config:o})}),s&&e.jsx(je,{isActive:s,onPoseDetected:j,onCameraReady:C,onCameraError:S}),n&&e.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-black/90 backdrop-blur-sm transition-opacity duration-500",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-r-transparent border-b-cyan-500 border-l-transparent rounded-full animate-spin mb-4"}),e.jsx("h2",{className:"text-xl font-bold bg-clip-text text-transparent bg-linear-to-r from-cyan-400 to-purple-500",children:"Initializing 3D Scene..."})]}),e.jsx("div",{className:"hidden md:flex absolute top-0 right-0 h-full w-80 p-6 z-40 pointer-events-none flex-col justify-center",children:e.jsxs("div",{className:"pointer-events-auto bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-2xl transform transition-all hover:bg-black/50 hover:border-white/20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1 bg-clip-text text-transparent bg-linear-to-r from-cyan-400 to-blue-600",children:"Motion Capture"}),e.jsx("p",{className:"text-xs text-gray-400 font-mono tracking-wider",children:"3D POSE TRACKING SYSTEM"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>c&&m(!0),className:`flex-1 flex items-center justify-center p-2 rounded-lg transition-all text-xs ${s&&c?"bg-cyan-500/20 border-cyan-500/50 text-cyan-400":c?"bg-white/5 border-transparent hover:bg-white/10 text-gray-400":"bg-orange-500/10 border-orange-500/30 text-orange-400/60 cursor-not-allowed"} border cursor-pointer`,disabled:!c,children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"Camera"]}),e.jsxs("button",{onClick:()=>{m(!1),b()},className:`flex-1 flex items-center justify-center p-2 rounded-lg transition-all text-xs ${s?"bg-white/5 border-transparent hover:bg-white/10 text-gray-400":"bg-purple-500/20 border-purple-500/50 text-purple-400"} border cursor-pointer`,children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Static"]})]}),!c&&e.jsx("p",{className:"text-[10px] text-orange-400 text-center",children:"Camera unavailable - using static mode"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 bg-white/5 p-3 rounded-lg border border-white/5",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s&&r?"bg-green-500 animate-pulse":"bg-cyan-500"}`}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-400 uppercase",children:"Status"}),e.jsx("span",{className:"text-sm font-medium text-white",children:s?r?"Tracking Active":"No Skeleton":"Static Pose"})]}),s?e.jsx(M,{className:"w-5 h-5 text-cyan-500 ml-auto"}):e.jsx(F,{className:"w-5 h-5 text-purple-500 ml-auto"})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Color Scheme"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(({scheme:l,icon:f,label:g})=>e.jsxs("button",{onClick:()=>p(w=>({...w,colorScheme:l})),className:`flex items-center justify-center p-3 rounded-xl transition-all ${o.colorScheme===l?"bg-opacity-20 border-opacity-50":"bg-white/5 border-transparent hover:bg-white/10 text-gray-400"} border cursor-pointer`,style:{backgroundColor:o.colorScheme===l?`${P[l].bone}20`:void 0,borderColor:o.colorScheme===l?`${P[l].bone}80`:void 0,color:o.colorScheme===l?P[l].bone:void 0},children:[e.jsx(f,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-sm",children:g})]},l))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"Smoothing"}),e.jsx("span",{children:o.smoothing.toFixed(2)})]}),e.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o.smoothing,onChange:l=>p(f=>({...f,smoothing:parseFloat(l.target.value)})),className:"range-slider-cyan",style:{background:`linear-gradient(to right, #06b6d4 0%, #22d3ee ${(o.smoothing-.1)/(.9-.1)*100}%, #374151 ${(o.smoothing-.1)/(.9-.1)*100}%, #374151 100%)`}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"Scale"}),e.jsxs("span",{children:[o.scale.toFixed(1),"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:o.scale,onChange:l=>p(f=>({...f,scale:parseFloat(l.target.value)})),className:"range-slider-pink",style:{background:`linear-gradient(to right, #ec4899 0%, #f472b6 ${(o.scale-.5)/(2-.5)*100}%, #374151 ${(o.scale-.5)/(2-.5)*100}%, #374151 100%)`}})]})]}),e.jsxs("button",{onClick:b,className:"mt-6 w-full flex items-center justify-center gap-2 px-4 py-2 bg-cyan-900/50 hover:bg-cyan-700/50 border border-cyan-500/50 rounded-lg text-cyan-100 font-semibold transition-all cursor-pointer",children:[e.jsx(T,{className:"w-4 h-4"}),"Reset Pose"]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 text-[10px] text-gray-600 leading-relaxed text-center",children:s?e.jsxs(e.Fragment,{children:["Stand back so the camera can see your full body.",e.jsx("br",{}),"The 3D Robot will mimic your movements."]}):e.jsxs(e.Fragment,{children:["Enable camera to track your body movements.",e.jsx("br",{}),"Or enjoy the static robot pose."]})})]})}),e.jsx("button",{onClick:()=>u(!h),className:"md:hidden fixed right-4 w-12 h-12 bg-black/20 border border-white/20 rounded-full flex items-center justify-center shadow-lg z-60 transition-all duration-300 bottom-4",children:h?e.jsx(Q,{className:"w-6 h-6 text-white"}):e.jsx(ee,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50",children:e.jsx("div",{className:`transform transition-transform duration-300 ease-out ${h?"translate-y-0":"translate-y-full"}`,children:e.jsxs("div",{className:"bg-black/70 backdrop-blur-xl border-t border-white/10 rounded-t-3xl p-4 pb-8 shadow-2xl max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold bg-clip-text text-transparent bg-linear-to-r from-cyan-400 to-blue-600",children:"Motion Capture"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-mono",children:"3D POSE TRACKING"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/5 px-3 py-2 rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s&&r?"bg-green-500 animate-pulse":"bg-cyan-500"}`}),e.jsx("span",{className:"text-xs text-white",children:s?r?"Tracking":"No Skeleton":"Static"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsxs("button",{onClick:()=>c&&m(!0),className:`flex-1 flex items-center justify-center p-2.5 rounded-xl transition-all text-xs ${s&&c?"bg-cyan-500/20 border-cyan-500/50 text-cyan-400":c?"bg-white/5 border-transparent text-gray-400":"bg-orange-500/10 border-orange-500/30 text-orange-400/60"} border`,disabled:!c,children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"Camera"]}),e.jsxs("button",{onClick:()=>{m(!1),b()},className:`flex-1 flex items-center justify-center p-2.5 rounded-xl transition-all text-xs ${s?"bg-white/5 border-transparent text-gray-400":"bg-purple-500/20 border-purple-500/50 text-purple-400"} border`,children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Static"]})]}),!c&&e.jsx("p",{className:"text-[10px] text-orange-400 text-center mb-4",children:"Camera unavailable"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Color Scheme"}),e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 -mx-1 px-1",children:y.map(({scheme:l,icon:f,label:g})=>e.jsxs("button",{onClick:()=>p(w=>({...w,colorScheme:l})),className:`shrink-0 flex items-center justify-center px-4 py-2.5 rounded-xl transition-all border ${o.colorScheme===l?"":"bg-white/5 border-transparent text-gray-400"}`,style:{backgroundColor:o.colorScheme===l?`${P[l].bone}20`:void 0,borderColor:o.colorScheme===l?`${P[l].bone}80`:void 0,color:o.colorScheme===l?P[l].bone:void 0},children:[e.jsx(f,{className:"w-4 h-4 mr-1.5"}),e.jsx("span",{className:"text-xs",children:g})]},l))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400",children:[e.jsx("span",{children:"Smoothing"}),e.jsx("span",{children:o.smoothing.toFixed(2)})]}),e.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o.smoothing,onChange:l=>p(f=>({...f,smoothing:parseFloat(l.target.value)})),className:"range-slider-cyan",style:{background:`linear-gradient(to right, #06b6d4 0%, #22d3ee ${(o.smoothing-.1)/(.9-.1)*100}%, #374151 ${(o.smoothing-.1)/(.9-.1)*100}%, #374151 100%)`}})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400",children:[e.jsx("span",{children:"Scale"}),e.jsxs("span",{children:[o.scale.toFixed(1),"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:o.scale,onChange:l=>p(f=>({...f,scale:parseFloat(l.target.value)})),className:"range-slider-pink",style:{background:`linear-gradient(to right, #ec4899 0%, #f472b6 ${(o.scale-.5)/(2-.5)*100}%, #374151 ${(o.scale-.5)/(2-.5)*100}%, #374151 100%)`}})]})]}),e.jsxs("button",{onClick:b,className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-2 bg-cyan-900/50 hover:bg-cyan-700/50 border border-cyan-500/50 rounded-lg text-cyan-100 font-semibold transition-all text-sm cursor-pointer",children:[e.jsx(T,{className:"w-4 h-4"}),"Reset Pose"]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-white/10 text-[9px] text-gray-500 text-center",children:s?"Stand back so the camera can see your full body":"Enable camera to track your movements"})]})})})]})},Ee={fullscreen:!0};function Me(){return[{title:"3D Motion Capture"},{property:"og:title",content:"3D Motion Capture"},{name:"description",content:"3D Motion Capture - Real-time pose detection that mirrors your movements onto a 3D robot avatar."}]}const Fe=_(we);export{Fe as default,Ee as handle,Me as meta};

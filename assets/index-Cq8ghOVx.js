import{r as l,j as e,w as I}from"./chunk-JMJ3UQ3L-DWVaYX8b.js";import{c as N}from"./createLucideIcon-pA_Cmp7j.js";import{C as D}from"./circle-alert-DcF6vC4w.js";import{E as C}from"./external-link-DEVUa4rX.js";import{C as E}from"./clock-DN0iNsGB.js";import{C as L}from"./check-DHokvDZO.js";import{T as P}from"./triangle-alert-B0WyaEID.js";import{I as S}from"./image-Bd7riO-R.js";const U=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],w=N("cloud-upload",U);const T=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],A=N("copy",T),_="70f73f1364b5d8c",G="https://api.imgur.com/3/image",j=["image/jpeg","image/png","image/gif","image/webp"],v=10*1024*1024,M=({onFileSelected:t,isUploading:s,previewUrl:a})=>{const[o,i]=l.useState(!1),[n,f]=l.useState(null),x=l.useRef(null),u=l.useRef(0),c=r=>(f(null),j.includes(r.type)?r.size>v?(f(`File is too large. Max size is ${v/1024/1024}MB.`),!1):!0:(f("Invalid file type. Please upload PNG, JPG, GIF, or WEBP."),!1)),p=l.useCallback(r=>{r.preventDefault(),r.stopPropagation(),u.current+=1,r.dataTransfer?.items&&r.dataTransfer.items.length>0&&i(!0)},[]),d=l.useCallback(r=>{r.preventDefault(),r.stopPropagation(),u.current-=1,u.current===0&&i(!1)},[]),h=l.useCallback(r=>{r.preventDefault(),r.stopPropagation()},[]),b=l.useCallback(r=>{if(r.preventDefault(),r.stopPropagation(),i(!1),u.current=0,s)return;const m=r.dataTransfer?.files;if(m&&m.length>0){const g=m[0];c(g)&&t(g)}},[s,t]);l.useEffect(()=>(window.addEventListener("dragenter",p),window.addEventListener("dragleave",d),window.addEventListener("dragover",h),window.addEventListener("drop",b),()=>{window.removeEventListener("dragenter",p),window.removeEventListener("dragleave",d),window.removeEventListener("dragover",h),window.removeEventListener("drop",b)}),[p,d,h,b]);const y=r=>{const m=r.target.files;if(m&&m.length>0){const g=m[0];c(g)&&t(g)}x.current&&(x.current.value="")},k=()=>{s||x.current?.click()};return e.jsxs("div",{className:"w-full max-w-2xl mx-auto mb-8 relative",children:[o&&!s&&e.jsx("div",{className:"fixed inset-0 z-50 bg-tech-600/10 backdrop-blur-sm border-4 border-tech-500 border-dashed m-4 rounded-3xl flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-dark-card p-6 rounded-2xl shadow-xl flex items-center gap-4 animate-bounce border border-tech-500/30",children:[e.jsx(w,{className:"w-10 h-10 text-tech-400"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:"Drop image to upload!"})]})}),e.jsxs("div",{onClick:k,className:`
          relative group cursor-pointer overflow-hidden
          border-3 border-dashed rounded-3xl text-center transition-all duration-300 ease-in-out
          flex flex-col items-center justify-center min-h-80
          ${o?"border-tech-500 bg-tech-500/10 scale-[1.02] shadow-xl ring-4 ring-tech-500/20":"border-white/20 hover:border-tech-400/50 hover:bg-dark-card/50 bg-dark-card/30 hover:shadow-lg"}
          ${s?"border-tech-500/30 cursor-default":""}
          ${n?"border-red-500/50 bg-red-500/10":""}
        `,children:[e.jsx("input",{type:"file",ref:x,className:"hidden",accept:j.join(","),onChange:y,disabled:s}),s?e.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full absolute inset-0 bg-dark-card",children:[a&&e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:a,alt:"Uploading preview",className:"w-full h-full object-cover opacity-20 blur-sm scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-dark-card/50"})]}),e.jsxs("div",{className:"relative z-10 bg-dark-card/90 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-tech-500/30 flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-tech-500/20 border-t-tech-500 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-tech-400"})})]}),e.jsx("h3",{className:"text-lg font-bold text-white mt-4",children:"Uploading..."}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Hold tight, almost there!"})]})]}):e.jsxs("div",{className:"p-10 flex flex-col items-center",children:[e.jsx("div",{className:`
               w-24 h-24 rounded-full flex items-center justify-center mb-6 transition-all duration-500
               ${o?"bg-tech-500/20 scale-110 rotate-3":"bg-white/5 group-hover:bg-tech-500/10 group-hover:scale-105"}
               ${n?"bg-red-500/20":""}
             `,children:n?e.jsx(D,{className:"w-10 h-10 text-red-400"}):e.jsx(w,{className:`w-12 h-12 transition-colors duration-300 ${o?"text-tech-400":"text-slate-500 group-hover:text-tech-400"}`})}),n?e.jsx("div",{className:"text-red-400 mb-2 font-medium bg-red-500/20 px-4 py-2 rounded-lg",children:n}):e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o?"Drop it like it's hot!":"Drag & Drop your image"}),e.jsxs("p",{className:"text-slate-400 mb-8 max-w-sm mx-auto leading-relaxed text-base",children:["Supports JPG, PNG, GIF up to 10MB.",e.jsx("br",{}),"Or"," ",e.jsx("span",{className:"text-tech-400 font-semibold underline decoration-tech-500/50 underline-offset-4 decoration-2",children:"browse"})," ","to choose a file."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-xs font-semibold text-slate-400 border border-white/10",children:"JPG"}),e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-xs font-semibold text-slate-400 border border-white/10",children:"PNG"}),e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-xs font-semibold text-slate-400 border border-white/10",children:"GIF"}),e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-xs font-semibold text-slate-400 border border-white/10",children:"WEBP"})]})]})]})]})},$=({item:t})=>{const[s,a]=l.useState(!1),o=async()=>{try{await navigator.clipboard.writeText(t.link),a(!0),setTimeout(()=>a(!1),2e3)}catch(n){console.error("Failed to copy text: ",n)}},i=n=>new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:"bg-dark-card/50 rounded-xl border border-white/10 shadow-sm overflow-hidden hover:shadow-md hover:border-tech-500/30 transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row h-full",children:[e.jsxs("div",{className:"relative sm:w-48 h-48 sm:h-auto bg-white/5 shrink-0 flex items-center justify-center overflow-hidden border-b sm:border-b-0 sm:border-r border-white/10",children:[e.jsx("img",{src:t.link,alt:"Upload preview",className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center group",children:e.jsx(C,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 drop-shadow-lg transform scale-75 group-hover:scale-100 transition-all"})})]}),e.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h4",{className:"font-semibold text-white text-sm truncate max-w-[200px]",children:[t.id,".",t.type.split("/")[1]]}),e.jsxs("span",{className:"flex items-center text-xs text-slate-500",children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),i(t.timestamp)]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-1 block",children:"Direct Link"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",readOnly:!0,value:t.link,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-tech-500/50 transition-shadow"}),e.jsx("button",{onClick:o,className:`ml-2 p-2 rounded-lg transition-all duration-200 shrink-0 border ${s?"bg-green-500/20 border-green-500/30 text-green-400":"bg-white/5 border-white/10 text-slate-400 hover:bg-tech-500/10 hover:text-tech-400 hover:border-tech-500/30"}`,title:"Copy to clipboard",children:s?e.jsx(L,{className:"w-4 h-4"}):e.jsx(A,{className:"w-4 h-4"})})]})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-slate-500",children:[Math.round(t.size/1024)," KB • ",t.width,"x",t.height]}),e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-tech-400 hover:text-tech-300 transition-colors",children:"View on Imgur →"})]})]})]})})},F=async t=>{const s=new FormData;s.append("image",t),s.append("type","file");try{const a=await fetch(G,{method:"POST",headers:{Authorization:`Client-ID ${_}`},body:s}),o=await a.json();if(!a.ok){const i=o;throw new Error(i.data.error||`Upload failed with status ${a.status}`)}return o}catch(a){throw console.error("Imgur Upload Error:",a),a}},R=()=>{const[t,s]=l.useState(!1),[a,o]=l.useState([]),[i,n]=l.useState(null),[f,x]=l.useState(null),u=async c=>{s(!0),n(null);const p=URL.createObjectURL(c);x(p);try{const d=await F(c);if(d.success){const h={...d.data,localId:crypto.randomUUID(),timestamp:Date.now()};o(b=>[h,...b])}}catch(d){const h=d instanceof Error?d.message:"An unknown error occurred";n(h)}finally{s(!1),URL.revokeObjectURL(p),x(null)}};return e.jsx("div",{className:"min-h-screen text-slate-200 font-sans selection:bg-tech-500/30",children:e.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-4xl sm:text-5xl font-extrabold text-white mb-6 tracking-tight",children:["Upload images"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-linear-to-r from-tech-400 to-cyan-400",children:"instantly"})]}),e.jsx("p",{className:"text-lg sm:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Simple, fast, and anonymous image hosting powered by Imgur. Just drag, drop, and share your link."})]}),i&&e.jsxs("div",{className:"max-w-2xl mx-auto mb-8 bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-4 text-red-200 animate-fadeIn",children:[e.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg shrink-0",children:e.jsx(P,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{className:"flex-1 py-1",children:[e.jsx("h3",{className:"font-bold text-red-400",children:"Upload Failed"}),e.jsx("p",{className:"text-sm text-red-300/70 mt-1 leading-relaxed",children:i})]}),e.jsx("button",{onClick:()=>n(null),className:"text-red-400 hover:text-red-200 hover:bg-red-500/20 rounded-lg p-1 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx(M,{onFileSelected:u,isUploading:t,previewUrl:f}),a.length>0&&e.jsxs("div",{className:"mt-16 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-white/10 pb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(S,{className:"w-6 h-6 text-tech-400"}),"Your Uploads",e.jsx("span",{className:"bg-tech-500/20 text-tech-400 text-sm py-0.5 px-2.5 rounded-full font-bold",children:a.length})]}),e.jsx("button",{onClick:()=>o([]),className:"text-sm text-slate-400 hover:text-red-400 hover:bg-red-500/10 px-3 py-1.5 rounded-lg transition-all font-medium",children:"Clear All"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.map(c=>e.jsx($,{item:c},c.localId))})]})]})})};function V(){return[{title:"Imgur Drop | Carry"},{property:"og:title",content:"Imgur Drop"},{name:"description",content:"Imgur Drop - Simple, fast, and anonymous image hosting. Drag, drop, and share your link instantly."}]}const Z=I(R);export{Z as default,V as meta};

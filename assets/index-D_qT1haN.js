import{a as p,p as t,w as ke,L as Se}from"./chunk-WWGJGFF6-B6u1Qf49.js";import{c as y}from"./createLucideIcon-DTDhPEOD.js";import{A as oe}from"./arrow-left-BA1BmZXV.js";import{I as P}from"./image-2teTneuk.js";import{X as de}from"./x-BoKuTvzl.js";import{W as ue,D as he,L as Ce,G as Ee,T as z}from"./index-DdCA84YG.js";import{C as $e}from"./clock-BYjh2l7s.js";import{U as Re,M as Me}from"./upload-CByFdqjz.js";import{T as Te}from"./trash-2-SEUNApwH.js";const Ie=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Ae=y("battery",Ie);const ze=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V=y("chevron-left",ze);const Pe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],X=y("ellipsis-vertical",Pe);const Le=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],J=y("ellipsis",Le);const De=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],D=y("mic",De);const _e=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Y=y("phone",_e);const Fe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Q=y("play",Fe);const Ge=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ue=y("plus",Ge);const Oe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ve=y("refresh-cw",Oe);const He=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Be=y("save",He);const We=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],qe=y("signal",We);const Ke=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Xe=y("smartphone",Ke);const Je=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],H=y("smile",Je);const Ye=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qe=y("sparkles",Ye);const Ze=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],et=y("type",Ze);const tt=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],st=y("video",tt);const rt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],at=y("wifi",rt);function nt(e,s){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),a=r.createElement("base"),i=r.createElement("a");return r.head.appendChild(a),r.body.appendChild(i),s&&(a.href=s),i.href=e,i.href}const it=(()=>{let e=0;const s=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${s()}${e}`)})();function R(e){const s=[];for(let r=0,a=e.length;r<a;r++)s.push(e[r]);return s}let I=null;function xe(e={}){return I||(e.includeStyleProperties?(I=e.includeStyleProperties,I):(I=R(window.getComputedStyle(document.documentElement)),I))}function _(e,s){const a=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(s);return a?parseFloat(a.replace("px","")):0}function lt(e){const s=_(e,"border-left-width"),r=_(e,"border-right-width");return e.clientWidth+s+r}function ct(e){const s=_(e,"border-top-width"),r=_(e,"border-bottom-width");return e.clientHeight+s+r}function me(e,s={}){const r=s.width||lt(e),a=s.height||ct(e);return{width:r,height:a}}function ot(){let e,s;try{s=process}catch{}const r=s&&s.env?s.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const v=16384;function dt(e){(e.width>v||e.height>v)&&(e.width>v&&e.height>v?e.width>e.height?(e.height*=v/e.width,e.width=v):(e.width*=v/e.height,e.height=v):e.width>v?(e.height*=v/e.width,e.width=v):(e.width*=v/e.height,e.height=v))}function F(e){return new Promise((s,r)=>{const a=new Image;a.onload=()=>{a.decode().then(()=>{requestAnimationFrame(()=>s(a))})},a.onerror=r,a.crossOrigin="anonymous",a.decoding="async",a.src=e})}async function ut(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(s=>`data:image/svg+xml;charset=utf-8,${s}`)}async function ht(e,s,r){const a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),n=document.createElementNS(a,"foreignObject");return i.setAttribute("width",`${s}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${s} ${r}`),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("externalResourcesRequired","true"),i.appendChild(n),n.appendChild(e),ut(i)}const w=(e,s)=>{if(e instanceof s)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===s.name||w(r,s)};function xt(e){const s=e.getPropertyValue("content");return`${e.cssText} content: '${s.replace(/'|"/g,"")}';`}function mt(e,s){return xe(s).map(r=>{const a=e.getPropertyValue(r),i=e.getPropertyPriority(r);return`${r}: ${a}${i?" !important":""};`}).join(" ")}function ft(e,s,r,a){const i=`.${e}:${s}`,n=r.cssText?xt(r):mt(r,a);return document.createTextNode(`${i}{${n}}`)}function Z(e,s,r,a){const i=window.getComputedStyle(e,r),n=i.getPropertyValue("content");if(n===""||n==="none")return;const l=it();try{s.className=`${s.className} ${l}`}catch{return}const c=document.createElement("style");c.appendChild(ft(l,r,i,a)),s.appendChild(c)}function pt(e,s,r){Z(e,s,":before",r),Z(e,s,":after",r)}const ee="application/font-woff",te="image/jpeg",gt={woff:ee,woff2:ee,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:te,jpeg:te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function bt(e){const s=/\.([^./]*?)$/g.exec(e);return s?s[1]:""}function q(e){const s=bt(e).toLowerCase();return gt[s]||""}function yt(e){return e.split(/,/)[1]}function W(e){return e.search(/^(data:)/)!==-1}function wt(e,s){return`data:${s};base64,${e}`}async function fe(e,s,r){const a=await fetch(e,s);if(a.status===404)throw new Error(`Resource "${a.url}" not found`);const i=await a.blob();return new Promise((n,l)=>{const c=new FileReader;c.onerror=l,c.onloadend=()=>{try{n(r({res:a,result:c.result}))}catch(u){l(u)}},c.readAsDataURL(i)})}const B={};function jt(e,s,r){let a=e.replace(/\?.*/,"");return r&&(a=e),/ttf|otf|eot|woff2?/i.test(a)&&(a=a.replace(/.*\//,"")),s?`[${s}]${a}`:a}async function K(e,s,r){const a=jt(e,s,r.includeQueryParams);if(B[a]!=null)return B[a];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const n=await fe(e,r.fetchRequestInit,({res:l,result:c})=>(s||(s=l.headers.get("Content-Type")||""),yt(c)));i=wt(n,s)}catch(n){i=r.imagePlaceholder||"";let l=`Failed to fetch resource: ${e}`;n&&(l=typeof n=="string"?n:n.message),l&&console.warn(l)}return B[a]=i,i}async function vt(e){const s=e.toDataURL();return s==="data:,"?e.cloneNode(!1):F(s)}async function Nt(e,s){if(e.currentSrc){const n=document.createElement("canvas"),l=n.getContext("2d");n.width=e.clientWidth,n.height=e.clientHeight,l?.drawImage(e,0,0,n.width,n.height);const c=n.toDataURL();return F(c)}const r=e.poster,a=q(r),i=await K(r,a,s);return F(i)}async function kt(e,s){var r;try{if(!((r=e?.contentDocument)===null||r===void 0)&&r.body)return await G(e.contentDocument.body,s,!0)}catch{}return e.cloneNode(!1)}async function St(e,s){return w(e,HTMLCanvasElement)?vt(e):w(e,HTMLVideoElement)?Nt(e,s):w(e,HTMLIFrameElement)?kt(e,s):e.cloneNode(pe(e))}const Ct=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",pe=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Et(e,s,r){var a,i;if(pe(s))return s;let n=[];return Ct(e)&&e.assignedNodes?n=R(e.assignedNodes()):w(e,HTMLIFrameElement)&&(!((a=e.contentDocument)===null||a===void 0)&&a.body)?n=R(e.contentDocument.body.childNodes):n=R(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),n.length===0||w(e,HTMLVideoElement)||await n.reduce((l,c)=>l.then(()=>G(c,r)).then(u=>{u&&s.appendChild(u)}),Promise.resolve()),s}function $t(e,s,r){const a=s.style;if(!a)return;const i=window.getComputedStyle(e);i.cssText?(a.cssText=i.cssText,a.transformOrigin=i.transformOrigin):xe(r).forEach(n=>{let l=i.getPropertyValue(n);n==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),w(e,HTMLIFrameElement)&&n==="display"&&l==="inline"&&(l="block"),n==="d"&&s.getAttribute("d")&&(l=`path(${s.getAttribute("d")})`),a.setProperty(n,l,i.getPropertyPriority(n))})}function Rt(e,s){w(e,HTMLTextAreaElement)&&(s.innerHTML=e.value),w(e,HTMLInputElement)&&s.setAttribute("value",e.value)}function Mt(e,s){if(w(e,HTMLSelectElement)){const a=Array.from(s.children).find(i=>e.value===i.getAttribute("value"));a&&a.setAttribute("selected","")}}function Tt(e,s,r){return w(s,Element)&&($t(e,s,r),pt(e,s,r),Rt(e,s),Mt(e,s)),s}async function It(e,s){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const a={};for(let n=0;n<r.length;n++){const c=r[n].getAttribute("xlink:href");if(c){const u=e.querySelector(c),x=document.querySelector(c);!u&&x&&!a[c]&&(a[c]=await G(x,s,!0))}}const i=Object.values(a);if(i.length){const n="http://www.w3.org/1999/xhtml",l=document.createElementNS(n,"svg");l.setAttribute("xmlns",n),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const c=document.createElementNS(n,"defs");l.appendChild(c);for(let u=0;u<i.length;u++)c.appendChild(i[u]);e.appendChild(l)}return e}async function G(e,s,r){return!r&&s.filter&&!s.filter(e)?null:Promise.resolve(e).then(a=>St(a,s)).then(a=>Et(e,a,s)).then(a=>Tt(e,a,s)).then(a=>It(a,s))}const ge=/url\((['"]?)([^'"]+?)\1\)/g,At=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,zt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Pt(e){const s=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${s})(['"]?\\))`,"g")}function Lt(e){const s=[];return e.replace(ge,(r,a,i)=>(s.push(i),r)),s.filter(r=>!W(r))}async function Dt(e,s,r,a,i){try{const n=r?nt(s,r):s,l=q(s);let c;return i||(c=await K(n,l,a)),e.replace(Pt(s),`$1${c}$3`)}catch{}return e}function _t(e,{preferredFontFormat:s}){return s?e.replace(zt,r=>{for(;;){const[a,,i]=At.exec(r)||[];if(!i)return"";if(i===s)return`src: ${a};`}}):e}function be(e){return e.search(ge)!==-1}async function ye(e,s,r){if(!be(e))return e;const a=_t(e,r);return Lt(a).reduce((n,l)=>n.then(c=>Dt(c,l,s,r)),Promise.resolve(a))}async function A(e,s,r){var a;const i=(a=s.style)===null||a===void 0?void 0:a.getPropertyValue(e);if(i){const n=await ye(i,null,r);return s.style.setProperty(e,n,s.style.getPropertyPriority(e)),!0}return!1}async function Ft(e,s){await A("background",e,s)||await A("background-image",e,s),await A("mask",e,s)||await A("-webkit-mask",e,s)||await A("mask-image",e,s)||await A("-webkit-mask-image",e,s)}async function Gt(e,s){const r=w(e,HTMLImageElement);if(!(r&&!W(e.src))&&!(w(e,SVGImageElement)&&!W(e.href.baseVal)))return;const a=r?e.src:e.href.baseVal,i=await K(a,q(a),s);await new Promise((n,l)=>{e.onload=n,e.onerror=s.onImageErrorHandler?(...u)=>{try{n(s.onImageErrorHandler(...u))}catch(x){l(x)}}:l;const c=e;c.decode&&(c.decode=n),c.loading==="lazy"&&(c.loading="eager"),r?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Ut(e,s){const a=R(e.childNodes).map(i=>we(i,s));await Promise.all(a).then(()=>e)}async function we(e,s){w(e,Element)&&(await Ft(e,s),await Gt(e,s),await Ut(e,s))}function Ot(e,s){const{style:r}=e;s.backgroundColor&&(r.backgroundColor=s.backgroundColor),s.width&&(r.width=`${s.width}px`),s.height&&(r.height=`${s.height}px`);const a=s.style;return a!=null&&Object.keys(a).forEach(i=>{r[i]=a[i]}),e}const se={};async function re(e){let s=se[e];if(s!=null)return s;const a=await(await fetch(e)).text();return s={url:e,cssText:a},se[e]=s,s}async function ae(e,s){let r=e.cssText;const a=/url\(["']?([^"')]+)["']?\)/g,n=(r.match(/url\([^)]+\)/g)||[]).map(async l=>{let c=l.replace(a,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),fe(c,s.fetchRequestInit,({result:u})=>(r=r.replace(l,`url(${u})`),[l,u]))});return Promise.all(n).then(()=>r)}function ne(e){if(e==null)return[];const s=[],r=/(\/\*[\s\S]*?\*\/)/gi;let a=e.replace(r,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=i.exec(a);if(u===null)break;s.push(u[0])}a=a.replace(i,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(l,"gi");for(;;){let u=n.exec(a);if(u===null){if(u=c.exec(a),u===null)break;n.lastIndex=c.lastIndex}else c.lastIndex=n.lastIndex;s.push(u[0])}return s}async function Vt(e,s){const r=[],a=[];return e.forEach(i=>{if("cssRules"in i)try{R(i.cssRules||[]).forEach((n,l)=>{if(n.type===CSSRule.IMPORT_RULE){let c=l+1;const u=n.href,x=re(u).then(f=>ae(f,s)).then(f=>ne(f).forEach(b=>{try{i.insertRule(b,b.startsWith("@import")?c+=1:i.cssRules.length)}catch(N){console.error("Error inserting rule from remote css",{rule:b,error:N})}})).catch(f=>{console.error("Error loading remote css",f.toString())});a.push(x)}})}catch(n){const l=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&a.push(re(i.href).then(c=>ae(c,s)).then(c=>ne(c).forEach(u=>{l.insertRule(u,l.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",n)}}),Promise.all(a).then(()=>(e.forEach(i=>{if("cssRules"in i)try{R(i.cssRules||[]).forEach(n=>{r.push(n)})}catch(n){console.error(`Error while reading CSS rules from ${i.href}`,n)}}),r))}function Ht(e){return e.filter(s=>s.type===CSSRule.FONT_FACE_RULE).filter(s=>be(s.style.getPropertyValue("src")))}async function Bt(e,s){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=R(e.ownerDocument.styleSheets),a=await Vt(r,s);return Ht(a)}function je(e){return e.trim().replace(/["']/g,"")}function Wt(e){const s=new Set;function r(a){(a.style.fontFamily||getComputedStyle(a).fontFamily).split(",").forEach(n=>{s.add(je(n))}),Array.from(a.children).forEach(n=>{n instanceof HTMLElement&&r(n)})}return r(e),s}async function qt(e,s){const r=await Bt(e,s),a=Wt(e);return(await Promise.all(r.filter(n=>a.has(je(n.style.fontFamily))).map(n=>{const l=n.parentStyleSheet?n.parentStyleSheet.href:null;return ye(n.cssText,l,s)}))).join(`
`)}async function Kt(e,s){const r=s.fontEmbedCSS!=null?s.fontEmbedCSS:s.skipFonts?null:await qt(e,s);if(r){const a=document.createElement("style"),i=document.createTextNode(r);a.appendChild(i),e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)}}async function Xt(e,s={}){const{width:r,height:a}=me(e,s),i=await G(e,s,!0);return await Kt(i,s),await we(i,s),Ot(i,s),await ht(i,r,a)}async function Jt(e,s={}){const{width:r,height:a}=me(e,s),i=await Xt(e,s),n=await F(i),l=document.createElement("canvas"),c=l.getContext("2d"),u=s.pixelRatio||ot(),x=s.canvasWidth||r,f=s.canvasHeight||a;return l.width=x*u,l.height=f*u,s.skipAutoScale||dt(l),l.style.width=`${x}`,l.style.height=`${f}`,s.backgroundColor&&(c.fillStyle=s.backgroundColor,c.fillRect(0,0,l.width,l.height)),c.drawImage(n,0,0,l.width,l.height),l}async function Yt(e,s={}){return(await Jt(e,s)).toDataURL()}const ie={time:"12:34",batteryLevel:85,partnerName:"Babe â¤ï¸",partnerAvatar:"https://picsum.photos/100/100",myAvatar:"https://picsum.photos/101/101"},le=[{id:"1",text:"Hey! What do you want for dinner tonight?",isSender:!1,timestamp:"12:30",isRead:!0},{id:"2",text:"I want hot pot ðŸ²",isSender:!0,timestamp:"12:31",isRead:!0}],Qt=[{id:"instagram",name:"Instagram",icon:"camera"},{id:"line",name:"LINE",icon:"message-circle"},{id:"telegram",name:"Telegram",icon:"send"},{id:"tiktok",name:"TikTok",icon:"music"}],Zt=["â¤ï¸","ðŸ˜‚","ðŸ˜®","ðŸ˜¢","ðŸ˜¡","ðŸ‘"],ce=e=>{const s=Math.floor(e/60),r=e%60;return`${s}:${r.toString().padStart(2,"0")}`},ve=p.forwardRef(({platform:e,messages:s,settings:r,onUpdateMessage:a},i)=>{const[n,l]=p.useState(null),[c,u]=p.useState(null),x=d=>{if(e!=="instagram")return;const h=setTimeout(()=>{l(d)},500);u(h)},f=()=>{c&&(clearTimeout(c),u(null))},b=d=>{if(n){const E=s.find(k=>k.id===n)?.reaction===d?void 0:d;a(n,{reaction:E}),l(null)}};p.useEffect(()=>{const d=h=>{n&&!h.target.closest(".reaction-picker")&&l(null)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[n]);const N=()=>{switch(e){case"instagram":return t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-100 text-black",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(V,{size:28}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:r.partnerAvatar,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold leading-tight",children:r.partnerName}),t.jsx("p",{className:"text-[10px] text-gray-400 leading-tight",children:"Active now"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-5 text-black",children:[t.jsx(Y,{size:24}),t.jsx(st,{size:26})]})]});case"line":return t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#202732] text-white",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(V,{size:24}),t.jsx("h3",{className:"text-lg font-medium",children:r.partnerName})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Y,{size:20}),t.jsx(X,{size:20})]})]});case"telegram":return t.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#517da2] text-white",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(oe,{size:24}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:r.partnerAvatar,alt:"avatar",className:"w-9 h-9 rounded-full object-cover"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold leading-tight",children:r.partnerName}),t.jsx("p",{className:"text-[11px] text-gray-200 opacity-80 leading-tight",children:"last seen recently"})]})]})]}),t.jsx(X,{size:22})]});case"tiktok":return t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black text-white border-b border-gray-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(V,{size:24}),t.jsx("div",{className:"text-center",children:t.jsx("h3",{className:"text-sm font-bold",children:r.partnerName})})]}),t.jsx(J,{size:24})]})}},$=()=>{switch(e){case"line":return"bg-[#9BB8DB]";case"telegram":return"bg-[#89a2b5]";case"tiktok":return"bg-black";case"instagram":default:return"bg-white"}},S=(d,h,E="bars")=>E==="line"?t.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[t.jsx("div",{className:`p-1.5 rounded-full ${d?"bg-black/20":"bg-gray-200"}`,children:t.jsx(Q,{size:12,fill:"currentColor"})}),t.jsx("div",{className:"flex-1 h-1 bg-gray-300 rounded-full relative overflow-hidden",children:t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1/3 bg-current opacity-50"})}),t.jsx("span",{className:"text-xs font-medium",children:ce(h)})]}):t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-1 rounded-full ${d?"text-white":"text-black"}`,children:t.jsx(Q,{size:14,fill:"currentColor"})}),t.jsx("div",{className:"flex items-end gap-0.5 h-4",children:[...Array(15)].map((k,U)=>t.jsx("div",{className:`w-0.5 rounded-full ${d?"bg-white/80":"bg-black/40"}`,style:{height:`${Math.max(20,Math.random()*100)}%`}},U))}),t.jsx("span",{className:"text-xs",children:ce(h)})]}),C=d=>{const h=d.isSender;if(e==="instagram"){const E=n===d.id;return t.jsxs("div",{className:`flex w-full mb-3 relative group ${h?"justify-end":"justify-start items-end gap-2"}`,children:[!h&&t.jsx("img",{src:r.partnerAvatar,className:"w-7 h-7 rounded-full object-cover mb-1"}),t.jsxs("div",{className:"relative",children:[E&&t.jsx("div",{className:`reaction-picker absolute -top-14 ${h?"right-0":"left-0"} bg-[#262626] rounded-full px-2 py-1.5 flex gap-1 z-30 shadow-xl animate-in zoom-in duration-200`,children:Zt.map(k=>t.jsx("button",{onClick:()=>b(k),className:"w-8 h-8 flex items-center justify-center text-xl hover:scale-125 transition-transform",children:k},k))}),t.jsxs("div",{onMouseDown:()=>x(d.id),onMouseUp:f,onMouseLeave:f,onTouchStart:()=>x(d.id),onTouchEnd:f,onContextMenu:k=>k.preventDefault(),className:`max-w-60 px-4 py-2.5 text-[15px] leading-snug rounded-3xl relative select-none cursor-pointer transition-transform active:scale-95 ${h?"bg-[#3797f0] text-white rounded-br-md":"bg-[#efefef] text-black rounded-bl-md"}`,children:[d.image?t.jsx("img",{src:d.image,className:"rounded-lg max-w-full"}):d.audioDuration?S(h,d.audioDuration,"bars"):d.text,t.jsx("div",{className:`text-[9px] mt-1 text-right ${h?"text-blue-100/80":"text-gray-400"}`,children:d.timestamp})]}),d.reaction&&t.jsx("div",{className:`absolute -bottom-2 ${h?"-left-1":"-right-1"} bg-white border-2 border-white rounded-full p-0.5 w-[22px] h-[22px] flex items-center justify-center shadow-sm z-10 text-[12px]`,children:d.reaction})]})]},d.id)}if(e==="line")return t.jsxs("div",{className:`flex w-full mb-4 ${h?"justify-end":"justify-start items-start gap-2"}`,children:[!h&&t.jsx("img",{src:r.partnerAvatar,className:"w-10 h-10 rounded-full object-cover"}),t.jsxs("div",{className:`flex flex-col ${h?"items-end":"items-start"}`,children:[!h&&t.jsx("span",{className:"text-xs text-gray-600 mb-1 ml-1",children:r.partnerName}),t.jsxs("div",{className:"flex items-end gap-1.5",children:[h&&t.jsxs("div",{className:"flex flex-col items-end text-[10px] text-gray-600 min-w-[30px]",children:[d.isRead&&t.jsx("span",{children:"Read"}),t.jsx("span",{children:d.timestamp})]}),t.jsx("div",{className:`max-w-[220px] px-3 py-2 text-[14px] rounded-2xl shadow-sm relative leading-relaxed wrap-break-words ${h?"bg-[#85E249] text-black after:absolute after:top-2 after:-right-1 after:w-3 after:h-3 after:bg-[#85E249] after:rotate-45":"bg-white text-black after:absolute after:top-2 after:-left-1 after:w-3 after:h-3 after:bg-white after:rotate-45"}`,children:d.image?t.jsx("img",{src:d.image,className:"rounded-lg max-w-full"}):d.audioDuration?S(h,d.audioDuration,"line"):d.text}),!h&&t.jsx("span",{className:"text-[10px] text-gray-600 self-end",children:d.timestamp})]})]})]},d.id);if(e==="telegram")return t.jsxs("div",{className:`flex w-full mb-2 ${h?"justify-end":"justify-start gap-2"}`,children:[!h&&t.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover self-end mb-1"}),t.jsxs("div",{className:`max-w-[75%] px-3 py-1.5 rounded-lg text-[15px] shadow-sm relative min-w-[60px] ${h?"bg-[#eeffde] text-black":"bg-white text-black"}`,children:[t.jsx("div",{className:"wrap-break-words mb-1",children:d.image?t.jsx("img",{src:d.image,className:"rounded-lg max-w-full"}):d.audioDuration?S(h,d.audioDuration,"line"):d.text}),t.jsxs("div",{className:`text-[11px] flex items-center justify-end gap-1 ${h?"text-[#55a060]":"text-gray-400"}`,children:[t.jsx("span",{children:d.timestamp}),h&&t.jsx("span",{className:"font-bold text-[10px]",children:"âœ“âœ“"})]})]})]},d.id);if(e==="tiktok")return t.jsxs("div",{className:`flex w-full mb-3 ${h?"justify-end":"justify-start items-end gap-2"}`,children:[!h&&t.jsx("img",{src:r.partnerAvatar,className:"w-8 h-8 rounded-full object-cover mb-1"}),t.jsxs("div",{className:`max-w-[70%] px-4 py-2.5 text-[15px] rounded-2xl ${h?"bg-[#2CB6D3] text-white rounded-br-sm":"bg-[#383838] text-white rounded-bl-sm"}`,children:[d.image?t.jsx("img",{src:d.image,className:"rounded-lg max-w-full"}):d.audioDuration?S(h,d.audioDuration,"bars"):d.text,t.jsx("div",{className:`text-[9px] mt-1 text-right ${h?"text-white/70":"text-gray-400"}`,children:d.timestamp})]})]},d.id)},g=()=>{switch(e){case"instagram":return t.jsx("div",{className:"px-4 py-3 bg-white flex items-center gap-3 border-t border-gray-100",children:t.jsxs("div",{className:"bg-[#efefef] flex-1 rounded-full px-4 py-2.5 flex items-center gap-2",children:[t.jsx("div",{className:"bg-blue-500 rounded-full p-1 text-white",children:t.jsx(P,{size:12,fill:"white"})}),t.jsx("span",{className:"text-gray-400 text-sm",children:"Message..."}),t.jsxs("div",{className:"ml-auto flex gap-3 text-gray-500",children:[t.jsx(D,{size:20}),t.jsx(P,{size:20}),t.jsx(H,{size:20})]})]})});case"line":return t.jsxs("div",{className:"px-3 py-2 bg-white flex items-center gap-3",children:[t.jsx(J,{size:24,className:"text-gray-400"}),t.jsx(P,{size:24,className:"text-gray-400"}),t.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl px-3 py-2 text-sm text-gray-400",children:"Aa"}),t.jsx(D,{size:20,className:"text-gray-400"})]});case"telegram":return t.jsxs("div",{className:"px-2 py-2 bg-white flex items-center gap-2",children:[t.jsx(H,{size:28,className:"text-gray-400 p-1"}),t.jsx("div",{className:"flex-1 text-lg text-gray-400 pl-1",children:"Message"}),t.jsx(P,{size:28,className:"text-gray-400 p-1"}),t.jsx(D,{size:28,className:"text-gray-400 p-1"})]});case"tiktok":return t.jsxs("div",{className:"px-4 py-3 bg-black border-t border-gray-800 flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 bg-[#252525] rounded-full px-4 py-2.5 flex items-center",children:t.jsx("span",{className:"text-gray-500 text-sm",children:"Send a message..."})}),t.jsx("div",{className:"text-gray-400",children:t.jsx(H,{size:24})})]})}},m=e==="line"?"bg-[#202732] text-white":e==="tiktok"?"bg-black text-white":e==="telegram"?"bg-[#517da2] text-white":"bg-white text-black";return t.jsx("div",{className:"w-full flex justify-center py-4 bg-gray-100 min-h-full",children:t.jsxs("div",{ref:i,className:"relative w-[375px] h-[812px] bg-white shadow-2xl overflow-hidden flex flex-col font-sans",style:{fontFamily:e==="line"?"sans-serif":"inherit"},children:[t.jsxs("div",{className:`px-5 py-2 flex justify-between items-end text-sm font-semibold h-11 ${m} z-10`,children:[t.jsx("div",{className:"tracking-wide",children:r.time}),t.jsxs("div",{className:"flex gap-1.5 items-center",children:[t.jsx(qe,{size:16,className:"fill-current"}),t.jsx(at,{size:16}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"text-xs font-normal",children:[r.batteryLevel,"%"]}),t.jsx(Ae,{size:18,className:"fill-current"})]})]})]}),t.jsx("div",{className:"z-10",children:N()}),t.jsx("div",{className:`flex-1 overflow-y-auto no-scrollbar p-4 flex flex-col ${r.backgroundImage?"bg-no-repeat bg-cover bg-center":$()}`,style:r.backgroundImage?{backgroundImage:`url(${r.backgroundImage})`}:{},children:s.map(C)}),t.jsxs("div",{className:"z-10 relative",children:[g(),t.jsx("div",{className:`absolute bottom-1 left-1/2 transform -translate-x-1/2 w-32 h-1 rounded-full ${e==="tiktok"||e==="line"?"bg-white/20":"bg-black/20"}`})]})]})})});ve.displayName="ChatPreview";const es=({settings:e,setSettings:s,messages:r,setMessages:a,platform:i,setPlatform:n,onGenerateAI:l,onDownload:c,onReset:u})=>{const[x,f]=p.useState("text"),[b,N]=p.useState(""),[$,S]=p.useState(10),[C,g]=p.useState(!0),[m,d]=p.useState(null),[h,E]=p.useState(e.time);p.useEffect(()=>{m||E(e.time)},[e.time,m]);const k=()=>{if(!(x==="text"&&!b.trim()))if(m)a(r.map(o=>{if(o.id===m){const j={id:o.id,isSender:C,timestamp:h,isRead:o.isRead,reaction:o.reaction};return o.image,x==="text"?j.text=b:j.audioDuration=$,j}return o})),L();else{const o={id:Date.now().toString(),isSender:C,timestamp:h,isRead:!0};x==="text"?(o.text=b,N("")):o.audioDuration=$,a([...r,o])}},U=o=>{d(o.id),g(o.isSender),E(o.timestamp),o.audioDuration?(f("voice"),S(o.audioDuration),N("")):(f("text"),N(o.text||""))},L=()=>{d(null),N(""),S(10),f("text"),g(!0),E(e.time)},O=(o,j)=>{if(o.target.files&&o.target.files[0]){const M=URL.createObjectURL(o.target.files[0]);if(j==="message")if(m)a(r.map(T=>T.id===m?{id:T.id,isSender:C,image:M,timestamp:h,isRead:T.isRead,reaction:T.reaction}:T)),L();else{const T={id:Date.now().toString(),image:M,isSender:C,timestamp:h,isRead:!0};a([...r,T])}else j==="partner"?s({...e,partnerAvatar:M}):j==="me"?s({...e,myAvatar:M}):j==="background"&&s({...e,backgroundImage:M})}},Ne=(o,j)=>{o.stopPropagation(),a(r.filter(M=>M.id!==j)),m===j&&L()};return t.jsxs("div",{className:"h-full flex flex-col gap-6 p-4 sm:p-6 overflow-y-auto bg-slate-900/50 text-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"Chat Editor"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{onClick:u,className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors",title:"Reset",children:t.jsx(Ve,{size:18})})})]}),t.jsx("div",{className:"flex p-1 bg-slate-800/50 rounded-xl border border-white/5",children:Qt.map(o=>t.jsx("button",{onClick:()=>n(o.id),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${i===o.id?"bg-tech-500/20 text-tech-400 border border-tech-500/30":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:o.name},o.id))}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Settings"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Time"}),t.jsx("input",{type:"time",value:e.time,onChange:o=>s({...e,time:o.target.value}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Battery %"}),t.jsx("input",{type:"number",min:"1",max:"100",value:e.batteryLevel,onChange:o=>s({...e,batteryLevel:parseInt(o.target.value)}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Partner Name"}),t.jsx("input",{type:"text",value:e.partnerName,onChange:o=>s({...e,partnerName:o.target.value}),className:"w-full p-2 bg-slate-800/50 border border-white/10 rounded-lg text-sm text-white focus:ring-2 focus:ring-tech-500 outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Partner Avatar"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:e.partnerAvatar,className:"w-10 h-10 rounded-full object-cover border border-white/10"}),t.jsxs("label",{className:"cursor-pointer bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 px-3 py-1.5 rounded-md text-xs border border-white/10 transition",children:["Change",t.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>O(o,"partner")})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Chat Background"}),t.jsxs("div",{className:"flex items-center gap-3",children:[e.backgroundImage?t.jsxs("div",{className:"relative w-10 h-10",children:[t.jsx("img",{src:e.backgroundImage,className:"w-full h-full rounded-lg object-cover border border-white/10"}),t.jsx("button",{onClick:()=>s({...e,backgroundImage:void 0}),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600",children:t.jsx(de,{size:10})})]}):t.jsx("div",{className:"w-10 h-10 rounded-lg border border-dashed border-white/20 flex items-center justify-center bg-slate-800/50",children:t.jsx(P,{size:16,className:"text-slate-500"})}),t.jsxs("label",{className:"cursor-pointer bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 px-3 py-1.5 rounded-md text-xs border border-white/10 transition",children:["Upload",t.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>O(o,"background")})]})]})]})]})]}),t.jsx("hr",{className:"border-white/10"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider",children:m?"Editing Message":"Messages"}),t.jsxs("button",{onClick:l,className:"flex items-center gap-1.5 text-xs font-medium text-purple-400 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-full transition-colors border border-purple-500/20",children:[t.jsx(ue,{size:14}),"AI Generate"]})]}),t.jsxs("div",{className:`p-4 rounded-xl border space-y-3 transition-colors ${m?"bg-tech-500/10 border-tech-500/30":"bg-slate-800/50 border-white/10"}`,children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 bg-slate-900/50 p-1 rounded-lg flex gap-1 border border-white/10",children:[t.jsx("button",{onClick:()=>g(!1),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${C?"text-slate-400 hover:bg-slate-800":"bg-slate-700 shadow text-white"}`,children:"Them"}),t.jsx("button",{onClick:()=>g(!0),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${C?"bg-tech-500/20 shadow text-tech-400":"text-slate-400 hover:bg-slate-800"}`,children:"Me"})]}),t.jsxs("div",{className:"w-24 relative",children:[t.jsx("input",{type:"time",value:h,onChange:o=>E(o.target.value),className:"w-full h-full p-1.5 pl-7 text-xs bg-slate-800/50 border border-white/10 rounded-lg outline-none focus:border-tech-500 text-white"}),t.jsx($e,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500"})]})]}),t.jsxs("div",{className:`flex items-center gap-2 border-b pb-2 ${m?"border-tech-500/30":"border-white/10"}`,children:[t.jsxs("button",{onClick:()=>f("text"),className:`flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md transition ${x==="text"?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[t.jsx(et,{size:14})," Text"]}),t.jsxs("button",{onClick:()=>f("voice"),className:`flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md transition ${x==="voice"?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[t.jsx(D,{size:14})," Voice"]})]}),x==="text"?t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{value:b,onChange:o=>N(o.target.value),placeholder:"Type a message...",className:"w-full p-3 bg-slate-900/50 border border-white/10 rounded-lg text-sm text-white placeholder-slate-500 focus:ring-2 focus:ring-tech-500 outline-none resize-none h-20",onKeyDown:o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),k())}}),t.jsxs("div",{className:"absolute bottom-2 right-2 text-[10px] text-slate-500",children:[b.length," chars"]})]}):t.jsxs("div",{className:"h-20 flex flex-col justify-center px-2 space-y-2",children:[t.jsx("div",{className:"flex justify-between text-xs text-slate-400",children:t.jsxs("span",{children:["Duration: ",$,"s"]})}),t.jsx("input",{type:"range",min:"1",max:"60",value:$,onChange:o=>S(parseInt(o.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-tech-500"})]}),t.jsxs("div",{className:"flex justify-between items-center gap-2",children:[t.jsxs("label",{className:"cursor-pointer text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Upload Image",children:[t.jsx(Re,{size:18}),t.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>O(o,"message")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[m&&t.jsx("button",{onClick:L,className:"text-slate-400 hover:text-white px-3 py-2 text-sm font-medium transition",children:"Cancel"}),t.jsxs("button",{onClick:k,disabled:x==="text"&&!b.trim(),className:"bg-tech-600 hover:bg-tech-700 text-white px-4 py-2 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[m?t.jsx(Be,{size:16}):t.jsx(Ue,{size:16}),m?"Update":x==="voice"?"Add Voice":"Add Message"]})]})]})]}),t.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-1",children:[r.map(o=>t.jsxs("div",{onClick:()=>U(o),className:`group flex items-center justify-between p-2 rounded-lg border transition cursor-pointer ${m===o.id?"bg-tech-500/10 border-tech-500/30 ring-1 ring-tech-500/30":"hover:bg-white/5 border-transparent hover:border-white/10"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[t.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${o.isSender?"bg-tech-500/20 text-tech-400":"bg-slate-700 text-slate-300"}`,children:o.isSender?"Me":"Them"}),t.jsxs("div",{className:"flex flex-col overflow-hidden",children:[t.jsx("p",{className:"text-sm text-slate-300 truncate max-w-[150px]",children:o.image?"ðŸ“· [Image]":o.audioDuration?`ðŸŽ¤ Voice (${o.audioDuration}s)`:o.text}),m===o.id&&t.jsx("span",{className:"text-[10px] text-tech-400 font-medium",children:"Editing..."})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("button",{onClick:j=>Ne(j,o.id),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-full transition opacity-0 group-hover:opacity-100",title:"Delete",children:t.jsx(Te,{size:14})})})]},o.id)),r.length===0&&t.jsx("p",{className:"text-center text-xs text-slate-500 py-4",children:"No messages yet."})]})]}),t.jsx("div",{className:"mt-auto pt-6",children:t.jsxs("button",{onClick:c,className:"w-full bg-tech-600 hover:bg-tech-700 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-tech-900/30 transition transform active:scale-95 border border-tech-500/30",children:[t.jsx(he,{size:20}),"Download Screenshot"]})})]})},ts=({isOpen:e,onClose:s,onGenerate:r,isLoading:a})=>{const[i,n]=p.useState(""),[l,c]=p.useState("Casual");if(!e)return null;const u=x=>{x.preventDefault(),i.trim()&&r(i,l)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 border border-white/10",children:[t.jsxs("div",{className:"bg-linear-to-r from-purple-600 to-tech-600 p-6 text-white flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[t.jsx(Qe,{size:20}),"AI Script Generator"]}),t.jsx("p",{className:"text-purple-100 text-sm mt-1",children:"Powered by Google Gemini"})]}),t.jsx("button",{onClick:s,className:"text-white/80 hover:text-white transition",children:t.jsx(de,{size:24})})]}),t.jsxs("form",{onSubmit:u,className:"p-6 space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"What is the conversation about?"}),t.jsx("textarea",{value:i,onChange:x=>n(x.target.value),placeholder:"e.g., Breaking up over text, planning a surprise party, complaining about work...",className:"w-full p-3 bg-slate-800/50 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none h-24 resize-none",autoFocus:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tone / Mood"}),t.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"w-full p-3 bg-slate-800/50 border border-white/10 rounded-xl text-white focus:ring-2 focus:ring-purple-500 outline-none",children:[t.jsx("option",{children:"Casual & Funny"}),t.jsx("option",{children:"Romantic"}),t.jsx("option",{children:"Angry / Argument"}),t.jsx("option",{children:"Formal / Business"}),t.jsx("option",{children:"Sad / Emotional"}),t.jsx("option",{children:"Sarcastic"})]})]}),t.jsx("button",{type:"submit",disabled:a||!i.trim(),className:"w-full bg-tech-600 text-white py-3 rounded-xl font-medium hover:bg-tech-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition border border-tech-500/30",children:a?t.jsxs(t.Fragment,{children:[t.jsx(Ce,{className:"animate-spin",size:20}),"Generating Magic..."]}):"Generate Script"})]})]})})};var ss={};const rs=new Ee({apiKey:ss.API_KEY}),as=async(e,s,r)=>{const a="gemini-2.5-flash",i=`Generate a realistic chat conversation script in Traditional Chinese (Taiwanese style) between two people.
  Platform style: ${s}.
  Topic: ${e}.
  Mood: ${r}.
  Length: 5-8 messages.
  Include emojis appropriate for the platform.
  Return a JSON array where each item has 'text' (string), 'isSender' (boolean, true for 'Me', false for 'Partner'), and 'timeOffset' (minutes from start).`;try{const n=await rs.models.generateContent({model:a,contents:i,config:{responseMimeType:"application/json",responseSchema:{type:z.ARRAY,items:{type:z.OBJECT,properties:{text:{type:z.STRING},isSender:{type:z.BOOLEAN},timeOffset:{type:z.INTEGER}},required:["text","isSender","timeOffset"]}}}}),l=JSON.parse(n.text||"[]"),c=new Date;return c.setHours(12,0,0,0),l.map((u,x)=>{const b=new Date(c.getTime()+u.timeOffset*6e4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:`gen-${Date.now()}-${x}`,text:u.text,isSender:u.isSender,timestamp:b,isRead:!0}})}catch(n){throw console.error("Gemini Generation Error:",n),new Error("Failed to generate conversation.")}},ns=()=>{const[e,s]=p.useState("instagram"),[r,a]=p.useState(le),[i,n]=p.useState(ie),[l,c]=p.useState(!1),[u,x]=p.useState(!1),f=p.useRef(null),b=async()=>{if(f.current)try{const g=await Yt(f.current,{pixelRatio:2,skipAutoScale:!0}),m=document.createElement("a");m.download=`fakechat-${e}-${Date.now()}.png`,m.href=g,m.click()}catch(g){console.error("Failed to generate image",g),alert("Could not generate image. Please try again.")}},N=async(g,m)=>{x(!0);try{const d=await as(g,e,m);a(d),c(!1)}catch{alert("AI Generation failed. Please check your API key or try again.")}finally{x(!1)}},$=(g,m)=>{a(d=>d.map(h=>h.id===g?{...h,...m}:h))},S=()=>{confirm("Reset all messages and settings?")&&(a(le),n(ie))},C=[{icon:Xe,title:"Multi-Platform",desc:"Support Instagram, LINE, and Messenger styles"},{icon:ue,title:"AI Generation",desc:"Generate conversations with Gemini AI"},{icon:he,title:"Export as PNG",desc:"Download high-quality screenshot images"}];return t.jsxs("div",{className:"animate-slide-up",children:[t.jsxs(Se,{to:"/tools",className:"inline-flex items-center gap-2 text-slate-400 hover:text-tech-400 transition-colors mb-8 group",children:[t.jsx(oe,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to Tools"})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("div",{className:"p-3 bg-tech-500/10 rounded-xl text-tech-400 border border-tech-500/20",children:t.jsx(Me,{size:28})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Fake Chat"}),t.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create realistic chat screenshots for mockups"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:C.map((g,m)=>t.jsxs("div",{className:"p-4 rounded-xl bg-dark-card/30 border border-white/5 hover:border-tech-500/30 transition-all duration-300",children:[t.jsx("div",{className:"p-2 bg-tech-500/10 rounded-lg text-tech-400 w-fit mb-3",children:t.jsx(g.icon,{size:18})}),t.jsx("h4",{className:"text-white font-semibold mb-1",children:g.title}),t.jsx("p",{className:"text-slate-500 text-sm",children:g.desc})]},m))}),t.jsx("div",{className:"rounded-2xl overflow-hidden border border-white/10 bg-dark-card/30",children:t.jsxs("div",{className:"flex flex-col lg:flex-row min-h-[700px]",children:[t.jsx("div",{className:"w-full lg:w-[420px] lg:shrink-0 border-b lg:border-b-0 lg:border-r border-white/10",children:t.jsx(es,{settings:i,setSettings:n,messages:r,setMessages:a,platform:e,setPlatform:s,onGenerateAI:()=>c(!0),onDownload:b,onReset:S})}),t.jsxs("div",{className:"flex-1 bg-slate-900/50 flex items-center justify-center p-4 lg:p-8 relative min-h-[500px] lg:min-h-0",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(rgba(56,189,248,0.03)_1px,transparent_1px)] bg-size-[16px_16px] pointer-events-none"}),t.jsx(ve,{ref:f,platform:e,messages:r,settings:i,onUpdateMessage:$})]})]})}),t.jsx(ts,{isOpen:l,onClose:()=>c(!1),onGenerate:N,isLoading:u})]})};function fs(){return[{title:"Fake Chat | Carry"},{property:"og:title",content:"Fake Chat"},{name:"description",content:"Fake Chat - Create realistic fake chat screenshots for Instagram, LINE, and Messenger."}]}const ps=ke(ns);export{ps as default,fs as meta};

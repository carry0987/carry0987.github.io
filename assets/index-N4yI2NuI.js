import{a as l,p as e,w as I}from"./chunk-FGUA77HG-BxeL2Wrr.js";import{c as j}from"./createLucideIcon-Dgvve5ec.js";import{a as D,C}from"./circle-alert-AyeQLHC9.js";import{E}from"./external-link-YguMNIkP.js";import{C as L}from"./clock-Bo_kypzl.js";import{L as P}from"./layers-CQ4nd1Vg.js";import{I as _}from"./image-D5xSwx5l.js";const A=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],v=j("cloud-upload",A);const M=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],S=j("copy",M);const z=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],U=j("github",z);const T=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$=j("triangle-alert",T),G="b234bda60e00570",F="https://api.imgur.com/3/image",w=["image/jpeg","image/png","image/gif","image/webp"],N=10*1024*1024,R=({onFileSelected:t,isUploading:r,previewUrl:a})=>{const[o,i]=l.useState(!1),[n,p]=l.useState(null),x=l.useRef(null),u=l.useRef(0),c=s=>(p(null),w.includes(s.type)?s.size>N?(p(`File is too large. Max size is ${N/1024/1024}MB.`),!1):!0:(p("Invalid file type. Please upload PNG, JPG, GIF, or WEBP."),!1)),g=l.useCallback(s=>{s.preventDefault(),s.stopPropagation(),u.current+=1,s.dataTransfer?.items&&s.dataTransfer.items.length>0&&i(!0)},[]),d=l.useCallback(s=>{s.preventDefault(),s.stopPropagation(),u.current-=1,u.current===0&&i(!1)},[]),m=l.useCallback(s=>{s.preventDefault(),s.stopPropagation()},[]),f=l.useCallback(s=>{if(s.preventDefault(),s.stopPropagation(),i(!1),u.current=0,r)return;const h=s.dataTransfer?.files;if(h&&h.length>0){const b=h[0];c(b)&&t(b)}},[r,t]);l.useEffect(()=>(window.addEventListener("dragenter",g),window.addEventListener("dragleave",d),window.addEventListener("dragover",m),window.addEventListener("drop",f),()=>{window.removeEventListener("dragenter",g),window.removeEventListener("dragleave",d),window.removeEventListener("dragover",m),window.removeEventListener("drop",f)}),[g,d,m,f]);const y=s=>{const h=s.target.files;if(h&&h.length>0){const b=h[0];c(b)&&t(b)}x.current&&(x.current.value="")},k=()=>{r||x.current?.click()};return e.jsxs("div",{className:"w-full max-w-2xl mx-auto mb-8 relative",children:[o&&!r&&e.jsx("div",{className:"fixed inset-0 z-50 bg-indigo-600/10 backdrop-blur-sm border-4 border-indigo-600 border-dashed m-4 rounded-3xl flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl flex items-center gap-4 animate-bounce",children:[e.jsx(v,{className:"w-10 h-10 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-indigo-900",children:"Drop image to upload!"})]})}),e.jsxs("div",{onClick:k,className:`
          relative group cursor-pointer overflow-hidden
          border-3 border-dashed rounded-3xl text-center transition-all duration-300 ease-in-out
          flex flex-col items-center justify-center min-h-80
          ${o?"border-indigo-500 bg-indigo-50 scale-[1.02] shadow-xl ring-4 ring-indigo-200":"border-slate-300 hover:border-indigo-400 hover:bg-slate-50 bg-white hover:shadow-lg"}
          ${r?"border-indigo-200 cursor-default":""}
          ${n?"border-red-300 bg-red-50":""}
        `,children:[e.jsx("input",{type:"file",ref:x,className:"hidden",accept:w.join(","),onChange:y,disabled:r}),r?e.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full absolute inset-0 bg-white",children:[a&&e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:a,alt:"Uploading preview",className:"w-full h-full object-cover opacity-30 blur-sm scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-indigo-900/10"})]}),e.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-indigo-100 flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-indigo-600"})})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-4",children:"Uploading..."}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Hold tight, almost there!"})]})]}):e.jsxs("div",{className:"p-10 flex flex-col items-center",children:[e.jsx("div",{className:`
               w-24 h-24 rounded-full flex items-center justify-center mb-6 transition-all duration-500
               ${o?"bg-indigo-100 scale-110 rotate-3":"bg-slate-50 group-hover:bg-indigo-50 group-hover:scale-105"}
               ${n?"bg-red-100":""}
             `,children:n?e.jsx(D,{className:"w-10 h-10 text-red-500"}):e.jsx(v,{className:`w-12 h-12 transition-colors duration-300 ${o?"text-indigo-600":"text-slate-400 group-hover:text-indigo-500"}`})}),n?e.jsx("div",{className:"text-red-600 mb-2 font-medium bg-red-100 px-4 py-2 rounded-lg",children:n}):e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:o?"Drop it like it's hot!":"Drag & Drop your image"}),e.jsxs("p",{className:"text-slate-500 mb-8 max-w-sm mx-auto leading-relaxed text-base",children:["Supports JPG, PNG, GIF up to 10MB.",e.jsx("br",{}),"Or"," ",e.jsx("span",{className:"text-indigo-600 font-semibold underline decoration-indigo-300 underline-offset-4 decoration-2",children:"browse"})," ","to choose a file."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-xs font-semibold text-slate-500 border border-slate-200",children:"JPG"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-xs font-semibold text-slate-500 border border-slate-200",children:"PNG"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-xs font-semibold text-slate-500 border border-slate-200",children:"GIF"}),e.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-xs font-semibold text-slate-500 border border-slate-200",children:"WEBP"})]})]})]})]})},B=({item:t})=>{const[r,a]=l.useState(!1),o=async()=>{try{await navigator.clipboard.writeText(t.link),a(!0),setTimeout(()=>a(!1),2e3)}catch(n){console.error("Failed to copy text: ",n)}},i=n=>new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row h-full",children:[e.jsxs("div",{className:"relative sm:w-48 h-48 sm:h-auto bg-slate-100 shrink-0 flex items-center justify-center overflow-hidden border-b sm:border-b-0 sm:border-r border-slate-200",children:[e.jsx("img",{src:t.link,alt:"Upload preview",className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center group",children:e.jsx(E,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 drop-shadow-lg transform scale-75 group-hover:scale-100 transition-all"})})]}),e.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h4",{className:"font-semibold text-slate-800 text-sm truncate max-w-[200px]",children:[t.id,".",t.type.split("/")[1]]}),e.jsxs("span",{className:"flex items-center text-xs text-slate-400",children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),i(t.timestamp)]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider mb-1 block",children:"Direct Link"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",readOnly:!0,value:t.link,className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm text-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-shadow"}),e.jsx("button",{onClick:o,className:`ml-2 p-2 rounded-lg transition-all duration-200 shrink-0 border ${r?"bg-green-50 border-green-200 text-green-600":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}`,title:"Copy to clipboard",children:r?e.jsx(C,{className:"w-4 h-4"}):e.jsx(S,{className:"w-4 h-4"})})]})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-slate-400",children:[Math.round(t.size/1024)," KB • ",t.width,"x",t.height]}),e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"View on Imgur →"})]})]})]})})},O=async t=>{const r=new FormData;r.append("image",t),r.append("type","file");try{const a=await fetch(F,{method:"POST",headers:{Authorization:`Client-ID ${G}`},body:r}),o=await a.json();if(!a.ok){const i=o;throw new Error(i.data.error||`Upload failed with status ${a.status}`)}return o}catch(a){throw console.error("Imgur Upload Error:",a),a}},J=()=>{const[t,r]=l.useState(!1),[a,o]=l.useState([]),[i,n]=l.useState(null),[p,x]=l.useState(null),u=async c=>{r(!0),n(null);const g=URL.createObjectURL(c);x(g);try{const d=await O(c);if(d.success){const m={...d.data,localId:crypto.randomUUID(),timestamp:Date.now()};o(f=>[m,...f])}}catch(d){const m=d instanceof Error?d.message:"An unknown error occurred";n(m)}finally{r(!1),URL.revokeObjectURL(g),x(null)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 pb-20 selection:bg-indigo-100 selection:text-indigo-900 font-sans",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-indigo-200/20 rounded-full blur-3xl -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-blue-200/20 rounded-full blur-3xl translate-y-1/2"})]}),e.jsx("header",{className:"sticky z-10 bg-white/70 backdrop-blur-lg top-0 border-b border-slate-200/60 shadow-sm",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-9 h-9 bg-linear-to-br from-indigo-500 to-violet-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/20 rotate-3 transition-transform hover:rotate-0",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsxs("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:["Imgur",e.jsx("span",{className:"text-indigo-600",children:"Drop"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-xs font-semibold tracking-wide border border-indigo-100",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"API Connected"]}),e.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-slate-800 transition-colors p-2 hover:bg-slate-100 rounded-lg",children:e.jsx(U,{className:"w-5 h-5"})})]})]})}),e.jsxs("main",{className:"relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-4xl sm:text-5xl font-extrabold text-slate-900 mb-6 tracking-tight",children:["Upload images"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-linear-to-r from-indigo-600 to-violet-600",children:"instantly"})]}),e.jsx("p",{className:"text-lg sm:text-xl text-slate-600 max-w-2xl mx-auto leading-relaxed",children:"Simple, fast, and anonymous image hosting powered by Imgur. Just drag, drop, and share your link."})]}),i&&e.jsxs("div",{className:"max-w-2xl mx-auto mb-8 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-4 text-red-700 shadow-sm animate-fadeIn",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg shrink-0",children:e.jsx($,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 py-1",children:[e.jsx("h3",{className:"font-bold text-red-800",children:"Upload Failed"}),e.jsx("p",{className:"text-sm text-red-600 mt-1 leading-relaxed",children:i})]}),e.jsx("button",{onClick:()=>n(null),className:"text-red-400 hover:text-red-700 hover:bg-red-100 rounded-lg p-1 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx(R,{onFileSelected:u,isUploading:t,previewUrl:p}),a.length>0&&e.jsxs("div",{className:"mt-20 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-slate-200 pb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[e.jsx(_,{className:"w-6 h-6 text-indigo-500"}),"Your Uploads",e.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-sm py-0.5 px-2.5 rounded-full font-bold",children:a.length})]}),e.jsx("button",{onClick:()=>o([]),className:"text-sm text-slate-500 hover:text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-lg transition-all font-medium",children:"Clear All"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.map(c=>e.jsx(B,{item:c},c.localId))})]})]}),e.jsx("footer",{className:"relative z-10 border-t border-slate-200 mt-20 bg-slate-50",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["© ",new Date().getFullYear()," ImgurDrop."]}),e.jsxs("div",{className:"flex items-center gap-8 text-sm font-medium",children:[e.jsx("a",{href:"#",className:"text-slate-400 hover:text-indigo-600 transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"text-slate-400 hover:text-indigo-600 transition-colors",children:"Terms of Service"})]})]})})]})},X=I(J);export{X as default};

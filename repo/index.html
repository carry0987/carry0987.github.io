#!/bin/bash

set -e

#Set variable
red='\033[0;31m'
green='\033[0;32m'
plain='\033[0m'
cur_dir=$(pwd)
#Set message color
Info="[${green}Info${plain}]"
Error="[${red}Error${plain}]"

echo '1) Install Main Pkg'
echo '2) Set LC'
echo '3) Tools'
echo '4) Zip Tool'
echo '5) SWAP Tool'
echo '6) Setup BBR'
echo '7) Setup ShadowsocksR'
echo '8) Setup VPN'
echo '9) Setup Vim'
echo '10) Get All Tools'
echo '11) Exit'
read -p 'Which tool do you want to use ? ' tool
#read -p 'Which tool do you want to use ? ' tool </dev/tty

link1=https://raw.github.com/carry0987/Linux-Script/master/Setup/Install-Main-Pkg.sh
link2=https://raw.github.com/carry0987/Linux-Script/master/Setup/Set-LC.sh
link3=https://raw.github.com/carry0987/Linux-Script/master/Tools/tools.sh
link4=https://raw.github.com/carry0987/Linux-Script/master/Tools/zip.sh
link5=https://raw.github.com/carry0987/Linux-Script/master/Swap/swap.sh
link6=https://raw.github.com/carry0987/Linux-Script/master/BBR/bbr.sh
link7=https://raw.github.com/carry0987/Linux-Script/master/SSR/ssr.sh
link8=https://raw.github.com/carry0987/Linux-Script/master/VPN/vpn.sh
link9=https://raw.github.com/carry0987/Linux-Script/master/Vim/vim-setup.sh

#Detect tools
case $tool in
    1)
        wget $link1 -O `basename $link1`
        ;;
    2)
        wget $link2 -O `basename $link2`
        ;;
    3)
        wget $link3 -O `basename $link3`
        chmod +x `basename $link3`
        mv `basename $link3` /usr/local/bin/tools
        ;;
    4)
        wget $link4 -O `basename $link4`
        ;;
    5)
        wget $link5 -O `basename $link5`
        ;;
    6)
        wget $link6 -O `basename $link6`
        ;;
    7)
        wget $link7 -O `basename $link7`
        ;;
    8)
        wget $link8 -O `basename $link8`
        ;;
    9)
        wget $link9 -O `basename $link9`
        ;;
    10)
        declare -a arr=($link{1..12})
        for i in "${arr[@]}"
        do
            #If $i equal to 3, then skip
            if [ $i != $link3 ]; then
                wget "$i" -O `basename "$i"`
                continue
            fi
            wget $i -O `basename $i`
            chmod +x `basename $i`
            mv `basename $i` /usr/local/bin/tools
        done
        ;;
    11)
        echo 'Exited'
        exit 0
        ;;
    *)
        echo 'Tools not supported'
        ;;
esac

exit 0
